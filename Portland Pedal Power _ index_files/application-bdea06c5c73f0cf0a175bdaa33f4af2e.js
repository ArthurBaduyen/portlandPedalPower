/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function css_browser_selector(e){var t=e.toLowerCase(),i=function(e){return t.indexOf(e)>-1},n="gecko",o="webkit",s="safari",r="opera",a="mobile",l=document.documentElement,d=[!/opera|webtv/i.test(t)&&/msie\s(\d)/.test(t)?"ie ie"+RegExp.$1:i("firefox/2")?n+" ff2":i("firefox/3.5")?n+" ff3 ff3_5":i("firefox/3.6")?n+" ff3 ff3_6":i("firefox/3")?n+" ff3":i("gecko/")?n:i("opera")?r+(/version\/(\d+)/.test(t)?" "+r+RegExp.$1:/opera(\s|\/)(\d+)/.test(t)?" "+r+RegExp.$2:""):i("konqueror")?"konqueror":i("blackberry")?a+" blackberry":i("android")?a+" android":i("chrome")?o+" chrome":i("iron")?o+" iron":i("applewebkit/")?o+" "+s+(/version\/(\d+)/.test(t)?" "+s+RegExp.$1:""):i("mozilla/")?n:"",i("j2me")?a+" j2me":i("iphone")?a+" iphone":i("ipod")?a+" ipod":i("ipad")?a+" ipad":i("mac")?"mac":i("darwin")?"mac":i("webtv")?"webtv":i("win")?"win"+(i("windows nt 6.0")?" vista":""):i("freebsd")?"freebsd":i("x11")||i("linux")?"linux":"","js"];return c=d.join(" "),l.className+=" "+c,c}!function(e,t){function i(e){var t=e.length,i=dt.type(e);return dt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Tt[e]={};return dt.each(e.match(ht)||[],function(e,i){t[i]=!0}),t}function o(e,i,n,o){if(dt.acceptData(e)){var s,r,a=dt.expando,l=e.nodeType,c=l?dt.cache:e,d=l?e[a]:e[a]&&a;if(d&&c[d]&&(o||c[d].data)||n!==t||"string"!=typeof i)return d||(d=l?e[a]=tt.pop()||dt.guid++:a),c[d]||(c[d]=l?{}:{toJSON:dt.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[d]=dt.extend(c[d],i):c[d].data=dt.extend(c[d].data,i)),r=c[d],o||(r.data||(r.data={}),r=r.data),n!==t&&(r[dt.camelCase(i)]=n),"string"==typeof i?(s=r[i],null==s&&(s=r[dt.camelCase(i)])):s=r,s}}function s(e,t,i){if(dt.acceptData(e)){var n,o,s=e.nodeType,r=s?dt.cache:e,l=s?e[dt.expando]:dt.expando;if(r[l]){if(t&&(n=i?r[l]:r[l].data)){dt.isArray(t)?t=t.concat(dt.map(t,dt.camelCase)):t in n?t=[t]:(t=dt.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!a(n):!dt.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(s?dt.cleanData([e],!0):dt.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var o="data-"+i.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?dt.parseJSON(n):n}catch(s){}dt.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!dt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(){try{return K.activeElement}catch(e){}}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,i){if(dt.isFunction(t))return dt.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return dt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Wt.test(t))return dt.filter(t,e,i);t=dt.filter(t,e)}return dt.grep(e,function(e){return dt.inArray(e,t)>=0!==i})}function p(e){var t=Yt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return dt.nodeName(e,"table")&&dt.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==dt.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=oi.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)dt._data(i,"globalEval",!t||dt._data(t[n],"globalEval"))}function y(e,t){if(1===t.nodeType&&dt.hasData(e)){var i,n,o,s=dt._data(e),r=dt._data(t,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)dt.event.add(t,i,a[i][n])}r.data&&(r.data=dt.extend({},r.data))}}function b(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!dt.support.noCloneEvent&&t[dt.expando]){o=dt._data(t);for(n in o.events)dt.removeEvent(t,n,o.handle);t.removeAttribute(dt.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),dt.support.html5Clone&&e.innerHTML&&!dt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ti.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function x(e,i){var n,o,s=0,r=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(o=n[s]);s++)!i||dt.nodeName(o,i)?r.push(o):dt.merge(r,x(o,i));return i===t||i&&dt.nodeName(e,i)?dt.merge([e],r):r}function w(e){ti.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=ki.length;o--;)if(t=ki[o]+i,t in e)return t;return n}function C(e,t){return e=t||e,"none"===dt.css(e,"display")||!dt.contains(e.ownerDocument,e)}function k(e,t){for(var i,n,o,s=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(s[r]=dt._data(n,"olddisplay"),i=n.style.display,t?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&C(n)&&(s[r]=dt._data(n,"olddisplay",D(n.nodeName)))):s[r]||(o=C(n),(i&&"none"!==i||!o)&&dt._data(n,"olddisplay",o?i:dt.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[r]||"":"none"));return e}function T(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function S(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=dt.css(e,i+Ci[s],!0,o)),n?("content"===i&&(r-=dt.css(e,"padding"+Ci[s],!0,o)),"margin"!==i&&(r-=dt.css(e,"border"+Ci[s]+"Width",!0,o))):(r+=dt.css(e,"padding"+Ci[s],!0,o),"padding"!==i&&(r+=dt.css(e,"border"+Ci[s]+"Width",!0,o)));return r}function E(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=di(e),r=dt.support.boxSizing&&"border-box"===dt.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=ui(e,t,s),(0>o||null==o)&&(o=e.style[t]),yi.test(o))return o;n=r&&(dt.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+S(e,t,i||(r?"border":"content"),n,s)+"px"}function D(e){var t=K,i=xi[e];return i||(i=A(e,t),"none"!==i&&i||(ci=(ci||dt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ci[0].contentWindow||ci[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=A(e,t),ci.detach()),xi[e]=i),i}function A(e,t){var i=dt(t.createElement(e)).appendTo(t.body),n=dt.css(i[0],"display");return i.remove(),n}function M(e,t,i,n){var o;if(dt.isArray(t))dt.each(t,function(t,o){i||Si.test(e)?n(e,o):M(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==dt.type(t))n(e,t);else for(o in t)M(e+"["+o+"]",t[o],i,n)}function N(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(ht)||[];if(dt.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function P(e,t,i,n){function o(a){var l;return s[a]=!0,dt.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var s={},r=e===$i;return o(t.dataTypes[0])||!s["*"]&&o("*")}function I(e,i){var n,o,s=dt.ajaxSettings.flatOptions||{};for(o in i)i[o]!==t&&((s[o]?e:n||(n={}))[o]=i[o]);return n&&dt.extend(!0,e,n),e}function B(e,i,n){for(var o,s,r,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("Content-Type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}function L(e,t,i,n){var o,s,r,a,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=d.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=d.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=c[l+" "+s]||c["* "+s],!r)for(o in c)if(a=o.split(" "),a[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[o]:c[o]!==!0&&(s=a[0],d.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function H(){return setTimeout(function(){Zi=t}),Zi=dt.now()}function F(e,t,i){for(var n,o=(sn[t]||[]).concat(sn["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,t,e))return n}function z(e,t,i){var n,o,s=0,r=on.length,a=dt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zi||H(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(s);return a.notifyWith(e,[c,s,i]),1>s&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:dt.extend({},t),opts:dt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Zi||H(),duration:i.duration,tweens:[],createTween:function(t,i){var n=dt.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),d=c.props;for(j(d,c.opts.specialEasing);r>s;s++)if(n=on[s].call(c,e,d,c.opts))return n;return dt.map(d,F,c),dt.isFunction(c.opts.start)&&c.opts.start.call(e,c),dt.fx.timer(dt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e,t){var i,n,o,s,r;for(i in e)if(n=dt.camelCase(i),o=t[n],s=e[i],dt.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),r=dt.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=o)}else t[n]=o}function W(e,t,i){var n,o,s,r,a,l,c=this,d={},u=e.style,h=e.nodeType&&C(e),p=dt._data(e,"fxshow");i.queue||(a=dt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,dt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===dt.css(e,"display")&&"none"===dt.css(e,"float")&&(dt.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",dt.support.shrinkWrapBlocks||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],en.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(h?"hide":"show"))continue;d[n]=p&&p[n]||dt.style(e,n)}if(!dt.isEmptyObject(d)){p?"hidden"in p&&(h=p.hidden):p=dt._data(e,"fxshow",{}),s&&(p.hidden=!h),h?dt(e).show():c.done(function(){dt(e).hide()}),c.done(function(){var t;dt._removeData(e,"fxshow");for(t in d)dt.style(e,t,d[t])});for(n in d)r=F(h?p[n]:0,n,c),n in p||(p[n]=r.start,h&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function $(e,t,i,n,o){return new $.prototype.init(e,t,i,n,o)}function q(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=Ci[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function U(e){return dt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y,V,G=typeof t,X=e.location,K=e.document,Q=K.documentElement,Z=e.jQuery,J=e.$,et={},tt=[],it="1.10.2",nt=tt.concat,ot=tt.push,st=tt.slice,rt=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ct=it.trim,dt=function(e,t){return new dt.fn.init(e,t,V)},ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xt=/^-ms-/,wt=/-([\da-z])/gi,_t=function(e,t){return t.toUpperCase()},Ct=function(e){(K.addEventListener||"load"===e.type||"complete"===K.readyState)&&(kt(),dt.ready())},kt=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(K.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};dt.fn=dt.prototype={jquery:it,constructor:dt,init:function(e,i,n){var o,s;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(o[1]){if(i=i instanceof dt?i[0]:i,dt.merge(this,dt.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:K,!0)),mt.test(o[1])&&dt.isPlainObject(i))for(o in i)dt.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(s=K.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(e);this.length=1,this[0]=s}return this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):dt.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),dt.makeArray(e,this))},selector:"",length:0,toArray:function(){return st.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=dt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return dt.each(this,e,t)},ready:function(e){return dt.ready.promise().done(e),this},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(dt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},dt.fn.init.prototype=dt.fn,dt.extend=dt.fn.extend=function(){var e,i,n,o,s,r,a=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},l=2),"object"==typeof a||dt.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(o in s)e=a[o],n=s[o],a!==n&&(d&&n&&(dt.isPlainObject(n)||(i=dt.isArray(n)))?(i?(i=!1,r=e&&dt.isArray(e)?e:[]):r=e&&dt.isPlainObject(e)?e:{},a[o]=dt.extend(d,r,n)):n!==t&&(a[o]=n));return a},dt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===dt&&(e.$=J),t&&e.jQuery===dt&&(e.jQuery=Z),dt},isReady:!1,readyWait:1,holdReady:function(e){e?dt.readyWait++:dt.ready(!0)},ready:function(e){if(e===!0?!--dt.readyWait:!dt.isReady){if(!K.body)return setTimeout(dt.ready);dt.isReady=!0,e!==!0&&--dt.readyWait>0||(Y.resolveWith(K,[dt]),dt.fn.trigger&&dt(K).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===dt.type(e)},isArray:Array.isArray||function(e){return"array"===dt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==dt.type(e)||e.nodeType||dt.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(dt.support.ownLast)for(i in e)return lt.call(e,i);for(i in e);return i===t||lt.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||K;var n=mt.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=dt.buildFragment([e],t,o),o&&dt(o).remove(),dt.merge([],n.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=dt.trim(t),t&&gt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():(dt.error("Invalid JSON: "+t),void 0)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&dt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(xt,"ms-").replace(wt,_t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,r=e.length,a=i(e);if(n){if(a)for(;r>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(a)for(;r>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?dt.merge(n,"string"==typeof e?[e]:e):ot.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(rt)return rt.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,o=e.length,s=0;if("number"==typeof n)for(;n>s;s++)e[o++]=i[s];else for(;i[s]!==t;)e[o++]=i[s++];return e.length=o,e},grep:function(e,t,i){var n,o=[],s=0,r=e.length;for(i=!!i;r>s;s++)n=!!t(e[s],s),i!==n&&o.push(e[s]);return o},map:function(e,t,n){var o,s=0,r=e.length,a=i(e),l=[];if(a)for(;r>s;s++)o=t(e[s],s,n),null!=o&&(l[l.length]=o);else for(s in e)o=t(e[s],s,n),null!=o&&(l[l.length]=o);return nt.apply([],l)},guid:1,proxy:function(e,i){var n,o,s;return"string"==typeof i&&(s=e[i],i=e,e=s),dt.isFunction(e)?(n=st.call(arguments,2),o=function(){return e.apply(i||this,n.concat(st.call(arguments)))},o.guid=e.guid=e.guid||dt.guid++,o):t},access:function(e,i,n,o,s,r,a){var l=0,c=e.length,d=null==n;if("object"===dt.type(n)){s=!0;for(l in n)dt.access(e,i,l,n[l],!0,r,a)}else if(o!==t&&(s=!0,dt.isFunction(o)||(a=!0),d&&(a?(i.call(e,o),i=null):(d=i,i=function(e,t,i){return d.call(dt(e),i)})),i))for(;c>l;l++)i(e[l],n,a?o:o.call(e[l],l,i(e[l],n)));return s?e:d?i.call(e):c?i(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=i.apply(e,n||[]);for(s in t)e.style[s]=r[s];return o}}),dt.ready.promise=function(t){if(!Y)if(Y=dt.Deferred(),"complete"===K.readyState)setTimeout(dt.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{K.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var i=!1;try{i=null==e.frameElement&&K.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!dt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}kt(),dt.ready()}}()}return Y.promise(t)},dt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),V=dt(K),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(e,t){function i(e,t,i,n){var o,s,r,a,l,c,d,u,f,m;if((t?t.ownerDocument||t:z)!==P&&N(t),t=t||P,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(B&&!n){if(o=bt.exec(e))if(r=o[1]){if(9===a){if(s=t.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&H(t,s)&&s.id===r)return i.push(s),i}else{if(o[2])return et.apply(i,t.getElementsByTagName(e)),i;if((r=o[3])&&C.getElementsByClassName&&t.getElementsByClassName)return et.apply(i,t.getElementsByClassName(r)),i}if(C.qsa&&(!L||!L.test(e))){if(u=d=F,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(d=t.getAttribute("id"))?u=d.replace(_t,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+p(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{d||t.removeAttribute("id")}}}return w(e.replace(ct,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>T.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function o(e){return e[F]=!0,e}function s(e){var t=P.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)T.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return o(function(t){return t=+t,o(function(i,n){for(var o,s=e([],i.length,t),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function u(){}function h(e,t){var n,o,s,r,a,l,c,d=q[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=T.preFilter;a;){(!n||(o=ut.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=ht.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ct," ")}),a=a.slice(n.length));for(r in T.filter)!(o=vt[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):q(e,l).slice(0)}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,o=i&&"parentNode"===n,s=W++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,r){var a,l,c,d=j+" "+s;if(r){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=t[F]||(t[F]={}),(l=c[n])&&l[0]===d){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[n]=[d],l[1]=e(t,i,r)||k,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,o))&&(r.push(s),c&&t.push(a));return r}function v(e,t,i,n,s,r){return n&&!n[F]&&(n=v(n)),s&&!s[F]&&(s=v(s,r)),o(function(o,r,a,l){var c,d,u,h=[],p=[],f=r.length,m=o||x(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?m:g(m,h,e,a,l),y=i?s||(o?e:f||n)?[]:r:v;if(i&&i(v,y,a,l),n)for(c=g(y,p),n(c,[],a,l),d=c.length;d--;)(u=c[d])&&(y[p[d]]=!(v[p[d]]=u));if(o){if(s||e){if(s){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(v[d]=u);s(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=s?it.call(o,u):h[d])>-1&&(o[c]=!(r[c]=u))}}else y=g(y===r?y.splice(f,y.length):y),s?s(null,r,y,l):et.apply(r,y)})}function y(e){for(var t,i,n,o=e.length,s=T.relative[e[0].type],r=s||T.relative[" "],a=s?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return it.call(t,e)>-1},r,!0),d=[function(e,i,n){return!s&&(n||i!==A)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];o>a;a++)if(i=T.relative[e[a].type])d=[f(m(d),i)];else{if(i=T.filter[e[a].type].apply(null,e[a].matches),i[F]){for(n=++a;o>n&&!T.relative[e[n].type];n++);return v(a>1&&m(d),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ct,"$1"),i,n>a&&y(e.slice(a,n)),o>n&&y(e=e.slice(n)),o>n&&p(e))}d.push(i)}return m(d)}function b(e,t){var n=0,s=t.length>0,r=e.length>0,a=function(o,a,l,c,d){var u,h,p,f=[],m=0,v="0",y=o&&[],b=null!=d,x=A,w=o||r&&T.find.TAG("*",d&&a.parentNode||a),_=j+=null==x?1:Math.random()||.1;for(b&&(A=a!==P&&a,k=n);null!=(u=w[v]);v++){if(r&&u){for(h=0;p=e[h++];)if(p(u,a,l)){c.push(u);break}b&&(j=_,k=++n)}s&&((u=!p&&u)&&m--,o&&y.push(u))}if(m+=v,s&&v!==m){for(h=0;p=t[h++];)p(y,f,a,l);if(o){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Z.call(c));f=g(f)}et.apply(c,f),b&&!o&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return b&&(j=_,A=x),y};return s?o(a):a}function x(e,t,n){for(var o=0,s=t.length;s>o;o++)i(e,t[o],n);return n}function w(e,t,i,n){var o,s,r,a,l,c=h(e);if(!n&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&C.getById&&9===t.nodeType&&B&&T.relative[s[1].type]){if(t=(T.find.ID(r.matches[0].replace(Ct,kt),t)||[])[0],!t)return i;e=e.slice(s.shift().value.length)}for(o=vt.needsContext.test(e)?0:s.length;o--&&(r=s[o],!T.relative[a=r.type]);)if((l=T.find[a])&&(n=l(r.matches[0].replace(Ct,kt),pt.test(s[0].type)&&t.parentNode||t))){if(s.splice(o,1),e=n.length&&p(s),!e)return et.apply(i,n),i;break}}return D(e,c)(n,t,!B,i,pt.test(e)),i}var _,C,k,T,S,E,D,A,M,N,P,I,B,L,O,R,H,F="sizzle"+-new Date,z=e.document,j=0,W=0,$=n(),q=n(),U=n(),Y=!1,V=function(e,t){return e===t?(Y=!0,0):0},G=typeof t,X=1<<31,K={}.hasOwnProperty,Q=[],Z=Q.pop,J=Q.push,et=Q.push,tt=Q.slice,it=Q.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=st.replace("w","w#"),at="\\["+ot+"*("+st+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+ot+"*\\]",lt=":("+st+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),ut=new RegExp("^"+ot+"*,"+ot+"*"),ht=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),pt=new RegExp(ot+"*[+~]"),ft=new RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),mt=new RegExp(lt),gt=new RegExp("^"+rt+"$"),vt={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/^(?:input|select|textarea|button)$/i,wt=/^h\d$/i,_t=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),kt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{et.apply(Q=tt.call(z.childNodes),z.childNodes),Q[z.childNodes.length].nodeType}catch(Tt){et={apply:Q.length?function(e,t){J.apply(e,tt.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}E=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=i.support={},N=i.setDocument=function(e){var t=e?e.ownerDocument||e:z,i=t.defaultView;return t!==P&&9===t.nodeType&&t.documentElement?(P=t,I=t.documentElement,B=!E(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){N()}),C.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=s(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=s(function(e){return I.appendChild(e).id=F,!t.getElementsByName||!t.getElementsByName(F).length}),C.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==G&&B){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(e){var t=e.replace(Ct,kt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(Ct,kt);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},T.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&B?t.getElementsByClassName(e):void 0},O=[],L=[],(C.qsa=yt.test(t.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+ot+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),s(function(e){var i=t.createElement("input");i.setAttribute("type","hidden"),e.appendChild(i).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=yt.test(R=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(e){C.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),O.push("!=",lt)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),H=yt.test(I.contains)||I.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=I.compareDocumentPosition?function(e,i){if(e===i)return Y=!0,0;var n=i.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(i);return n?1&n||!C.sortDetached&&i.compareDocumentPosition(e)===n?e===t||H(z,e)?-1:i===t||H(z,i)?1:M?it.call(M,e)-it.call(M,i):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,i){var n,o=0,s=e.parentNode,r=i.parentNode,l=[e],c=[i];if(e===i)return Y=!0,0;if(!s||!r)return e===t?-1:i===t?1:s?-1:r?1:M?it.call(M,e)-it.call(M,i):0;if(s===r)return a(e,i);for(n=e;n=n.parentNode;)l.unshift(n);for(n=i;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===z?-1:c[o]===z?1:0},t):P},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==P&&N(e),t=t.replace(ft,"='$1']"),!(!C.matchesSelector||!B||O&&O.test(t)||L&&L.test(t)))try{var n=R.call(e,t);if(n||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return i(t,P,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==P&&N(e),H(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==P&&N(e);var n=T.attrHandle[i.toLowerCase()],o=n&&K.call(T.attrHandle,i.toLowerCase())?n(e,i,!B):t;return o===t?C.attributes||!B?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,o=0;if(Y=!C.detectDuplicates,M=!C.sortStable&&e.slice(0),e.sort(V),Y){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return e},S=i.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n];n++)i+=S(t);return i},T=i.selectors={cacheLength:50,createPseudo:o,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,kt),e[3]=(e[4]||e[5]||"").replace(Ct,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&mt.test(n)&&(i=h(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(o){var s=i.attr(o,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,h,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(s){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(d=g[F]||(g[F]={}),c=d[e]||[],p=c[0]===j&&c[1],h=c[0]===j&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[j,p,h];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===j)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(y&&((u[F]||(u[F]={}))[e]=[j,h]),u!==t)););return h-=o,h===n||0===h%n&&h/n>=0}}},PSEUDO:function(e,t){var n,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[F]?s(t):s.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,i){for(var n,o=s(e,t),r=o.length;r--;)n=it.call(e,o[r]),e[n]=!(i[n]=o[r])}):function(e){return s(e,0,n)}):s}},pseudos:{not:o(function(e){var t=[],i=[],n=D(e.replace(ct,"$1"));return n[F]?o(function(e,t,i,o){for(var s,r=n(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,o,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:o(function(e){return function(t){return i(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:o(function(e){return gt.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Ct,kt).toLowerCase(),function(t){var i;do if(i=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return wt.test(e.nodeName)},input:function(e){return xt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[_]=l(_);for(_ in{submit:!0,reset:!0})T.pseudos[_]=c(_);u.prototype=T.filters=T.pseudos,T.setFilters=new u,D=i.compile=function(e,t){var i,n=[],o=[],s=U[e+" "];if(!s){for(t||(t=h(e)),i=t.length;i--;)s=y(t[i]),s[F]?n.push(s):o.push(s);s=U(e,b(o,n))}return s},C.sortStable=F.split("").sort(V).join("")===F,C.detectDuplicates=Y,N(),C.sortDetached=s(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(nt,function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}),dt.find=i,dt.expr=i.selectors,dt.expr[":"]=dt.expr.pseudos,dt.unique=i.uniqueSort,dt.text=i.getText,dt.isXMLDoc=i.isXML,dt.contains=i.contains}(e);var Tt={};dt.Callbacks=function(e){e="string"==typeof e?Tt[e]||n(e):dt.extend({},e);var i,o,s,r,a,l,c=[],d=!e.once&&[],u=function(t){for(o=e.memory&&t,s=!0,a=l||0,l=0,r=c.length,i=!0;c&&r>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}i=!1,c&&(d?d.length&&u(d.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function n(t){dt.each(t,function(t,i){var o=dt.type(i);"function"===o?e.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?r=c.length:o&&(l=t,u(o))}return this},remove:function(){return c&&dt.each(arguments,function(e,t){for(var n;(n=dt.inArray(t,c,n))>-1;)c.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?dt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=d=o=t,this},disabled:function(){return!c},lock:function(){return d=t,o||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!c||s&&!d||(t=t||[],t=[e,t.slice?t.slice():t],i?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},dt.extend({Deferred:function(e){var t=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return dt.Deferred(function(i){dt.each(t,function(t,s){var r=s[0],a=dt.isFunction(e[t])&&e[t];o[s[1]](function(){var e=a&&a.apply(this,arguments);e&&dt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?dt.extend(e,n):n}},o={};return n.pipe=n.then,dt.each(t,function(e,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,s=st.call(arguments),r=s.length,a=1!==r||e&&dt.isFunction(e.promise)?r:0,l=1===a?e:dt.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?st.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);r>o;o++)s[o]&&dt.isFunction(s[o].promise)?s[o].promise().done(c(o,n,s)).fail(l.reject).progress(c(o,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),dt.support=function(t){var i,n,o,s,r,a,l,c,d,u=K.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;s=K.createElement("select"),a=s.appendChild(K.createElement("option")),o=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==u.className,t.leadingWhitespace=3===u.firstChild.nodeType,t.tbody=!u.getElementsByTagName("tbody").length,t.htmlSerialize=!!u.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!K.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete u.test}catch(h){t.deleteExpando=!1}o=K.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),r=K.createDocumentFragment(),r.appendChild(o),t.appendChecked=o.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip;for(d in dt(t))break;return t.ownLast="0"!==d,dt(function(){var i,n,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=K.getElementsByTagName("body")[0];r&&(i=K.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=u.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",dt.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===u.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(K.createElement("div")),n.style.cssText=u.style.cssText=s,n.style.marginRight=n.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==G&&(u.innerHTML="",u.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=u=o=n=null)}),i=s=r=a=n=o=null,t}({});var St=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;dt.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?dt.cache[e[dt.expando]]:e[dt.expando],!!e&&!a(e)},data:function(e,t,i){return o(e,t,i)},removeData:function(e,t){return s(e,t)},_data:function(e,t,i){return o(e,t,i,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&dt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),dt.fn.extend({data:function(e,i){var n,o,s=null,a=0,l=this[0];if(e===t){if(this.length&&(s=dt.data(l),1===l.nodeType&&!dt._data(l,"parsedAttrs"))){for(n=l.attributes;a<n.length;a++)o=n[a].name,0===o.indexOf("data-")&&(o=dt.camelCase(o.slice(5)),r(l,o,s[o]));dt._data(l,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){dt.data(this,e)}):arguments.length>1?this.each(function(){dt.data(this,e,i)}):l?r(l,e,dt.data(l,e)):null},removeData:function(e){return this.each(function(){dt.removeData(this,e)})}}),dt.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=dt._data(e,t),i&&(!n||dt.isArray(i)?n=dt._data(e,t,dt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=dt.queue(e,t),n=i.length,o=i.shift(),s=dt._queueHooks(e,t),r=function(){dt.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return dt._data(e,i)||dt._data(e,i,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(e,t+"queue"),dt._removeData(e,i)})})}}),dt.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?dt.queue(this[0],e):i===t?this:this.each(function(){var t=dt.queue(this,e,i);dt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&dt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){dt.dequeue(this,e)})},delay:function(e,t){return e=dt.fx?dt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,o=1,s=dt.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=dt._data(r[a],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var Dt,At,Mt=/[\t\r\n\f]/g,Nt=/\r/g,Pt=/^(?:input|select|textarea|button|object)$/i,It=/^(?:a|area)$/i,Bt=/^(?:checked|selected)$/i,Lt=dt.support.getSetAttribute,Ot=dt.support.input;dt.fn.extend({attr:function(e,t){return dt.access(this,dt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){dt.removeAttr(this,e)})},prop:function(e,t){return dt.access(this,dt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=dt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,o,s,r=0,a=this.length,l="string"==typeof e&&e;if(dt.isFunction(e))return this.each(function(t){dt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mt," "):" ")){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i.className=dt.trim(n)}return this},removeClass:function(e){var t,i,n,o,s,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(dt.isFunction(e))return this.each(function(t){dt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mt," "):"")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=e?dt.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):dt.isFunction(e)?this.each(function(i){dt(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=dt(this),s=e.match(ht)||[];t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===G||"boolean"===i)&&(this.className&&dt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":dt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Mt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,o,s=this[0];{if(arguments.length)return o=dt.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=o?e.call(this,i,dt(this).val()):e,null==s?s="":"number"==typeof s?s+="":dt.isArray(s)&&(s=dt.map(s,function(e){return null==e?"":e+""})),n=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==t||(this.value=s))});if(s)return n=dt.valHooks[s.type]||dt.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==t?i:(i=s.value,"string"==typeof i?i.replace(Nt,""):null==i?"":i)}}}),dt.extend({valHooks:{option:{get:function(e){var t=dt.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(dt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&dt.nodeName(i.parentNode,"optgroup"))){if(t=dt(i).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var i,n,o=e.options,s=dt.makeArray(t),r=o.length;r--;)n=o[r],(n.selected=dt.inArray(dt(n).val(),s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}},attr:function(e,i,n){var o,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===G?dt.prop(e,i,n):(1===r&&dt.isXMLDoc(e)||(i=i.toLowerCase(),o=dt.attrHooks[i]||(dt.expr.match.bool.test(i)?At:Dt)),n===t?o&&"get"in o&&null!==(s=o.get(e,i))?s:(s=dt.find.attr(e,i),null==s?t:s):null!==n?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):(dt.removeAttr(e,i),void 0))},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(ht);if(s&&1===e.nodeType)for(;i=s[o++];)n=dt.propFix[i]||i,dt.expr.match.bool.test(i)?Ot&&Lt||!Bt.test(i)?e[n]=!1:e[dt.camelCase("default-"+i)]=e[n]=!1:dt.attr(e,i,""),e.removeAttribute(Lt?i:n)},attrHooks:{type:{set:function(e,t){if(!dt.support.radioValue&&"radio"===t&&dt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var o,s,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!dt.isXMLDoc(e),r&&(i=dt.propFix[i]||i,s=dt.propHooks[i]),n!==t?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:e[i]=n:s&&"get"in s&&null!==(o=s.get(e,i))?o:e[i]},propHooks:{tabIndex:{get:function(e){var t=dt.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||It.test(e.nodeName)&&e.href?0:-1}}}}),At={set:function(e,t,i){return t===!1?dt.removeAttr(e,i):Ot&&Lt||!Bt.test(i)?e.setAttribute(!Lt&&dt.propFix[i]||i,i):e[dt.camelCase("default-"+i)]=e[i]=!0,i}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(e,i){var n=dt.expr.attrHandle[i]||dt.find.attr;dt.expr.attrHandle[i]=Ot&&Lt||!Bt.test(i)?function(e,i,o){var s=dt.expr.attrHandle[i],r=o?t:(dt.expr.attrHandle[i]=t)!=n(e,i,o)?i.toLowerCase():null;return dt.expr.attrHandle[i]=s,r}:function(e,i,n){return n?t:e[dt.camelCase("default-"+i)]?i.toLowerCase():null}}),Ot&&Lt||(dt.attrHooks.value={set:function(e,t,i){return dt.nodeName(e,"input")?(e.defaultValue=t,void 0):Dt&&Dt.set(e,t,i)}}),Lt||(Dt={set:function(e,i,n){var o=e.getAttributeNode(n);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},dt.expr.attrHandle.id=dt.expr.attrHandle.name=dt.expr.attrHandle.coords=function(e,i,n){var o;return n?t:(o=e.getAttributeNode(i))&&""!==o.value?o.value:null},dt.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:Dt.set},dt.attrHooks.contenteditable={set:function(e,t,i){Dt.set(e,""===t?!1:t,i)}},dt.each(["width","height"],function(e,t){dt.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),dt.support.hrefNormalized||dt.each(["href","src"],function(e,t){dt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),dt.support.style||(dt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""
}}),dt.support.optSelected||(dt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.support.enctype||(dt.propFix.enctype="encoding"),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(e,t){return dt.isArray(t)?e.checked=dt.inArray(dt(e).val(),t)>=0:void 0}},dt.support.checkOn||(dt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Rt=/^(?:input|select|textarea)$/i,Ht=/^key/,Ft=/^(?:mouse|contextmenu)|click/,zt=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;dt.event={global:{},add:function(e,i,n,o,s){var r,a,l,c,d,u,h,p,f,m,g,v=dt._data(e);if(v){for(n.handler&&(c=n,n=c.handler,s=c.selector),n.guid||(n.guid=dt.guid++),(a=v.events)||(a=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof dt===G||e&&dt.event.triggered===e.type?t:dt.event.dispatch.apply(u.elem,arguments)},u.elem=e),i=(i||"").match(ht)||[""],l=i.length;l--;)r=jt.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(d=dt.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=dt.event.special[f]||{},h=dt.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&dt.expr.match.needsContext.test(s),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,o,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),dt.event.global[f]=!0);e=null}},remove:function(e,t,i,n,o){var s,r,a,l,c,d,u,h,p,f,m,g=dt.hasData(e)&&dt._data(e);if(g&&(d=g.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(a=jt.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=dt.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,h=d[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)r=h[s],!o&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(s,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(e,r));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||dt.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)dt.event.remove(e,p+t[c],i,n,!0);dt.isEmptyObject(d)&&(delete g.handle,dt._removeData(e,"events"))}},trigger:function(i,n,o,s){var r,a,l,c,d,u,h,p=[o||K],f=lt.call(i,"type")?i.type:i,m=lt.call(i,"namespace")?i.namespace.split("."):[];if(l=u=o=o||K,3!==o.nodeType&&8!==o.nodeType&&!zt.test(f+dt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,i=i[dt.expando]?i:new dt.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=o),n=null==n?[i]:dt.makeArray(n,[i]),d=dt.event.special[f]||{},s||!d.trigger||d.trigger.apply(o,n)!==!1)){if(!s&&!d.noBubble&&!dt.isWindow(o)){for(c=d.delegateType||f,zt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(o.ownerDocument||K)&&p.push(u.defaultView||u.parentWindow||e)}for(h=0;(l=p[h++])&&!i.isPropagationStopped();)i.type=h>1?c:d.bindType||f,r=(dt._data(l,"events")||{})[i.type]&&dt._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&dt.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!s&&!i.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),n)===!1)&&dt.acceptData(o)&&a&&o[f]&&!dt.isWindow(o)){u=o[a],u&&(o[a]=null),dt.event.triggered=f;try{o[f]()}catch(g){}dt.event.triggered=t,u&&(o[a]=u)}return i.result}},dispatch:function(e){e=dt.event.fix(e);var i,n,o,s,r,a=[],l=st.call(arguments),c=(dt._data(this,"events")||{})[e.type]||[],d=dt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=dt.event.handlers.call(this,e,c),i=0;(s=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(o=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,n=((dt.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,o,s,r,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(s=[],r=0;l>r;r++)o=i[r],n=o.selector+" ",s[n]===t&&(s[n]=o.needsContext?dt(n,this).index(c)>=0:dt.find(n,this,null,[c]).length),s[n]&&s.push(o);s.length&&a.push({elem:c,handlers:s})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[dt.expando])return e;var t,i,n,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Ft.test(o)?this.mouseHooks:Ht.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new dt.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||K),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,o,s,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(o=e.target.ownerDocument||K,s=o.documentElement,n=o.body,e.pageX=i.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return dt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=dt.extend(new dt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?dt.event.trigger(o,null,t):dt.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},dt.removeEvent=K.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===G&&(e[n]=null),e.detachEvent(n,i))},dt.Event=function(e,t){return this instanceof dt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&dt.extend(this,t),this.timeStamp=e&&e.timeStamp||dt.now(),this[dt.expando]=!0,void 0):new dt.Event(e,t)},dt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){dt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==n&&!dt.contains(n,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),dt.support.submitBubbles||(dt.event.special.submit={setup:function(){return dt.nodeName(this,"form")?!1:(dt.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=dt.nodeName(i,"input")||dt.nodeName(i,"button")?i.form:t;n&&!dt._data(n,"submitBubbles")&&(dt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),dt._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&dt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return dt.nodeName(this,"form")?!1:(dt.event.remove(this,"._submit"),void 0)}}),dt.support.changeBubbles||(dt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(dt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),dt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),dt.event.simulate("change",this,e,!0)})),!1):(dt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!dt._data(t,"changeBubbles")&&(dt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||dt.event.simulate("change",this.parentNode,e,!0)}),dt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return dt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),dt.support.focusinBubbles||dt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){dt.event.simulate(t,e.target,dt.event.fix(e),!0)};dt.event.special[t]={setup:function(){0===i++&&K.addEventListener(e,n,!0)},teardown:function(){0===--i&&K.removeEventListener(e,n,!0)}}}),dt.fn.extend({on:function(e,i,n,o,s){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],s);return this}if(null==n&&null==o?(o=i,n=i=t):null==o&&("string"==typeof i?(o=n,n=t):(o=n,n=i,i=t)),o===!1)o=c;else if(!o)return this;return 1===s&&(a=o,o=function(e){return dt().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=dt.guid++)),this.each(function(){dt.event.add(this,e,o,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var o,s;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,dt(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){dt.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){dt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?dt.event.trigger(e,t,i,!0):void 0}});var Wt=/^.[^:#\[\.,]*$/,$t=/^(?:parents|prev(?:Until|All))/,qt=dt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(dt(e).filter(function(){for(t=0;o>t;t++)if(dt.contains(n[t],this))return!0}));for(t=0;o>t;t++)dt.find(e,n[t],i);return i=this.pushStack(o>1?dt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=dt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(dt.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&qt.test(e)?dt(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,o=this.length,s=[],r=qt.test(e)||"string"!=typeof e?dt(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&dt.find.matchesSelector(i,e))){i=s.push(i);break}return this.pushStack(s.length>1?dt.unique(s):s)},index:function(e){return e?"string"==typeof e?dt.inArray(this[0],dt(e)):dt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?dt(e,t):dt.makeArray(e&&e.nodeType?[e]:e),n=dt.merge(this.get(),i);return this.pushStack(dt.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),dt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return dt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return dt.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return dt.dir(e,"nextSibling")},prevAll:function(e){return dt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return dt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return dt.dir(e,"previousSibling",i)},siblings:function(e){return dt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return dt.sibling(e.firstChild)},contents:function(e){return dt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:dt.merge([],e.childNodes)}},function(e,t){dt.fn[e]=function(i,n){var o=dt.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=dt.filter(n,o)),this.length>1&&(Ut[e]||(o=dt.unique(o)),$t.test(e)&&(o=o.reverse())),this.pushStack(o)}}),dt.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?dt.find.matchesSelector(n,e)?[n]:[]:dt.find.matches(e,dt.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var o=[],s=e[i];s&&9!==s.nodeType&&(n===t||1!==s.nodeType||!dt(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vt=/ jQuery\d+="(?:null|\d+)"/g,Gt=new RegExp("<(?:"+Yt+")[\\s/>]","i"),Xt=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Zt=/<tbody/i,Jt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,oi=/^true\/(.*)/,si=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ri={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ai=p(K),li=ai.appendChild(K.createElement("div"));ri.optgroup=ri.option,ri.tbody=ri.tfoot=ri.colgroup=ri.caption=ri.thead,ri.th=ri.td,dt.fn.extend({text:function(e){return dt.access(this,function(e){return e===t?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?dt.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||dt.cleanData(x(i)),i.parentNode&&(t&&dt.contains(i.ownerDocument,i)&&v(x(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&dt.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&dt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return dt.clone(this,e,t)})},html:function(e){return dt.access(this,function(e){var i=this[0]||{},n=0,o=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Vt,""):t;if(!("string"!=typeof e||ei.test(e)||!dt.support.htmlSerialize&&Gt.test(e)||!dt.support.leadingWhitespace&&Xt.test(e)||ri[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Kt,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(dt.cleanData(x(i,!1)),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=dt.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],o=e[t++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),dt(this).remove(),o.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=nt.apply([],e);var n,o,s,r,a,l,c=0,d=this.length,u=this,h=d-1,p=e[0],f=dt.isFunction(p);if(f||!(1>=d||"string"!=typeof p||dt.support.checkClone)&&ii.test(p))return this.each(function(n){var o=u.eq(n);f&&(e[0]=p.call(this,n,o.html())),o.domManip(e,t,i)});if(d&&(l=dt.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=dt.map(x(l,"script"),m),s=r.length;d>c;c++)o=l,c!==h&&(o=dt.clone(o,!0,!0),s&&dt.merge(r,x(o,"script"))),t.call(this[c],o,c);if(s)for(a=r[r.length-1].ownerDocument,dt.map(r,g),c=0;s>c;c++)o=r[c],ni.test(o.type||"")&&!dt._data(o,"globalEval")&&dt.contains(a,o)&&(o.src?dt._evalUrl(o.src):dt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(si,"")));l=n=null}return this}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){dt.fn[e]=function(e){for(var i,n=0,o=[],s=dt(e),r=s.length-1;r>=n;n++)i=n===r?this:this.clone(!0),dt(s[n])[t](i),ot.apply(o,i.get());return this.pushStack(o)}}),dt.extend({clone:function(e,t,i){var n,o,s,r,a,l=dt.contains(e.ownerDocument,e);if(dt.support.html5Clone||dt.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(li.innerHTML=e.outerHTML,li.removeChild(s=li.firstChild)),!(dt.support.noCloneEvent&&dt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||dt.isXMLDoc(e)))for(n=x(s),a=x(e),r=0;null!=(o=a[r]);++r)n[r]&&b(o,n[r]);if(t)if(i)for(a=a||x(e),n=n||x(s),r=0;null!=(o=a[r]);r++)y(o,n[r]);else y(e,s);return n=x(s,"script"),n.length>0&&v(n,!l&&x(e,"script")),n=a=o=null,s},buildFragment:function(e,t,i,n){for(var o,s,r,a,l,c,d,u=e.length,h=p(t),f=[],m=0;u>m;m++)if(s=e[m],s||0===s)if("object"===dt.type(s))dt.merge(f,s.nodeType?[s]:s);else if(Jt.test(s)){for(a=a||h.appendChild(t.createElement("div")),l=(Qt.exec(s)||["",""])[1].toLowerCase(),d=ri[l]||ri._default,a.innerHTML=d[1]+s.replace(Kt,"<$1></$2>")+d[2],o=d[0];o--;)a=a.lastChild;if(!dt.support.leadingWhitespace&&Xt.test(s)&&f.push(t.createTextNode(Xt.exec(s)[0])),!dt.support.tbody)for(s="table"!==l||Zt.test(s)?"<table>"!==d[1]||Zt.test(s)?0:a:a.firstChild,o=s&&s.childNodes.length;o--;)dt.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(dt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(s));for(a&&h.removeChild(a),dt.support.appendChecked||dt.grep(x(f,"input"),w),m=0;s=f[m++];)if((!n||-1===dt.inArray(s,n))&&(r=dt.contains(s.ownerDocument,s),a=x(h.appendChild(s),"script"),r&&v(a),i))for(o=0;s=a[o++];)ni.test(s.type||"")&&i.push(s);return a=null,h},cleanData:function(e,t){for(var i,n,o,s,r=0,a=dt.expando,l=dt.cache,c=dt.support.deleteExpando,d=dt.event.special;null!=(i=e[r]);r++)if((t||dt.acceptData(i))&&(o=i[a],s=o&&l[o])){if(s.events)for(n in s.events)d[n]?dt.event.remove(i,n):dt.removeEvent(i,n,s.handle);l[o]&&(delete l[o],c?delete i[a]:typeof i.removeAttribute!==G?i.removeAttribute(a):i[a]=null,tt.push(o))}},_evalUrl:function(e){return dt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),dt.fn.extend({wrapAll:function(e){if(dt.isFunction(e))return this.each(function(t){dt(this).wrapAll(e.call(this,t))});if(this[0]){var t=dt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return dt.isFunction(e)?this.each(function(t){dt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=dt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=dt.isFunction(e);return this.each(function(i){dt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}});var ci,di,ui,hi=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+ut+")(.*)$","i"),yi=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),bi=new RegExp("^([+-])=("+ut+")","i"),xi={BODY:"block"},wi={position:"absolute",visibility:"hidden",display:"block"},_i={letterSpacing:0,fontWeight:400},Ci=["Top","Right","Bottom","Left"],ki=["Webkit","O","Moz","ms"];dt.fn.extend({css:function(e,i){return dt.access(this,function(e,i,n){var o,s,r={},a=0;if(dt.isArray(i)){for(s=di(e),o=i.length;o>a;a++)r[i[a]]=dt.css(e,i[a],!1,s);return r}return n!==t?dt.style(e,i,n):dt.css(e,i)},e,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?dt(this).show():dt(this).hide()})}}),dt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ui(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,l=dt.camelCase(i),c=e.style;if(i=dt.cssProps[l]||(dt.cssProps[l]=_(c,l)),a=dt.cssHooks[i]||dt.cssHooks[l],n===t)return a&&"get"in a&&(s=a.get(e,!1,o))!==t?s:c[i];if(r=typeof n,"string"===r&&(s=bi.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(dt.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||dt.cssNumber[l]||(n+="px"),dt.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,o))===t)))try{c[i]=n}catch(d){}}},css:function(e,i,n,o){var s,r,a,l=dt.camelCase(i);return i=dt.cssProps[l]||(dt.cssProps[l]=_(e.style,l)),a=dt.cssHooks[i]||dt.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=ui(e,i,o)),"normal"===r&&i in _i&&(r=_i[i]),""===n||n?(s=parseFloat(r),n===!0||dt.isNumeric(s)?s||0:r):r}}),e.getComputedStyle?(di=function(t){return e.getComputedStyle(t,null)},ui=function(e,i,n){var o,s,r,a=n||di(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||dt.contains(e.ownerDocument,e)||(l=dt.style(e,i)),yi.test(l)&&gi.test(i)&&(o=c.width,s=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=s,c.maxWidth=r)),l}):K.documentElement.currentStyle&&(di=function(e){return e.currentStyle},ui=function(e,i,n){var o,s,r,a=n||di(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),yi.test(l)&&!fi.test(i)&&(o=c.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,r&&(s.left=r)),""===l?"auto":l}),dt.each(["height","width"],function(e,t){dt.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&mi.test(dt.css(e,"display"))?dt.swap(e,wi,function(){return E(e,t,n)}):E(e,t,n):void 0},set:function(e,i,n){var o=n&&di(e);return T(e,i,n?S(e,t,n,dt.support.boxSizing&&"border-box"===dt.css(e,"boxSizing",!1,o),o):0)}}}),dt.support.opacity||(dt.cssHooks.opacity={get:function(e,t){return pi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=dt.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===dt.trim(s.replace(hi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=hi.test(s)?s.replace(hi,o):s+" "+o)}}),dt(function(){dt.support.reliableMarginRight||(dt.cssHooks.marginRight={get:function(e,t){return t?dt.swap(e,{display:"inline-block"},ui,[e,"marginRight"]):void 0}}),!dt.support.pixelPosition&&dt.fn.position&&dt.each(["top","left"],function(e,t){dt.cssHooks[t]={get:function(e,i){return i?(i=ui(e,t),yi.test(i)?dt(e).position()[t]+"px":i):void 0}}})}),dt.expr&&dt.expr.filters&&(dt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!dt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||dt.css(e,"display"))},dt.expr.filters.visible=function(e){return!dt.expr.filters.hidden(e)}),dt.each({margin:"",padding:"",border:"Width"},function(e,t){dt.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Ci[n]+t]=s[n]||s[n-2]||s[0];return o}},gi.test(e)||(dt.cssHooks[e+t].set=T)});var Ti=/%20/g,Si=/\[\]$/,Ei=/\r?\n/g,Di=/^(?:submit|button|image|reset|file)$/i,Ai=/^(?:input|select|textarea|keygen)/i;dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=dt.prop(this,"elements");return e?dt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!dt(this).is(":disabled")&&Ai.test(this.nodeName)&&!Di.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=dt(this).val();return null==i?null:dt.isArray(i)?dt.map(i,function(e){return{name:t.name,value:e.replace(Ei,"\r\n")}}):{name:t.name,value:i.replace(Ei,"\r\n")}}).get()}}),dt.param=function(e,i){var n,o=[],s=function(e,t){t=dt.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(e)||e.jquery&&!dt.isPlainObject(e))dt.each(e,function(){s(this.name,this.value)});else for(n in e)M(n,e[n],i,s);return o.join("&").replace(Ti,"+")},dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){dt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),dt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Mi,Ni,Pi=dt.now(),Ii=/\?/,Bi=/#.*$/,Li=/([?&])_=[^&]*/,Oi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ri=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hi=/^(?:GET|HEAD)$/,Fi=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ji=dt.fn.load,Wi={},$i={},qi="*/".concat("*");try{Ni=X.href}catch(Ui){Ni=K.createElement("a"),Ni.href="",Ni=Ni.href}Mi=zi.exec(Ni.toLowerCase())||[],dt.fn.load=function(e,i,n){if("string"!=typeof e&&ji)return ji.apply(this,arguments);var o,s,r,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),dt.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&dt.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){s=arguments,a.html(o?dt("<div>").append(dt.parseHTML(e)).find(o):e)}).complete(n&&function(e,t){a.each(n,s||[e.responseText,t,e])}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){dt.fn[t]=function(e){return this.on(t,e)}}),dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ni,type:"GET",isLocal:Ri.test(Mi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,dt.ajaxSettings),t):I(dt.ajaxSettings,e)},ajaxPrefilter:N(Wi),ajaxTransport:N($i),ajax:function(e,i){function n(e,i,n,o){var s,u,y,b,w,C=i;2!==x&&(x=2,l&&clearTimeout(l),d=t,a=o||"",_.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(b=B(h,_,n)),b=L(h,b,_,s),s?(h.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(dt.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(dt.etag[r]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,u=b.data,y=b.error,s=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),_.status=e,_.statusText=(i||C)+"",s?m.resolveWith(p,[u,C,_]):m.rejectWith(p,[_,C,y]),_.statusCode(v),v=t,c&&f.trigger(s?"ajaxSuccess":"ajaxError",[_,h,s?u:y]),g.fireWith(p,[_,C]),c&&(f.trigger("ajaxComplete",[_,h]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var o,s,r,a,l,c,d,u,h=dt.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?dt(p):dt.event,m=dt.Deferred(),g=dt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!u)for(u={};t=Oi.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return x||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),n(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||Ni)+"").replace(Bi,"").replace(Fi,Mi[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=dt.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(o=zi.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===Mi[1]&&o[2]===Mi[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Mi[3]||("http:"===Mi[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=dt.param(h.data,h.traditional)),P(Wi,h,i,_),2===x)return _;c=h.global,c&&0===dt.active++&&dt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hi.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Ii.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Li.test(r)?r.replace(Li,"$1_="+Pi++):r+(Ii.test(r)?"&":"?")+"_="+Pi++)),h.ifModified&&(dt.lastModified[r]&&_.setRequestHeader("If-Modified-Since",dt.lastModified[r]),dt.etag[r]&&_.setRequestHeader("If-None-Match",dt.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qi+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)_.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(p,_,h)===!1||2===x))return _.abort();w="abort";for(s in{success:1,error:1,complete:1})_[s](h[s]);if(d=P($i,h,i,_)){_.readyState=1,c&&f.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},h.timeout));try{x=1,d.send(y,n)}catch(C){if(!(2>x))throw C;n(-1,C)}}else n(-1,"No Transport");return _},getJSON:function(e,t,i){return dt.get(e,t,i,"json")},getScript:function(e,i){return dt.get(e,t,i,"script")}}),dt.each(["get","post"],function(e,i){dt[i]=function(e,n,o,s){return dt.isFunction(n)&&(s=s||o,o=n,n=t),dt.ajax({url:e,type:i,dataType:s,data:n,success:o})}}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return dt.globalEval(e),e}}}),dt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),dt.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=K.head||dt("head")[0]||K.documentElement;return{send:function(t,o){i=K.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Yi=[],Vi=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yi.pop()||dt.expando+"_"+Pi++;return this[e]=!0,e}}),dt.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.jsonp!==!1&&(Vi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=dt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Vi,"$1"+s):i.jsonp!==!1&&(i.url+=(Ii.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||dt.error(s+" was not called"),a[0]},i.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},o.always(function(){e[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,Yi.push(s)),a&&dt.isFunction(r)&&r(a[0]),a=r=t}),"script"):void 0});var Gi,Xi,Ki=0,Qi=e.ActiveXObject&&function(){var e;for(e in Gi)Gi[e](t,!0)};dt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||R()}:O,Xi=dt.ajaxSettings.xhr(),dt.support.cors=!!Xi&&"withCredentials"in Xi,Xi=dt.support.ajax=!!Xi,Xi&&dt.ajaxTransport(function(i){if(!i.crossDomain||dt.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,o){var a,c,d,u;try{if(n&&(o||4===l.readyState))if(n=t,r&&(l.onreadystatechange=dt.noop,Qi&&delete Gi[r]),o)4!==l.readyState&&l.abort();else{u={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(h){d=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(p){o||s(-1,p)}u&&s(a,d,u,c)},i.async?4===l.readyState?setTimeout(n):(r=++Ki,Qi&&(Gi||(Gi={},dt(e).unload(Qi)),Gi[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Zi,Ji,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),nn=/queueHooks$/,on=[W],sn={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=tn.exec(t),s=o&&o[3]||(dt.cssNumber[e]?"":"px"),r=(dt.cssNumber[e]||"px"!==s&&+n)&&tn.exec(dt.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,dt.style(i.elem,e,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};dt.Animation=dt.extend(z,{tweener:function(e,t){dt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],sn[i]=sn[i]||[],sn[i].unshift(t)},prefilter:function(e,t){t?on.unshift(e):on.push(e)}}),dt.Tween=$,$.prototype={constructor:$,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(dt.cssNumber[i]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,i=$.propHooks[this.prop];return this.pos=t=this.options.duration?dt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=dt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){dt.fx.step[e.prop]?dt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[dt.cssProps[e.prop]]||dt.cssHooks[e.prop])?dt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},dt.each(["toggle","show","hide"],function(e,t){var i=dt.fn[t];dt.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,n,o)}}),dt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=dt.isEmptyObject(e),s=dt.speed(t,i,n),r=function(){var t=z(this,dt.extend({},e),s);(o||dt._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,i,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=dt.timers,r=dt._data(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&nn.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&dt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=dt._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=dt.timers,r=n?n.length:0;for(i.finish=!0,dt.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),dt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){dt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),dt.speed=function(e,t,i){var n=e&&"object"==typeof e?dt.extend({},e):{complete:i||!i&&t||dt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!dt.isFunction(t)&&t};return n.duration=dt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in dt.fx.speeds?dt.fx.speeds[n.duration]:dt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){dt.isFunction(n.old)&&n.old.call(this),n.queue&&dt.dequeue(this,n.queue)},n},dt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},dt.timers=[],dt.fx=$.prototype.init,dt.fx.tick=function(){var e,i=dt.timers,n=0;for(Zi=dt.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||dt.fx.stop(),Zi=t},dt.fx.timer=function(e){e()&&dt.timers.push(e)&&dt.fx.start()},dt.fx.interval=13,dt.fx.start=function(){Ji||(Ji=setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){clearInterval(Ji),Ji=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fx.step={},dt.expr&&dt.expr.filters&&(dt.expr.filters.animated=function(e){return dt.grep(dt.timers,function(t){return e===t.elem}).length}),dt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){dt.offset.setOffset(this,e,t)});var i,n,o={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return i=r.documentElement,dt.contains(i,s)?(typeof s.getBoundingClientRect!==G&&(o=s.getBoundingClientRect()),n=U(r),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o},dt.offset={setOffset:function(e,t,i){var n=dt.css(e,"position");"static"===n&&(e.style.position="relative");var o,s,r=dt(e),a=r.offset(),l=dt.css(e,"top"),c=dt.css(e,"left"),d=("absolute"===n||"fixed"===n)&&dt.inArray("auto",[l,c])>-1,u={},h={};d?(h=r.position(),o=h.top,s=h.left):(o=parseFloat(l)||0,s=parseFloat(c)||0),dt.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):r.css(u)}},dt.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===dt.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),dt.nodeName(e[0],"html")||(i=e.offset()),i.top+=dt.css(e[0],"borderTopWidth",!0),i.left+=dt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-dt.css(n,"marginTop",!0),left:t.left-i.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!dt.nodeName(e,"html")&&"static"===dt.css(e,"position");)e=e.offsetParent;return e||Q})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);dt.fn[e]=function(o){return dt.access(this,function(e,o,s){var r=U(e);return s===t?r?i in r?r[i]:r.document.documentElement[o]:e[o]:(r?r.scrollTo(n?dt(r).scrollLeft():s,n?s:dt(r).scrollTop()):e[o]=s,void 0)},e,o,arguments.length,null)}}),dt.each({Height:"height",Width:"width"},function(e,i){dt.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,o){dt.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return dt.access(this,function(i,n,o){var s;return dt.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):o===t?dt.css(i,n,a):dt.style(i,n,o,a)},i,r?o:t,r,null)}})}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=dt:(e.jQuery=e.$=dt,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt}))}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var o=e.Event(i);return t.trigger(o,n),o.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var o,s,r,a,l,c,d,u;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===t?null:a,c=n.data("with-credentials")||null,d=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),s=n.attr("action"),r=n.serializeArray();var h=n.data("ujs:submit-button");h&&(r.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),r=n.data("params")||null);u={type:o||"GET",data:r,dataType:d,beforeSend:function(e,o){return o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[e,o])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),s&&(u.url=s);var p=i.ajax(u);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var o=i.href(n),s=n.data("method"),r=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+s+'" type="hidden" />';l!==t&&a!==t&&(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),o=!1;return n?(i.fire(e,"confirm")&&(o=i.confirm(n),t=i.fire(e,"confirm:complete",[o])),o&&t):!0},blankInputs:function(t,i,n){var o,s,r=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(o=e(this),s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!s==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var o=e(this),s=o.data("method"),r=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||s&&"GET"!==s||r))return!0;var a=i.handleRemote(o);return a===!1?i.enableElement(o):a.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o=e(this),s=o.data("remote")!==t,r=i.blankInputs(o,i.requiredInputSelector),a=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(r&&o.attr("novalidate")==t&&i.fire(o,"ajax:aborted:required",[r]))return i.stopEverything(n);if(s){if(a){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),n.delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)}))}(jQuery),/*!
 * jQuery UI Core 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function i(t,i){var o,s,r,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap=#"+s+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,o,s=e(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function o(t,i,n,o){return e.each(s,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,o(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,o(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i){var n,o=e.plugins[t];if(o&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var i=0,n=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(s){}o(t)},e.widget=function(t,i,n){var o,s,r,a,l={},c=t.split(".")[0];t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},s=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new r(e,t)},e.extend(r,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}(),void 0):(l[t]=n,void 0)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(i){for(var o,s,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(o in r[a])s=r[a][o],r[a].hasOwnProperty(o)&&s!==t&&(i[o]=e.isPlainObject(s)?e.isPlainObject(i[o])?e.widget.extend({},i[o],s):e.widget.extend({},s):s);return i},e.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,o=e.data(this,s);return o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,l),n!==o&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,s);t?t.option(r||{})._init():e.data(this,s,new o(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var o,s,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(s=a[i]=e.widget.extend({},this.options[i]),r=0;r<o.length-1;r++)s[o[r]]=s[o[r]]||{},s=s[o[r]];if(i=o.pop(),n===t)return s[i]===t?null:s[i];s[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,d=l[2];d?o.delegate(d,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}})}(jQuery),/*!
 * jQuery UI Accordion 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,o=n.heightStyle,s=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),o=i.next(),s=o.attr("id");n||(n=r+"-header-"+t,i.attr("id",n)),s||(s=r+"-panel-"+t,o.attr("id",s)),i.attr("aria-controls",s),o.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(i=s.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===o&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o[0]===n[0],r=s&&i.collapsible,a=r?e():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():o,newPanel:a};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=r?!1:this.headers.index(o),this.active=s?e():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,o){var s,r,a,l=this,c=0,d=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=d&&u.down||u,p=function(){l._toggleComplete(o)};return"number"==typeof h&&(a=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,a=a||h.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(i,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(n,{duration:a,easing:r,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-c),c=0)}}),void 0):t.animate(i,a,r,p):e.animate(n,a,r,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),/*!
 * jQuery UI Position 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function o(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var i,n,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),i=r.offsetWidth,o.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),s=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var s,p,m,g,v,y,b=e(t.of),x=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(x),_=(t.collision||"flip").split(" "),C={};return y=o(b),b[0].preventDefault&&(t.at="left top"),p=y.width,m=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):d.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=d.test(n[1])?n[1]:"center",e=u.exec(n[0]),i=u.exec(n[1]),C[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),s=i(C.at,p,m),v.left+=s[0],v.top+=s[1],this.each(function(){var o,c,d=e(this),u=d.outerWidth(),h=d.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),k=u+f+n(this,"marginRight")+w.width,T=h+y+n(this,"marginBottom")+w.height,S=e.extend({},v),E=i(C.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?S.left-=u:"center"===t.my[0]&&(S.left-=u/2),"bottom"===t.my[1]?S.top-=h:"center"===t.my[1]&&(S.top-=h/2),S.left+=E[0],S.top+=E[1],e.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),o={marginLeft:f,marginTop:y},e.each(["left","top"],function(i,n){e.ui.position[_[i]]&&e.ui.position[_[i]][n](S,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:h,collisionPosition:o,collisionWidth:k,collisionHeight:T,offset:[s[0]+E[0],s[1]+E[1]],my:t.my,at:t.at,within:x,elem:d})}),t.using&&(c=function(e){var i=g.left-S.left,n=i+p-u,o=g.top-S.top,s=o+m-h,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:d,left:S.left,top:S.top,width:u,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};u>p&&a(i+n)<p&&(l.horizontal="center"),h>m&&a(o+s)<m&&(l.vertical="middle"),l.important=r(a(i),a(n))>r(a(o),a(s))?"horizontal":"vertical",t.using.call(this,e,l)}),d.offset(e.extend(S,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-o,e.left+=l-i):e.left=c>0&&0>=l?o:l>c?o+s-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-o,e.top+=l-i):e.top=c>0&&0>=l?o:l>c?o+s-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>d?(i=e.left+h+p+f+t.collisionWidth-r-s,(0>i||i<a(d))&&(e.left+=h+p+f)):u>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||a(n)<u)&&(e.left+=h+p+f))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-r-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>d?(n=e.top+p+f+m+t.collisionHeight-r-s,e.top+p+f+m>d&&(0>n||n<a(d))&&(e.top+=p+f+m)):u>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>u&&(i>0||a(i)<u)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,s,r=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)t.style[s]=n[s];t.appendChild(a),i=r||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",o=e(a).offset().left,e.support.offsetFractions=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(jQuery),/*!
 * jQuery UI Menu 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,s,r,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),s===o?r=!0:s=o+s,a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),o=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,s,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.height(),0>o?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-o<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,n,o;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=s?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,i=!0,void 0;t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault(),void 0;if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),/*!
 * jQuery UI Button 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e){var t,i,n,o,s="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},c=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,a=this.options,d="checkbox"===this.type||"radio"===this.type,u=d?"":"ui-state-active",h="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(u)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){r.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){r.buttonElement.removeClass(h)}),d&&(this.element.bind("change"+this.eventNamespace,function(){o||r.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(o=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||(i!==e.pageX||n!==e.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1;e(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var t=r.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,r.document.one("mouseup",function(){t=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+r+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),/*!
 * jQuery UI Datepicker 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 *
 * Depends:
 *	jquery.ui.core.js
 */
function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(s.inline?t.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function o(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var s,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,s;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),o),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var o=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,s,r=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,s=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;o<e.length;o++)e[o].length>i&&(i=e[o].length,n=o);return n},s.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,s,a){var l,c,d,u,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),o(p.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,d/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,r);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,r);o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,r);o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var r,a,l,c,d=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):d?"all"===n?e.extend({},d.settings):this._get(d,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=s),d&&(this._curInst===d&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(d,"min"),c=this._getMinMaxDate(d,"max"),o(d.settings,r),null!==l&&r.dateFormat!==t&&r.minDate===t&&(d.settings.minDate=this._formatDate(d,l)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(d.settings.maxDate=this._formatDate(d,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),d),this._autoSize(d),this._setDate(d,a),this._updateAlternate(d),this._updateDatepicker(d)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,s=e.datepicker._getInst(t.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),o[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,s,r,a,l,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),s=n?n.apply(t,[t,i]):{},s!==!1&&(o(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),a=e.datepicker._checkOffset(i,a,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),o=n[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-r:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,s,a=this._curInst;!a||t&&a!==e.data(t,r)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(a,"onClose"),s&&s.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,i,n,o){var s,r=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,s,r,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,x=function(e){var i=o+1<t.length&&t.charAt(o+1)===e;return i&&o++,i},w=function(e){var t=x(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{1,"+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},_=function(t,n,o){var s=-1,r=e.map(x(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(b)"'"!==t.charAt(o)||x("'")?C():b=!1;else switch(t.charAt(o)){case"d":v=w("d");break;case"D":_("D",u,h);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=_("M",p,f);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":x("'")?C():b=!0;break;default:C()}if(l<i.length&&(r=i.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=m?0:-100)),y>-1)for(g=1,v=y;;){if(s=this._getDaysInMonth(m,g-1),s>=v)break;g++,v-=s}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},d=function(e,t,i,n){return l(e)?n[t]:i[t]},u="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?u+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),o,s);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),r,a);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(n)}return u},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,r=this._getFormatConfig(e);try{s=this.parseDate(i,n,r)||o}catch(a){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=o.getFullYear(),r=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r))}c=l.exec(i)}return new Date(s,r,a)},r=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,s=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,s,r,a,l,c,d,u,h,p,f,m,g,v,y,b,x,w,_,C,k,T,S,E,D,A,M,N,P,I,B,L,O,R,H,F,z=new Date,j=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),W=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-V,et=e.drawYear;if(0>J&&(J+=12,et--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-Y[0]*Y[1]+1,Z.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,J,1))>t;)J--,0>J&&(J=11,et--);for(e.drawMonth=J,e.drawYear=et,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(et,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=U?this.formatDate(o,this._daylightSavingAdjust(new Date(et,J+G,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,et,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?K:j,r=U?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(W?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),x="",_=0;_<Y[0];_++){for(C="",this.maxRows=4,k=0;k<Y[1];k++){if(T=this._daylightSavingAdjust(new Date(et,J,e.selectedDay)),S=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(k){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?W?s:n:"")+(/all|right/.test(S)&&0===_?W?n:s:"")+this._generateMonthYearHeader(e,J,et,Q,Z,_>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",D=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)A=(w+d)%7,D+="<th"+((w+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(E+=D+"</tr></thead><tbody>",M=this._getDaysInMonth(et,J),et===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),N=(this._getFirstDayOfMonth(et,J)-d+7)%7,P=Math.ceil((N+M)/7),I=X?this.maxRows>P?this.maxRows:P:P,this.maxRows=I,B=this._daylightSavingAdjust(new Date(et,J,1-N)),L=0;I>L;L++){for(E+="<tr>",O=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(B)+"</td>":"",w=0;7>w;w++)R=g?g.apply(e.input?e.input[0]:null,[B]):[!0,""],H=B.getMonth()!==J,F=H&&!y||!R[0]||Q&&Q>B||Z&&B>Z,O+="<td class='"+((w+d+6)%7>=5?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(B.getTime()===T.getTime()&&J===e.selectedMonth&&e._keyEvent||b.getTime()===B.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!v?"":" "+R[1]+(B.getTime()===K.getTime()?" "+this._currentClass:"")+(B.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(H&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+B.getMonth()+"' data-year='"+B.getFullYear()+"'")+">"+(H&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+B.getDate()+"</span>":"<a class='ui-state-default"+(B.getTime()===j.getTime()?" ui-state-highlight":"")+(B.getTime()===K.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#'>"+B.getDate()+"</a>")+"</td>",B.setDate(B.getDate()+1),B=this._daylightSavingAdjust(B);E+=O+"</tr>"}J++,J>11&&(J=0,et++),E+="</tbody></table>"+(X?"</div>"+(Y[0]>0&&k===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=E}x+=C}return x+=c,e._keyEvent=!1,x},_generateMonthYearHeader:function(e,t,i,n,o,s,r,a){var l,c,d,u,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",x="";if(s||!g)x+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;12>d;d++)(!l||d>=n.getMonth())&&(!c||d<=o.getMonth())&&(x+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+a[d]+"</option>");x+="</select>"}if(y||(b+=x+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&g&&v?"":"&#xa0;")+x),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,s)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)
},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&i>t?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!r||t.getFullYear()>=r)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.3"}(jQuery),/*!
 * jQuery UI Mouse 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return o&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Draggable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;return o.containment?"window"===o.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===o.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):o.containment.constructor===Array?(this.containment=o.containment,void 0):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],n&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(t){var i,n,o,s,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),o=n.options,s=e.extend({},i,{item:n.element});n.sortables=[],e(o.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,s))})},stop:function(t,i){var n=e(this).data("ui-draggable"),o=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,i){var n=e(this).data("ui-draggable"),o=this;e.each(n.sortables,function(){var s=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,o,s,r,a,l,c,d,u,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)a=p.snapElements[u].left,l=a+p.snapElements[u].width,c=p.snapElements[u].top,d=c+p.snapElements[u].height,a-m>v||g>l+m||c-m>b||y>d+m||!e.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-b)<=m,o=Math.abs(d-y)<=m,s=Math.abs(a-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:d,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||o||s||r,"outer"!==f.snapMode&&(n=Math.abs(c-y)<=m,o=Math.abs(d-b)<=m,s=Math.abs(a-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:d-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||o||s||r||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||o||s||r||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),o=e(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),/*!
 * jQuery UI Resizable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,o,s,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),s="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(i){var n,o,s,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),o=t(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,o+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,o={},s=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,d=this.size.height,u=t.pageX-s.left||0,h=t.pageY-s.top||0,p=this._change[r];return p?(i=p.apply(this,[t,u,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==c&&(o.width=this.size.width+"px"),this.size.height!==d&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(o)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,s,r,a,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&e.ui.hasScroll(i[0],"left")?0:d.sizeDiff.height,s=n?0:d.sizeDiff.width,r={width:d.helper.width()-s,height:d.helper.height()-o},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,o,s,r,a=this.options;r={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,o=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),o>r.minHeight&&(r.minHeight=o),n<r.maxWidth&&(r.maxWidth=n),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,o=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===o&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===o&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,o=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),a&&(e.height=t.minHeight),o&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),r&&d&&(e.left=l-t.minWidth),o&&d&&(e.left=l-t.maxWidth),a&&u&&(e.top=c-t.minHeight),s&&u&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,o,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&e.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,o,s,r,a,l,c=e(this).data("ui-resizable"),d=c.options,u=c.element,h=d.containment,p=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,o){n[e]=t(i.css("padding"+o))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},o=c.containerOffset,s=c.containerSize.height,r=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:r,l=e.ui.hasScroll(p)?p.scrollHeight:s,c.parentData={element:p,left:o.left,top:o.top,width:a,height:l}))},resize:function(t){var i,n,o,s,r=e(this).data("ui-resizable"),a=r.options,l=r.containerOffset,c=r.position,d=r._aspectRatio||t.shiftKey,u={top:0,left:0},h=r.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),d&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-u.left:r.offset.left-u.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-u.top:r.offset.top-l.top)+r.sizeDiff.height),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s&&(i-=r.parentData.left),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,d&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,o=t.containerPosition,s=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),o=n.options,s=n.originalSize,r=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),o=e(this).data("ui-resizable-alsoresize"),s={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(o[t]||0)+(a[t]||0);i&&i>=0&&(s[t]=i||null)}),t.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):e.each(o.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,o=t.originalSize,s=t.originalPosition,r=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,d=Math.round((n.width-o.width)/l)*l,u=Math.round((n.height-o.height)/c)*c,h=o.width+d,p=o.height+u,f=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(r)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.top=s.top-u):/^(sw)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.left=s.left-d):(t.size.width=h,t.size.height=p,t.position.top=s.top-u,t.position.left=s.left-d)}})}(jQuery),/*!
 * jQuery UI Dialog 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(o.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,n){var o,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,s){n.position=[s.position.left-i.document.scrollLeft(),s.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),r="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,s){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(s))}}).css("position",s)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var o=this,s=!1,r={};e.each(n,function(e,n){o._setOption(e,n),e in t&&(s=!0),e in i&&(r[e]=n)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(o[e]=n[e],n[e]=t)}),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),/*!
 * jQuery UI Droppable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var o,s,r=(e.positionAbs||e.position.absolute).left,a=r+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,c=l+e.helperProportions.height,d=i.offset.left,u=d+i.proportions.width,h=i.offset.top,p=h+i.proportions.height;switch(n){case"fit":return r>=d&&u>=a&&l>=h&&p>=c;case"intersect":return d<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&h<l+e.helperProportions.height/2&&c-e.helperProportions.height/2<p;case"pointer":return o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(s,h,i.proportions.height)&&t(o,d,i.proportions.width);case"touch":return(l>=h&&p>=l||c>=h&&p>=c||h>l&&c>p)&&(r>=d&&u>=r||a>=d&&u>=a||d>r&&a>u);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===s[n].element[0]){s[n].proportions.height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,r=e.ui.intersect(t,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===o}),s.length&&(n=e.data(s[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),/*!
 * jQuery UI Effects 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e,t){var i="ui-effects-";e.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(e,t){function i(e,t,i){var n=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,o){var s,r=o.re.exec(t),a=r&&o.parse(r),l=o.space||"rgba";return a?(s=i[l](a),i[d[l].cache]=s[d[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function o(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var s,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(o,r,a,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(r),r=t);var u=this,h=e.type(o),p=this._rgba=[];return r!==t&&(o=[o,r,a,l],h="array"),"string"===h?this.parse(n(o)||s._default):"array"===h?(f(d.rgba.props,function(e,t){p[t.idx]=i(o[t.idx],t)}),this):"object"===h?(o instanceof c?f(d,function(e,t){o[t.cache]&&(u[t.cache]=o[t.cache].slice())}):f(d,function(t,n){var s=n.cache;f(n.props,function(e,t){if(!u[s]&&n.to){if("alpha"===e||null==o[e])return;u[s]=n.to(u._rgba)}u[s][t.idx]=i(o[e],t,!0)}),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,n.from&&(u._rgba=n.from(u[s])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(d,function(e,o){var s,r=t[o.cache];return r&&(s=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(e,t){return null!=r[t.idx]?i=r[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(d,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),o=n._space(),s=d[o],r=0===this.alpha()?c("transparent"):this,a=r[s.cache]||s.to(r._rgba),l=a.slice();return n=n[s.cache],f(s.props,function(e,o){var s=o.idx,r=a[s],c=n[s],d=u[o.type]||{};null!==c&&(null===r?l[s]=c:(d.mod&&(c-r>d.mod/2?r+=d.mod:r-c>d.mod/2&&(r-=d.mod)),l[s]=i((c-r)*t+r,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,s=e[2]/255,r=e[3],a=Math.max(n,o,s),l=Math.min(n,o,s),c=a-l,d=a+l,u=.5*d;return t=l===a?0:n===a?60*(o-s)/c+360:o===a?60*(s-n)/c+120:60*(n-o)/c+240,i=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(t)%360,i,u,null==r?1:r]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*o(a,r,t+1/3)),Math.round(255*o(a,r,t)),Math.round(255*o(a,r,t-1/3)),s]},f(d,function(n,o){var s=o.props,r=o.cache,l=o.to,d=o.from;c.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===t)return this[r].slice();var o,a=e.type(n),u="array"===a||"object"===a?n:arguments,h=this[r].slice();return f(s,function(e,t){var n=u["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),d?(o=c(d(h)),o[r]=h,o):c(h)},f(s,function(t,i){c.fn[t]||(c.fn[t]=function(o){var s,r=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),d=c[i.idx];return"undefined"===r?d:("function"===r&&(o=o.call(this,d),r=e.type(o)),null==o&&i.empty?this:("string"===r&&(s=a.exec(o),s&&(o=d+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=o,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,o){var s,r,a="";if("transparent"!==o&&("string"!==e.type(o)||(s=n(o)))){if(o=c(s||o),!h.rgba&&1!==o._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function n(t,i){var n,o,r={};for(n in i)o=i[n],t[n]!==o&&(s[n]||(e.fx.step[n]||!isNaN(parseFloat(o)))&&(r[n]=o));return r}var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,s,r,a){var l=e.speed(s,r,a);return this.queue(function(){var s,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var t=e(this);return{el:t,start:i(this)}}),s=function(){e.each(o,function(e,i){t[i]&&r[i+"Class"](t[i])})},s(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,n,o,s){return n?e.effects.animateClass.call(this,{add:i},n,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(n,o,s,r,a){return"boolean"==typeof o||o===t?s?e.effects.animateClass.call(this,o?{add:n}:{remove:n},s,r,a):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},o,s,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,s)}})}(),function(){function n(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function o(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var o,s;for(s=0;s<n.length;s++)null!==n[s]&&(o=e.data(i+n[s]),o===t&&(o=""),e.css(n[s],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(r){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(s)&&s.call(o[0]),e.isFunction(t)&&t()}var o=e(this),s=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),n()):r.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,s=i.queue,r=e.effects.effect[i.effect];return e.fx.off||!r?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):s===!1?this.each(t):this.queue(s||"fx",t)},show:function(e){return function(t){if(o(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(o(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(o(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),/*!
 * jQuery UI Effects Blind 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,o){var s,r,a,l=e(this),c=["position","top","bottom","left","right","height","width"],d=e.effects.setMode(l,n.mode||"hide"),u=n.direction||"up",h=t.test(u),p=h?"height":"width",f=h?"top":"left",m=i.test(u),g={},v="show"===d;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),s=e.effects.createWrapper(l).css({overflow:"hidden"}),r=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?r:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:r+a),v&&(s.css(p,0),m||s.css(f,a+r)),s.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===d&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),o()}})}}(jQuery),/*!
 * jQuery UI Effects Bounce 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.bounce=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),c="hide"===l,d="show"===l,u=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(d||c?1:0),m=t.duration/f,g=t.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,b=r.queue(),x=b.length;for((d||c)&&a.push("opacity"),e.effects.save(r,a),r.show(),e.effects.createWrapper(r),h||(h=r["top"===v?"outerHeight":"outerWidth"]()/3),d&&(s={opacity:1},s[v]=0,r.css("opacity",0).css(v,y?2*-h:2*h).animate(s,m,g)),c&&(h/=Math.pow(2,p-1)),s={},s[v]=0,n=0;p>n;n++)o={},o[v]=(y?"-=":"+=")+h,r.animate(o,m,g).animate(s,m,g),h=c?2*h:h/2;c&&(o={opacity:0},o[v]=(y?"-=":"+=")+h,r.animate(o,m,g)),r.queue(function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),x>1&&b.splice.apply(b,[1,0].concat(b.splice(x,f+1))),r.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Clip 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.clip=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),c="show"===l,d=t.direction||"vertical",u="vertical"===d,h=u?"height":"width",p=u?"top":"left",f={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),o="IMG"===r[0].tagName?n:r,s=o[h](),c&&(o.css(h,0),o.css(p,s/2)),f[h]=c?s:0,f[p]=c?0:s/2,o.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),/*!
 * jQuery UI Effects Drop 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.drop=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(o,t.mode||"hide"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};e.effects.save(o,s),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===d?-n:n),u[c]=(a?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+n,o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(jQuery),/*!
 * jQuery UI Effects Explode 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===u*h&&o()}function o(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var s,r,a,l,c,d,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=u,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/u),b=[];for(s=0;u>s;s++)for(l=g.top+s*y,d=s-(u-1)/2,r=0;h>r;r++)a=g.left+r*v,c=r-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?d*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:d*y),opacity:m?1:0},t.duration||500,t.easing,n)}}(jQuery),/*!
 * jQuery UI Effects Fade 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),/*!
 * jQuery UI Effects Fold 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.fold=function(t,i){var n,o,s=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"hide"),l="show"===a,c="hide"===a,d=t.size||15,u=/([0-9]+)%/.exec(d),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,r),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(d=parseInt(u[1],10)/100*o[c?0:1]),l&&n.css(h?{height:0,width:d}:{height:d,width:0}),g[f[0]]=l?o[0]:d,v[f[1]]=l?o[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()})}}(jQuery),/*!
 * jQuery UI Effects Highlight 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===s&&(r.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),i()}})}}(jQuery),/*!
 * jQuery UI Effects Pulsate 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.pulsate=function(t,i){var n,o=e(this),s=e.effects.setMode(o,t.mode||"show"),r="show"===s,a="hide"===s,l=r||"hide"===s,c=2*(t.times||5)+(l?1:0),d=t.duration/c,u=0,h=o.queue(),p=h.length;for((r||!o.is(":visible"))&&(o.css("opacity",0).show(),u=1),n=1;c>n;n++)o.animate({opacity:u},d,t.easing),u=1-u;o.animate({opacity:u},d,t.easing),o.queue(function(){a&&o.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),o.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Scale 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),s="hide"===o,r=parseInt(t.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?r:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},d={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*d.y,width:c.width*d.x,outerHeight:c.outerHeight*d.y,outerWidth:c.outerWidth*d.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.size=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||b,r.to=t.from||n):(r.from=t.from||("show"===p?b:n),r.to=t.to||("hide"===p?b:n)),s={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(y=y.concat(u),r.from=e.effects.setTransition(r,u,s.from.y,r.from),r.to=e.effects.setTransition(r,u,s.to.y,r.to)),s.from.x!==s.to.x&&(y=y.concat(h),r.from=e.effects.setTransition(r,h,s.from.x,r.from),r.to=e.effects.setTransition(r,h,s.to.x,r.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(y=y.concat(d).concat(c),r.from=e.effects.setTransition(r,d,s.from.y,r.from),r.to=e.effects.setTransition(r,d,s.to.y,r.to)),e.effects.save(r,y),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(o=e.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*o.y,r.from.left=(n.outerWidth-r.outerWidth())*o.x,r.to.top=(n.outerHeight-r.to.outerHeight)*o.y,r.to.left=(n.outerWidth-r.to.outerWidth)*o.x),r.css(r.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(d),h=h.concat(["marginLeft","marginRight"]),c=a.concat(u).concat(h),r.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,u,s.from.y,i.from),i.to=e.effects.setTransition(i,u,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,h,s.from.x,i.from),i.to=e.effects.setTransition(i,h,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,y),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var n=parseInt(i,10),o=e?r.to.left:r.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(r),i()}})}}(jQuery),/*!
 * jQuery UI Effects Shake 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.shake=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(o,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,d=2*c+1,u=Math.round(t.duration/d),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),y=v.length;for(e.effects.save(o,s),o.show(),e.effects.createWrapper(o),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,o.animate(f,u,t.easing),n=1;c>n;n++)o.animate(m,u,t.easing).animate(g,u,t.easing);o.animate(m,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,d+1))),o.dequeue()}}(jQuery),/*!
 * jQuery UI Effects Slide 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.slide=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(o,t.mode||"show"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u={};e.effects.save(o,s),o.show(),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,d?isNaN(n)?"-"+n:-n:n),u[c]=(a?d?"+=":"-=":d?"-=":"+=")+n,o.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})}}(jQuery),/*!
 * jQuery UI Effects Transfer 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 *
 * Depends:
 *	jquery.ui.effect.js
 */
function(e){e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),s="fixed"===o.css("position"),r=e("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,c=o.offset(),d={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},u=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){h.remove(),i()})}}(jQuery),/*!
 * jQuery UI Progressbar 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),/*!
 * jQuery UI Selectable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||i.right<s||i.top>l||i.bottom<r):"fit"===o.tolerance&&(c=i.left>s&&i.right<a&&i.top>r&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),/*!
 * jQuery UI Slider 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;i>t;t++)r.push(s);this.handles=o.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,r,a,l,c,d=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-d.values(t));(o>i||o===i&&(t===d._lastChangedValue||d.values(t)===u.min))&&(o=i,s=e(this),r=t)}),a=this._start(t,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),s!==!1&&this.values(t,i,!0))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,o,s,r=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),d["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](d,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?100*((n-o)/(s-o)):0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](d,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,o,s,r,a=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(r=this.options.step,o=s=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===this._valueMax())return;s=this._trimAlignValue(o+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===this._valueMin())return;s=this._trimAlignValue(o-r)}this._slide(i,a,s)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),/*!
 * jQuery UI Sortable 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n?!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||t+d>s&&r>t+d,p=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=i&&n,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return o?this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:o&&("down"===o&&i||"up"===o&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,o,s,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(o=e(l[i]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&a.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){r.push(this)});return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,c,d=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(o=e(h[i]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",r),d.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var o,s,r,a,l,c,d,u,h,p,f=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&e.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",n,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,a=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",d=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)e.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(u=this.items[s].item.offset()[l],h=!1,Math.abs(u-d)>Math.abs(u+this.items[s][c]-d)&&(h=!0,u+=this.items[s][c]),Math.abs(u-d)<r&&(r=Math.abs(u-d),a=this.items[s],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),/*!
 * jQuery UI Spinner 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.widget.js
 *  jquery.ui.button.js
 */
function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),/*!
 * jQuery UI Tabs 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(e,t){function i(){return++o}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var o=0,s=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(n),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,o){var s,r,a,l=e(o).uniqueId().attr("id"),c=e(o).closest("li"),d=c.attr("aria-controls");n(o)?(s=o.hash,r=t.element.find(t._sanitizeSelector(s))):(a=t._tabId(c),s="#"+a,r=t.element.find(s),r.length||(r=t._createPanel(a),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),d&&c.data("ui-tabs-aria-controls",d),c.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o.closest("li"),r=s[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):e(),d={oldTab:n,oldPanel:c,newTab:a?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,d)===!1||(i.active=a?!1:this.tabs.index(s),this.active=r?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,d))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.options.show?s._show(r,s.options.show,n):(r.show(),n())}var s=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var o=this,s=this.tabs.eq(t),r=s.find(".ui-tabs-anchor"),a=this._getPanelForTab(s),l={tab:s,panel:a};n(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),o._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),/*!
 * jQuery UI Tooltip 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);-1!==o&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&o._delay(function(){t&&(t.type=s),this._open(t,e,i)})}),i&&this._open(t,e,i),void 0)},_open:function(i,n,o){function s(e){c.of=e,r.is(":hidden")||r.position(c)}var r,a,l,c=e.extend({},this.options.position);if(o){if(r=this._find(n),r.length)return r.find(".ui-tooltip-content").html(o),void 0;n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),t(n,r.attr("id")),r.find(".ui-tooltip-content").html(o),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:s}),s(i)):r.position(e.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){r.is(":visible")&&(s(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:r}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(t){var n=this,o=e(t?t.currentTarget:this.element),s=this._find(o);this.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),i(o),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,o=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[i]=t,o},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n[0],t.close(o,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),/*!
 * jQuery Migrate - v1.1.1 - 2013-02-16
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
function(e,t,i){function n(i){s[i]||(s[i]=!0,e.migrateWarnings.push(i),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+i),e.migrateTrace&&console.trace&&console.trace()))}function o(t,i,o,s){if(Object.defineProperty)try{return Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){return n(s),o},set:function(e){n(s),o=e}}),void 0}catch(r){}e._definePropertyBroken=!0,t[i]=o}var s={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===i&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var r=e("<input/>",{size:1}).attr("size")&&e.attrFn,a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return i},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(e,"attrFn",r||{},"jQuery.attrFn is deprecated"),e.attr=function(t,o,s,l){var c=o.toLowerCase(),f=t&&t.nodeType;return l&&(a.length<4&&n("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(r?o in r:e.isFunction(e.fn[o])))?e(t)[o](s):("type"===o&&s!==i&&d.test(t.nodeName)&&t.parentNode&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,n){var o,s=e.prop(t,n);return s===!0||"boolean"!=typeof s&&(o=t.getAttributeNode(n))&&o.nodeValue!==!1?n.toLowerCase():i},set:function(t,i,n){var o;return i===!1?e.removeAttr(t,n):(o=e.propFix[n]||n,o in t&&(t[o]=!0),t.setAttribute(n,n.toLowerCase())),n}},p.test(c)&&n("jQuery.fn.attr('"+c+"') may use property instead of attribute")),a.call(e,t,o,s))},e.attrHooks.value={get:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var i=(e.nodeName||"").toLowerCase();return"button"===i?c.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,void 0)}};var f,m,g=e.fn.init,v=e.parseJSON,y=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,i,o){var s;return t&&"string"==typeof t&&!e.isPlainObject(i)&&(s=y.exec(t))&&s[1]&&("<"!==t.charAt(0)&&n("$(html) HTML strings must start with '<' character"),i&&i.context&&(i=i.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),i,!0),i,o):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,i){return new t.fn.init(e,i)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,o){return o&&o instanceof e&&!(o instanceof t)&&(o=t(o)),e.fn.init.call(this,n,o,i)},t.fn.init.prototype=t.fn;var i=t(document);return n("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var o,s,r=this[0];return!r||"events"!==t||1!==arguments.length||(o=e.data(r,t),s=e._data(r,t),o!==i&&o!==s||s===i)?b.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),s)};var x=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,i,o,s){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,n("jQuery.clean() is deprecated");var r,a,l,c,d=[];if(e.merge(d,e.buildFragment(t,i).childNodes),o)for(l=function(e){return!e.type||x.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):void 0},r=0;null!==(a=d[r]);r++)e.nodeName(a,"script")&&l(a)||(o.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(c=e.grep(e.merge([],a.getElementsByTagName("script")),l),d.splice.apply(d,[r+1,0].concat(c)),r+=c.length));return d});var _=e.event.add,C=e.event.remove,k=e.event.trigger,T=e.fn.toggle,S=e.fn.live,E=e.fn.die,D="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",A=new RegExp("\\b(?:"+D+")\\b"),M=/(?:^|\s)hover(\.\S+|)\b/,N=function(t){return"string"!=typeof t||e.event.special.hover?t:(M.test(t)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(M,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,i,o,s){e!==document&&A.test(t)&&n("AJAX events should be attached to document: "+t),_.call(this,e,N(t||""),i,o,s)},e.event.remove=function(e,t,i,n,o){C.call(this,e,N(t)||"",i,n,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return n("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,i){if(!e.isFunction(t)||!e.isFunction(i))return T.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,s=t.guid||e.guid++,r=0,a=function(i){var n=(e._data(this,"lastToggle"+t.guid)||0)%r;return e._data(this,"lastToggle"+t.guid,n+1),i.preventDefault(),o[n].apply(this,arguments)||!1};for(a.guid=s;r<o.length;)o[r++].guid=s;return this.click(a)},e.fn.live=function(t,i,o){return n("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,i,o),this)},e.fn.die=function(t,i){return n("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",i),this)},e.event.trigger=function(e,t,i,o){return i||A.test(e)||n("Global events are undocumented and deprecated"),k.call(this,e,t,i||document,o)},e.each(D.split("|"),function(t,i){e.event.special[i]={setup:function(){var t=this;return t!==document&&(e.event.add(document,i+"."+e.guid,function(){e.event.trigger(i,null,t,!0)}),e._data(this,i,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,i+"."+e._data(this,i)),!1}}})}(jQuery,window),window.tinyMCEPreInit=window.tinyMCEPreInit||{base:"/assets/tinymce",query:"3.5.8.3",suffix:""},function(e){var t,i=/^\s*|\s*$/g,n="$1"==="B".replace(/A(.)|B/,"$1"),o={majorVersion:"3",minorVersion:"5.8",releaseDate:"2012-11-20",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(l.suffix="_src"),-1!=(r=e.src.indexOf("?"))&&(l.query=e.src.substring(r+1)),l.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),s&&-1==l.baseURL.indexOf("://")&&0!==l.baseURL.indexOf("/")&&(l.baseURL=s+l.baseURL),l.baseURL):null}var i,n,o,s,r,a,l=this,c=document,d=navigator,u=d.userAgent;if(l.isOpera=e.opera&&opera.buildNumber,l.isWebKit=/WebKit/.test(u),l.isIE=!l.isWebKit&&!l.isOpera&&/MSIE/gi.test(u)&&/Explorer/gi.test(d.appName),l.isIE6=l.isIE&&/MSIE [56]/.test(u),l.isIE7=l.isIE&&/MSIE [7]/.test(u),l.isIE8=l.isIE&&/MSIE [8]/.test(u),l.isIE9=l.isIE&&/MSIE [9]/.test(u),l.isGecko=!l.isWebKit&&/Gecko/.test(u),l.isMac=-1!=u.indexOf("Mac"),l.isAir=/adobeair/i.test(u),l.isIDevice=/(iPad|iPhone)/.test(u),l.isIOS5=l.isIDevice&&u.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return l.suffix=tinyMCEPreInit.suffix,l.baseURL=tinyMCEPreInit.base,l.query=tinyMCEPreInit.query,void 0;for(l.suffix="",n=c.getElementsByTagName("base"),i=0;i<n.length;i++)a=n[i].href,a&&(/^https?:\/\/[^\/]+$/.test(a)&&(a+="/"),s=a?a.match(/.*\//)[0]:"");for(n=c.getElementsByTagName("script"),i=0;i<n.length;i++)if(t(n[i]))return;if(o=c.getElementsByTagName("head")[0])for(n=o.getElementsByTagName("script"),i=0;i<n.length;i++)if(t(n[i]))return},is:function(e,i){return i?"array"==i&&o.isArray(e)?!0:typeof e==i:e!==t},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},makeMap:function(e,t,i){var n;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),i=i||{},n=e.length;n--;)i[e[n]]={};return i},each:function(e,i,n){var o,s;if(!e)return 0;if(n=n||e,e.length!==t){for(o=0,s=e.length;s>o;o++)if(i.call(n,e[o],o,e)===!1)return 0}else for(o in e)if(e.hasOwnProperty(o)&&i.call(n,e[o],o,e)===!1)return 0;return 1},trim:function(e){return(e?""+e:"").replace(i,"")},create:function(e,t,i){var n,o,s,r,a,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),s=e[3].match(/(^|\.)(\w+)$/i)[2],o=l.createNS(e[3].replace(/\.\w+$/,""),i),!o[s]){if("static"==e[2])return o[s]=t,this.onCreate&&this.onCreate(e[2],e[3],o[s]),void 0;t[s]||(t[s]=function(){},c=1),o[s]=t[s],l.extend(o[s].prototype,t),e[5]&&(n=l.resolve(e[5]).prototype,r=e[5].match(/\.(\w+)$/i)[1],a=o[s],o[s]=c?function(){return n[r].apply(this,arguments)}:function(){return this.parent=n[r],a.apply(this,arguments)},o[s].prototype[s]=o[s],l.each(n,function(e,t){o[s].prototype[t]=n[t]}),l.each(t,function(e,t){n[t]?o[s].prototype[t]=function(){return this.parent=n[t],e.apply(this,arguments)}:t!=s&&(o[s].prototype[t]=e)})),l.each(t["static"],function(e,t){o[s][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],o[s].prototype)}},walk:function(e,t,i,n){n=n||this,e&&(i&&(e=e[i]),o.each(e,function(e,s){return t.call(n,e,s,i)===!1?!1:(o.walk(e,t,i,n),void 0)}))},createNS:function(t,i){var n,o;for(i=i||e,t=t.split("."),n=0;n<t.length;n++)o=t[n],i[o]||(i[o]={}),i=i[o];return i},resolve:function(t,i){var n,o;for(i=i||e,t=t.split("."),n=0,o=t.length;o>n&&(i=i[t[n]],i);n++);return i},addUnload:function(t,i){function n(){function t(){i.detachEvent("onstop",t),o&&o(),i=0}var i=document;"interactive"==i.readyState&&(i&&i.attachEvent("onstop",t),e.setTimeout(function(){i&&i.detachEvent("onstop",t)},0))}var o,s=this;return o=function(){var t,i,r=s.unloads;if(r){for(i in r)t=r[i],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",n),e.detachEvent("onunload",o)):e.removeEventListener&&e.removeEventListener("unload",o,!1),s.unloads=t=r=w=o=0,e.CollectGarbage&&CollectGarbage()}},t={func:t,scope:i||this},s.unloads?s.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",o),e.attachEvent("onbeforeunload",n)):e.addEventListener&&e.addEventListener("unload",o,!1),s.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,i=null;return o.each(t,function(n,o){return n&&n.func==e?(t.splice(o,1),i=e,!1):void 0}),i},explode:function(e,t){return!e||o.is(e,"array")?e:o.map(e.split(t||","),o.trim)},_addVer:function(e){var t;return this.query?(t=(-1==e.indexOf("?")?"?":"&")+this.query,-1==e.indexOf("#")?e+t:e.replace("#",t+"#")):e},_replace:function(e,i,o){return n?o.replace(e,function(){var e,n=i,o=arguments;for(e=0;e<o.length-2;e++)n=o[e]===t?n.replace(new RegExp("\\$"+e,"g"),""):n.replace(new RegExp("\\$"+e,"g"),o[e]);return n}):o.replace(e,i)}};o._init(),e.tinymce=e.tinyMCE=o}(window),function(e,t){var i,n=(t.is,/^(href|src|style)$/i);if(!e&&window.console)return console.log("Load jQuery first!");t.$=e,t.adapter={patchEditor:function(t){function o(e,t){var i=this;return t&&i.removeAttr("data-mce-style"),a.css.apply(i,arguments)}function s(e,o){var s=this;return n.test(e)?o!==i?(s.each(function(i,n){t.dom.setAttrib(n,e,o)}),s):s.attr("data-mce-"+e):a.attr.apply(s,arguments)}function r(e){return e.css!==o&&(e.css=o,e.attr=s,e.tinymce=t,e.pushStack=function(){return r(a.pushStack.apply(this,arguments))}),e}var a=e.fn;t.$=function(i,n){var o=t.getDoc();return r(e(i||o,o||n))}}},t.extend=e.extend,t.extend(t,{map:e.map,grep:function(t,i){return e.grep(t,i||function(){return 1})},inArray:function(t,i){return e.inArray(i,t||[])}});var o={"tinymce.dom.DOMUtils":{select:function(t,i){var n=this;return e.find(t,n.get(i)||n.get(n.settings.root_element)||n.doc,[])},is:function(t,i){return e(this.get(t)).is(i)}}};t.onCreate=function(e,i,n){t.extend(n,o[i])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(e){this.scope=e||this,this.listeners=[]},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){var i=this,n={cb:e,scope:t||i.scope};return i.inDispatch?i.listeners=[n].concat(i.listeners):i.listeners.unshift(n),e},remove:function(e){var t=this.listeners,i=null;return tinymce.each(t,function(n,o){return e==n.cb?(i=n,t.splice(o,1),!1):void 0}),i},dispatch:function(){var e,t,i,n=this,o=arguments,s=n.listeners;for(n.inDispatch=!0,t=0;t<s.length&&(i=s[t],e=i.cb.apply(i.scope,o.length>0?o:[i.scope]),e!==!1);t++);return n.inDispatch=!1,e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,i){var n,o,s=this;return t=tinymce.trim(t),i=s.settings=i||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?(s.source=t,void 0):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(o=i.base_uri?i.base_uri.path:new tinymce.util.URI(location.href).directory,t=(i.base_uri&&i.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(o,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,i){var n=t[i];n&&(n=n.replace(/\(mce_at\)/g,"@@")),s[e]=n}),n=i.base_uri,n&&(s.protocol||(s.protocol=n.protocol),s.userInfo||(s.userInfo=n.userInfo),s.port||"mce_host"!==s.host||(s.port=n.port),s.host&&"mce_host"!==s.host||(s.host=n.host),s.source=""),void 0)},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,i=this;if("./"===e)return e;if(e=new tinymce.util.URI(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol)return e.getURI();var n=i.getURI(),o=e.getURI();return n==o||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==o?n:(t=i.toRelPath(i.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new tinymce.util.URI(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var i,n,o,s=0,r="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),i=t.split("/"),e.length>=i.length)for(n=0,o=e.length;o>n;n++)if(n>=i.length||e[n]!=i[n]){s=n+1;break}if(e.length<i.length)for(n=0,o=i.length;o>n;n++)if(n>=e.length||e[n]!=i[n]){s=n+1;break}if(1===s)return t;for(n=0,o=e.length-(s-1);o>n;n++)r+="../";for(n=s-1,o=i.length;o>n;n++)r+=n!=s-1?"/"+i[n]:i[n];return r},toAbsPath:function(t,i){var n,o,s,r=0,a=[];for(o=/\/$/.test(i)?"/":"",t=t.split("/"),i=i.split("/"),e(t,function(e){e&&a.push(e)}),t=a,n=i.length-1,a=[];n>=0;n--)0!==i[n].length&&"."!==i[n]&&(".."!==i[n]?r>0?r--:a.push(i[n]):r++);return n=t.length-r,s=0>=n?a.reverse().join("/"):t.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==s.indexOf("/")&&(s="/"+s),o&&s.lastIndexOf("/")!==s.length-1&&(s+=o),s},getURI:function(e){var t,i=this;return(!i.source||e)&&(t="",e||(i.protocol&&(t+=i.protocol+"://"),i.userInfo&&(t+=i.userInfo+"@"),i.host&&(t+=i.host),i.port&&(t+=":"+i.port)),i.path&&(t+=i.path),i.query&&(t+="?"+i.query),i.anchor&&(t+="#"+i.anchor),i.source=t),i.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var i,n=this.get(t);return n&&e(n.split("&"),function(e){e=e.split("="),i=i||{},i[unescape(e[0])]=unescape(e[1])}),i},setHash:function(t,i,n,o,s,r){var a="";e(i,function(e,t){a+=(a?"&":"")+escape(t)+"="+escape(e)}),this.set(t,a,n,o,s,r)},get:function(e){var t,i,n=document.cookie,o=e+"=";if(n){if(i=n.indexOf("; "+o),-1==i){if(i=n.indexOf(o),0!==i)return null}else i+=2;return t=n.indexOf(";",i),-1==t&&(t=n.length),unescape(n.substring(i+o.length,t))}},set:function(e,t,i,n,o,s){document.cookie=e+"="+escape(t)+(i?"; expires="+i.toGMTString():"")+(n?"; path="+escape(n):"")+(o?"; domain="+o:"")+(s?"; secure":"")},remove:function(e,t,i){var n=new Date;n.setTime(n.getTime()-1e3),this.set(e,"",n,t,i)}})}(),function(){function serialize(e,t){var i,n,o,s;if(t=t||'"',null==e)return"null";if(o=typeof e,"string"==o)return n="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(i=n.indexOf(o),i+1?"\\"+n.charAt(i+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,n="[";i<e.length;i++)n+=(i>0?",":"")+serialize(e[i],t);return n+"]"}n="{";for(s in e)e.hasOwnProperty(s)&&(n+="function"!=typeof e[s]?(n.length>1?","+t:t)+s+t+":"+serialize(e[s],t):"");return n+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(){!e.async||4==n.readyState||r++>1e4?(e.success&&1e4>r&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):s.setTimeout(t,10)}function i(e){n=0;try{n=new ActiveXObject(e)}catch(t){}return n}var n,o,s=window,r=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",n=s.XMLHttpRequest?new XMLHttpRequest:i("Microsoft.XMLHTTP")||i("Msxml2.XMLHTTP")){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(e.data),!e.async)return t();o=s.setTimeout(t,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,i=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(n){var o=n.error,s=n.success;n=e(this.settings,n),n.success=function(e,i){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?o.call(n.error_scope||n.scope,e.error,i):s.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){o&&o.call(n.error_scope||n.scope,e,t)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",i.send(n)},"static":{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return e.isMac?t.metaKey:t.ctrlKey&&!t.altKey}}}(tinymce),tinymce.util.Quirks=function(e){function t(t,i){try{e.getDoc().execCommand(t,!1,i)}catch(n){}}function i(){var t=e.getDoc().documentMode;return t?t:6}function n(e){return e.isDefaultPrevented()}function o(){function t(t){var i,n,o,s;if(i=N.getRng(),n=M.getParent(i.startContainer,M.isBlock),t&&(n=M.getNext(n,M.isBlock)),n){for(o=n.firstChild;o&&3==o.nodeType&&0===o.nodeValue.length;)o=o.nextSibling;o&&"SPAN"===o.nodeName&&(s=o.cloneNode(!1))}L(M.select("span",n),function(e){e.setAttribute("data-mce-mark","1")}),e.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),n=M.getParent(i.startContainer,M.isBlock),L(M.select("span",n),function(e){var t=N.getBookmark();s?M.replace(s.cloneNode(!1),e,!0):e.getAttribute("data-mce-mark")?e.removeAttribute("data-mce-mark"):M.remove(e,!0),N.moveToBookmark(t)})}e.onKeyDown.add(function(e,i){var o;o=i.keyCode==A,n(i)||!o&&i.keyCode!=D||E.modifierPressed(i)||(i.preventDefault(),t(o))}),e.addCommand("Delete",function(){t()})}function s(){function t(e){var t=M.create("body"),i=e.cloneContents();return t.appendChild(i),N.serializer.serialize(t,{format:"html"})}function i(i){var n=t(i),o=M.createRng();o.selectNode(e.getBody());var s=t(o);return n===s}e.onKeyDown.add(function(e,t){var o,s=t.keyCode;if(!n(t)&&(s==A||s==D)){if(o=e.selection.isCollapsed(),o&&!M.isEmpty(e.getBody()))return;if(tinymce.isIE&&!o)return;if(!o&&!i(e.selection.getRng()))return;e.setContent(""),e.selection.setCursorLocation(e.getBody(),0),e.nodeChanged()}})}function r(){e.onKeyDown.add(function(e,t){!n(t)&&65==t.keyCode&&E.metaKeyPressed(t)&&(t.preventDefault(),e.execCommand("SelectAll"))})}function a(){e.settings.content_editable||(M.bind(e.getDoc(),"focusin",function(){N.setRng(N.getRng())}),M.bind(e.getDoc(),"mousedown",function(t){t.target==e.getDoc().documentElement&&(e.getWin().focus(),N.setRng(N.getRng()))}))}function l(){e.onKeyDown.add(function(e,t){if(!n(t)&&t.keyCode===D&&N.isCollapsed()&&0===N.getRng(!0).startOffset){var i=N.getNode(),o=i.previousSibling;o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(M.remove(o),tinymce.dom.Event.cancel(t))}})}function c(){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if(!n(t)&&"HTML"===t.target.nodeName){var i=e.getBody();i.blur(),setTimeout(function(){i.focus()},0)}})}function d(){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&N.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&M.hasClass(t,"mceItemAnchor")&&N.select(t),e.nodeChanged()})}function u(){function t(){var t=M.getAttribs(N.getStart().cloneNode(!1));return function(){var i=N.getStart();i!==e.getBody()&&(M.setAttrib(i,"style",null),L(t,function(e){i.setAttributeNode(e.cloneNode(!0))}))}}function i(){return!N.isCollapsed()&&M.getParent(N.getStart(),M.isBlock)!=M.getParent(N.getEnd(),M.isBlock)}function o(e,t){return t.preventDefault(),!1}e.onKeyPress.add(function(e,o){var s;return n(o)||8!=o.keyCode&&46!=o.keyCode||!i()?void 0:(s=t(),e.getDoc().execCommand("delete",!1,null),s(),o.preventDefault(),!1)}),M.bind(e.getDoc(),"cut",function(s){var r;!n(s)&&i()&&(r=t(),e.onKeyUp.addToTop(o),setTimeout(function(){r(),e.onKeyUp.remove(o)},0))})}function h(){var t,i;M.bind(e.getDoc(),"selectionchange",function(){i&&(clearTimeout(i),i=0),i=window.setTimeout(function(){var i=N.getRng();t&&tinymce.dom.RangeUtils.compareRanges(i,t)||(e.nodeChanged(),t=i)},50)})}function p(){document.body.setAttribute("role","application")}function f(){e.onKeyDown.add(function(e,t){if(!n(t)&&t.keyCode===D&&N.isCollapsed()&&0===N.getRng(!0).startOffset){var i=N.getNode().previousSibling;if(i&&i.nodeName&&"table"===i.nodeName.toLowerCase())return tinymce.dom.Event.cancel(t)}})}function m(){i()>7||(t("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),M.addClass(e.getBody(),"mceHideBrInPre"),I.addNodeFilter("pre",function(e){for(var t,i,n,o,s=e.length;s--;)for(t=e[s].getAll("br"),i=t.length;i--;)n=t[i],o=n.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":n.parent.insert(new tinymce.html.Node("#text",3),n,!0).value="\n"}),B.addNodeFilter("pre",function(e){for(var t,i,n,o,s=e.length;s--;)for(t=e[s].getAll("br"),i=t.length;i--;)n=t[i],o=n.prev,o&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))}function g(){M.bind(e.getBody(),"mouseup",function(){var e,t=N.getNode();"IMG"==t.nodeName&&((e=M.getStyle(t,"width"))&&(M.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),M.setStyle(t,"width","")),(e=M.getStyle(t,"height"))&&(M.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),M.setStyle(t,"height","")))})}function v(){e.onKeyDown.add(function(e,t){var i,o,s,r,a,l,c;i=t.keyCode==A,n(t)||!i&&t.keyCode!=D||E.modifierPressed(t)||(o=N.getRng(),s=o.startContainer,r=o.startOffset,c=o.collapsed,3==s.nodeType&&s.nodeValue.length>0&&(0===r&&!c||c&&r===(i?0:1))&&(nonEmptyElements=e.schema.getNonEmptyElements(),t.preventDefault(),a=M.create("br",{id:"__tmp"}),s.parentNode.insertBefore(a,s),e.getDoc().execCommand(i?"ForwardDelete":"Delete",!1,null),s=N.getRng().startContainer,l=s.previousSibling,l&&1==l.nodeType&&!M.isBlock(l)&&M.isEmpty(l)&&!nonEmptyElements[l.nodeName.toLowerCase()]&&M.remove(l),M.remove("__tmp")))})}function y(){e.onKeyDown.add(function(e,t){var i,o,s,r,a;if(!n(t)&&t.keyCode==E.BACKSPACE&&(i=N.getRng(),o=i.startContainer,s=i.startOffset,r=M.getRoot(),a=o,i.collapsed&&0===s)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=r;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),i=M.createRng(),i.setStart(o,0),i.setEnd(o,0),N.setRng(i))}})}function b(){function i(){e._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),P.object_resizing||t("enableObjectResizing",!1)}P.readonly||(e.onBeforeExecCommand.add(i),e.onMouseDown.add(i))}function x(){function t(){L(M.select("a"),function(e){var t=e.parentNode,i=M.getRoot();if(t.lastChild===e){for(;t&&!M.isBlock(t);){if(t.parentNode.lastChild!==t||t===i)return;t=t.parentNode}M.add(t,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(e,i){"CreateLink"===i&&t(e)}),e.onSetContent.add(N.onSetContent.add(t))}function w(){P.forced_root_block&&e.onInit.add(function(){t("DefaultParagraphSeparator",P.forced_root_block)})}function _(){function t(t,i){t&&i.initial||e.execCommand("mceRepaint")}e.onUndo.add(t),e.onRedo.add(t),e.onSetContent.add(t)}function C(){e.onKeyDown.add(function(e,t){var i;n(t)||t.keyCode!=D||(i=e.getDoc().selection.createRange(),i&&i.item&&(t.preventDefault(),e.undoManager.beforeChange(),M.remove(i.item(0)),e.undoManager.add()))})}function k(){var t;i()>=10&&(t="",L("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,i){t+=(i>0?",":"")+e+":empty"}),e.contentStyles.push(t+"{padding-right: 1px !important}"))}function T(){function i(e){var t,i;t=e.screenX-h,i=e.screenY-p,y=t*u[2]+f,b=i*u[3]+m,y=5>y?5:y,b=5>b?5:b,(E.modifierPressed(e)||"IMG"==c.nodeName&&0!==u[2]*u[3])&&(y=Math.round(b/g),b=Math.round(y*g)),M.setStyles(d,{width:y,height:b}),u[2]<0&&d.clientWidth<=y&&M.setStyle(d,"left",a+(f-y)),u[3]<0&&d.clientHeight<=b&&M.setStyle(d,"top",l+(m-b))}function n(){function t(t,i){i&&(c.style[t]||!e.schema.isValid(c.nodeName.toLowerCase(),t)?M.setStyle(c,t,i):M.setAttrib(c,t,i))}t("width",y),t("height",b),M.unbind(w,"mousemove",i),M.unbind(w,"mouseup",n),x!=w&&(M.unbind(x,"mousemove",i),M.unbind(x,"mouseup",n)),M.remove(d),o(c)}function o(e){var t,o,r;s(),t=M.getPos(e),a=t.x,l=t.y,o=e.offsetWidth,r=e.offsetHeight,c!=e&&(c=e,y=b=0),L(v,function(e,t){var s;s=M.get("mceResizeHandle"+t),s?M.show(s):(s=M.add(w.documentElement,"div",{id:"mceResizeHandle"+t,"class":"mceResizeHandle",style:"cursor:"+t+"-resize; margin:0; padding:0"}),M.bind(s,"mousedown",function(t){t.preventDefault(),n(),h=t.screenX,p=t.screenY,f=c.clientWidth,m=c.clientHeight,g=m/f,u=e,d=c.cloneNode(!0),M.addClass(d,"mceClonedResizable"),M.setStyles(d,{left:a,top:l,margin:0}),w.documentElement.appendChild(d),M.bind(w,"mousemove",i),M.bind(w,"mouseup",n),x!=w&&(M.bind(x,"mousemove",i),M.bind(x,"mouseup",n))})),M.setStyles(s,{left:o*e[0]+a-s.offsetWidth/2,top:r*e[1]+l-s.offsetHeight/2})}),tinymce.isOpera||"IMG"!=c.nodeName||c.setAttribute("data-mce-selected","1")}function s(){c&&c.removeAttribute("data-mce-selected");for(var e in v)M.hide("mceResizeHandle"+e)}function r(){var e=M.getParent(N.getNode(),"table,img");L(M.select("img[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e?o(e):s()}var a,l,c,d,u,h,p,f,m,g,v,y,b,x=document,w=e.getDoc();P.object_resizing&&P.webkit_fake_resize!==!1&&(t("enableObjectResizing",!1),v={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),e.onNodeChange.add(r),M.bind(w,"selectionchange",r),e.serializer.addAttributeFilter("data-mce-selected",function(e,t){for(var i=e.length;i--;)e[i].attr(t,null)}))}function S(){i()<9&&(I.addNodeFilter("noscript",function(e){for(var t,i,n=e.length;n--;)t=e[n],i=t.firstChild,i&&t.attr("data-mce-innertext",i.value)}),B.addNodeFilter("noscript",function(e){for(var t,i,n,o=e.length;o--;)t=e[o],i=e[o].firstChild,i?i.value=tinymce.html.Entities.decode(i.value):(n=t.attributes.map["data-mce-innertext"],n&&(t.attr("data-mce-innertext",null),i=new tinymce.html.Node("#text",3),i.value=n,i.raw=!0,t.append(i)))}))}var E=tinymce.VK,D=E.BACKSPACE,A=E.DELETE,M=e.dom,N=e.selection,P=e.settings,I=e.parser,B=e.serializer,L=tinymce.each;f(),y(),s(),tinymce.isWebKit&&(v(),o(),a(),d(),w(),tinymce.isIDevice?h():(T(),r())),tinymce.isIE&&(l(),p(),m(),g(),C(),k(),S()),tinymce.isGecko&&(l(),c(),u(),b(),x(),_()),tinymce.isOpera&&T()},function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function i(e,t){var i,n,s,r={};if(e){for(e=e.split(","),t=t||10,i=0;i<e.length;i+=2)n=String.fromCharCode(parseInt(e[i],t)),o[n]||(s="&"+e[i+1]+";",r[n]=s,r[s]=n);return r}}var n,o,s,r=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};o={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},s={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},n=i("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?r:a,function(e){return o[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return o[e]||e})},encodeNumeric:function(e,t){return e.replace(t?r:a,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":o[e]||"&#"+e.charCodeAt(0)+";"
})},encodeNamed:function(e,t,i){return i=i||n,e.replace(t?r:a,function(e){return o[e]||i[e]||e})},getEncodeFunc:function(t,s){function l(e,t){return e.replace(t?r:a,function(e){return o[e]||s[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,t){return d.encodeNamed(e,t,s)}var d=e.html.Entities;return s=i(s)||n,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?l:t.named?s?c:d.encodeNamed:t.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(c,function(e,i,o){return i?(o=parseInt(o,2===i.length?16:10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o))):d[o]||String.fromCharCode(o)):s[e]||n[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function i(e,t,i,n){function o(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+o(t)+o(i)+o(n)}var n,o,s,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,d={};for(e=e||{},s="\\\" \\' \\; \\: ; : ﻿".split(" "),o=0;o<s.length;o++)d[s[o]]="﻿"+o,d["﻿"+o]=s[o];return{toHex:function(e){return e.replace(r,i)},parse:function(t){function n(e,t){var i,n,o,s;i=y[e+"-top"+t],i&&(n=y[e+"-right"+t],i==n&&(o=y[e+"-bottom"+t],n==o&&(s=y[e+"-left"+t],o==s&&(y[e+t]=s,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function o(e){var t,i=y[e];if(i&&!(i.indexOf(" ")<0)){for(i=i.split(" "),t=i.length;t--;)if(i[t]!==i[0])return!1;return y[e]=i[0],!0}}function s(e,t,i,n){o(t)&&o(i)&&o(n)&&(y[e]=y[t]+" "+y[i]+" "+y[n],delete y[t],delete y[i],delete y[n])}function u(e){return v=!0,d[e]}function h(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return d[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e,t,i,n,o,s){return(o=o||s)?(o=h(o),"'"+o.replace(/\'/g,"\\'")+"'"):(t=h(t||i||n),b&&(t=b.call(x,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var f,m,g,v,y={},b=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,u).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,u)});f=l.exec(t);)m=f[1].replace(c,"").toLowerCase(),g=f[2].replace(c,""),m&&g.length>0&&("font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(r,i),g=g.replace(a,p),y[m]=v?h(g,!0):g),l.lastIndex=f.index+f[0].length;n("border",""),n("border","-width"),n("border","-color"),n("border","-style"),n("padding",""),n("margin",""),s("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,i){function o(i){var o,s,r,l;if(o=t.styles[i])for(s=0,r=o.length;r>s;s++)i=o[s],l=e[i],l!==n&&l.length>0&&(a+=(a.length>0?" ":"")+i+": "+l+";")}var s,r,a="";if(i&&t&&t.styles)o("*"),o(i);else for(s in e)r=e[s],r!==n&&r.length>0&&(a+=(a.length>0?" ":"")+s+": "+r+";");return a}}},function(e){function t(e,t){return e.split(t||",")}function i(e,i){function n(t){return t.replace(/[A-Z]+/g,function(t){return n(e[t])})}var o,s={};for(o in e)e.hasOwnProperty(o)&&(e[o]=n(e[o]));return n(i).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,i,n,o){n=t(n,"|"),s[i]={attributes:r(n),attributesOrder:n,children:r(o,"|",{"#comment":{}})}}),s}function n(){var e=s.html5;return e||(e=s.html5=i({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),e}function o(){var e=s.html4;return e||(e=s.html4=i({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),e}var s={},r=e.makeMap,a=e.each;e.html.Schema=function(i){function l(t,n,o){var a=i[t];return a?a=r(a,",",r(a.toUpperCase()," ")):(a=s[t],a||(a=r(n," ",r(n.toUpperCase()," ")),a=e.extend(a,o),s[t]=a)),a}function c(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(i){var n,o,s,a,l,d,u,h,p,f,m,g,v,y,b,x,w,_,C,T=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,E=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,D=/[*?+]/;if(i)for(i=t(i),k["@"]&&(x=k["@"].attributes,w=k["@"].attributesOrder),n=0,o=i.length;o>n;n++)if(l=T.exec(i[n])){if(y=l[1],p=l[2],b=l[3],h=l[4],g={},v=[],d={attributes:g,attributesOrder:v},"#"===y&&(d.paddEmpty=!0),"-"===y&&(d.removeEmpty=!0),x){for(_ in x)g[_]=x[_];v.push.apply(v,w)}if(h)for(h=t(h,"|"),s=0,a=h.length;a>s;s++)if(l=E.exec(h[s])){if(u={},m=l[1],f=l[2].replace(/::/g,":"),y=l[3],C=l[4],"!"===m&&(d.attributesRequired=d.attributesRequired||[],d.attributesRequired.push(f),u.required=!0),"-"===m){delete g[f],v.splice(e.inArray(v,f),1);continue}y&&("="===y&&(d.attributesDefault=d.attributesDefault||[],d.attributesDefault.push({name:f,value:C}),u.defaultValue=C),":"===y&&(d.attributesForced=d.attributesForced||[],d.attributesForced.push({name:f,value:C}),u.forcedValue=C),"<"===y&&(u.validValues=r(C,"?"))),D.test(f)?(d.attributePatterns=d.attributePatterns||[],u.pattern=c(f),d.attributePatterns.push(u)):(g[f]||v.push(f),g[f]=u)}x||"@"!=p||(x=g,w=v),b&&(d.outputName=p,k[b]=d),D.test(p)?(d.pattern=c(p),S.push(d)):k[p]=d}}function u(e){k={},S=[],d(e),a(g,function(e,t){T[t]=e.children})}function h(e){var i=/^(~)?(.+)$/;e&&a(t(e),function(e){var t=i.exec(e),n="~"===t[1],o=n?"span":"div",s=t[2];T[s]=T[o],E[s]=o,n||(w[s.toUpperCase()]={},w[s]={}),k[s]||(k[s]=k[o]),a(T,function(e){e[o]&&(e[s]=e[o])})})}function p(e){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&a(t(e),function(e){var n,o,s=i.exec(e);s&&(o=s[1],n=o?T[s[2]]:T[s[2]]={"#comment":{}},n=T[s[2]],a(t(s[3],"|"),function(e){"-"===o?delete n[e]:n[e]={}}))})}function f(e){var t,i=k[e];if(i)return i;for(t=S.length;t--;)if(i=S[t],i.pattern.test(e))return i}var m,g,v,y,b,x,w,_,C=this,k={},T={},S=[],E={};i=i||{},g="html5"==i.schema?n():o(),i.verify_html===!1&&(i.valid_elements="*[*]"),i.valid_styles&&(m={},a(i.valid_styles,function(t,i){m[i]=e.explode(t)})),v=l("whitespace_elements","pre script noscript style textarea"),y=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),x=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=l("non_empty_elements","td th iframe video audio object",b),textBlockElementsMap=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),i.valid_elements?u(i.valid_elements):(a(g,function(e,t){k[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},T[t]=e.children}),"html5"!=i.schema&&a(t("strong/b,em/i"),function(e){e=t(e,"/"),k[e[1]].outputName=e[0]}),k.img.attributesDefault=[{name:"alt",value:""}],a(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(e){k[e]&&(k[e].removeEmpty=!0)}),a(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){k[e].paddEmpty=!0})),h(i.custom_elements),p(i.valid_children),d(i.extended_valid_elements),p("+ol[ul|ol],+ul[ul|ol]"),i.invalid_elements&&e.each(e.explode(i.invalid_elements),function(e){k[e]&&delete k[e]}),f("span")||d("span[!data-mce-type|*]"),C.children=T,C.styles=m,C.getBoolAttrs=function(){return x},C.getBlockElements=function(){return w},C.getTextBlockElements=function(){return textBlockElementsMap},C.getShortEndedElements=function(){return b},C.getSelfClosingElements=function(){return y},C.getNonEmptyElements=function(){return _},C.getWhiteSpaceElements=function(){return v},C.isValidChild=function(e,t){var i=T[e];return!(!i||!i[t])},C.isValid=function(e,t){var i,n,o=f(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(i=o.attributePatterns)for(n=i.length;n--;)if(i[n].pattern.test(e))return!0}return!1},C.getElementRule=f,C.getCustomElements=function(){return E},C.addValidElements=d,C.setValidElements=u,C.addCustomElements=h,C.addValidChildren=p,C.elements=k}}(tinymce),function(e){e.html.SaxParser=function(t,i){var n=this,o=function(){};t=t||{},n.schema=i=i||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=t[e]||o)}),n.parse=function(n){function o(e){var t,i;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(i=H.length-1;i>=t;i--)e=H[i],e.valid&&O.end(e.name);H.length=t}}function s(e,t,i,n,o){var s,r;if(t=t.toLowerCase(),i=t in g?t:z(i||n||o||""),y&&!p&&0!==t.indexOf("data-")){if(s=k[t],!s&&T){for(r=T.length;r--&&(s=T[r],!s.pattern.test(t)););-1===r&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}c.map[t]=i,c.push({name:t,value:i})}var r,a,l,c,d,u,h,p,f,m,g,v,y,b,x,w,_,C,k,T,S,E,D,A,M,N,P,I,B,L,O=this,R=0,H=[],F=0,z=e.html.Entities.decode;for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,P={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},m=i.getShortEndedElements(),A=t.self_closing_elements||i.getSelfClosingElements(),g=i.getBoolAttrs(),y=t.validate,f=t.remove_internals,B=t.fix_self_closing,L=e.isIE,C=/^:/;r=M.exec(n);){if(R<r.index&&O.text(z(n.substr(R,r.index-R))),a=r[6])a=a.toLowerCase(),L&&C.test(a)&&(a=a.substr(1)),o(a);else if(a=r[7]){if(a=a.toLowerCase(),L&&C.test(a)&&(a=a.substr(1)),v=a in m,B&&A[a]&&H.length>0&&H[H.length-1].name===a&&o(a),!y||(b=i.getElementRule(a))){if(x=!0,y&&(k=b.attributes,T=b.attributePatterns),(_=r[8])?(p=-1!==_.indexOf("data-mce-type"),p&&f&&(x=!1),c=[],c.map={},_.replace(N,s)):(c=[],c.map={}),y&&!p){if(S=b.attributesRequired,E=b.attributesDefault,D=b.attributesForced)for(d=D.length;d--;)w=D[d],h=w.name,I=w.value,"{$uid}"===I&&(I="mce_"+F++),c.map[h]=I,c.push({name:h,value:I});if(E)for(d=E.length;d--;)w=E[d],h=w.name,h in c.map||(I=w.value,"{$uid}"===I&&(I="mce_"+F++),c.map[h]=I,c.push({name:h,value:I}));if(S){for(d=S.length;d--&&!(S[d]in c.map););-1===d&&(x=!1)}c.map["data-mce-bogus"]&&(x=!1)}x&&O.start(a,c,v)}else x=!1;if(l=P[a]){l.lastIndex=R=r.index+r[0].length,(r=l.exec(n))?(x&&(u=n.substr(R,r.index-R)),R=r.index+r[0].length):(u=n.substr(R),R=n.length),x&&u.length>0&&O.text(u,!0),x&&O.end(a),M.lastIndex=R;continue}v||(_&&_.indexOf("/")==_.length-1?x&&O.end(a):H.push({name:a,valid:x}))}else(a=r[1])?O.comment(a):(a=r[2])?O.cdata(a):(a=r[3])?O.doctype(a):(a=r[4])&&O.pi(a,r[5]);R=r.index+r[0].length}for(R<n.length&&O.text(z(n.substr(R))),d=H.length-1;d>=0;d--)a=H[d],a.valid&&O.end(a.name)}}}(tinymce),function(e){function t(e,t,i){var n,o,s=i?"lastChild":"firstChild",r=i?"prev":"next";if(e[s])return e[s];if(e!==t){if(n=e[r])return n;for(o=e.parent;o&&o!==t;o=o.parent)if(n=o[r])return n}}function i(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,o={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(i.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var i,n,o,s=this;if("string"!=typeof e){for(n in e)s.attr(n,e[n]);return s}if(i=s.attributes){if(t!==o){if(null===t){if(e in i.map)for(delete i.map[e],n=i.length;n--;)if(i[n].name===e)return i=i.splice(n,1),s;return s}if(e in i.map){for(n=i.length;n--;)if(i[n].name===e){i[n].value=t;break}}else i.push({name:e,value:t});return i.map[e]=t,s}return i.map[e]}},clone:function(){var e,t,n,o,s,r=this,a=new i(r.name,r.type);if(n=r.attributes){for(s=[],s.map={},e=0,t=n.length;t>e;e++)o=n[e],"id"!==o.name&&(s[s.length]={name:o.name,value:o.value},s.map[o.name]=o.value);a.attributes=s}return a.value=r.value,a.shortEnded=r.shortEnded,a},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,i=this;for(e=i.firstChild;e;)t=e.next,i.insert(e,i,!0),e=t;i.remove()},remove:function(){var e=this,t=e.parent,i=e.next,n=e.prev;return t&&(t.firstChild===e?(t.firstChild=i,i&&(i.prev=null)):n.next=i,t.lastChild===e?(t.lastChild=n,n&&(n.next=null)):i.prev=n,e.parent=e.next=e.prev=null),e},append:function(e){var t,i=this;return e.parent&&e.remove(),t=i.lastChild,t?(t.next=e,e.prev=t,i.lastChild=e):i.lastChild=i.firstChild=e,e.parent=i,e},insert:function(e,t,i){var n;return e.parent&&e.remove(),n=t.parent||this,i?(t===n.firstChild?n.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===n.lastChild?n.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=n,e},getAll:function(e){var i,n=this,o=[];for(i=n.firstChild;i;i=t(i,n))i.name===e&&o.push(i);return o},empty:function(){var e,i,n,o=this;if(o.firstChild){for(e=[],n=o.firstChild;n;n=t(n,o))e.push(n);for(i=e.length;i--;)n=e[i],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return o.firstChild=o.lastChild=null,o},isEmpty:function(e){var i,o,s=this,r=s.firstChild;if(r)do{if(1===r.type){if(r.attributes.map["data-mce-bogus"])continue;if(e[r.name])return!1;for(i=r.attributes.length;i--;)if(o=r.attributes[i].name,"name"===o||0===o.indexOf("data-mce-"))return!1}if(8===r.type)return!1;if(3===r.type&&!n.test(r.value))return!1}while(r=t(r,s));return!0},walk:function(e){return t(this,null,e)}}),e.extend(i,{create:function(e,t){var n,s;if(n=new i(e,o[e]||1),t)for(s in t)n.attr(s,t[s]);return n}}),e.html.Node=i}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(i,n){function o(i){var o,r,a,l,c,d,u,h,p,f,m,g,v,y;for(m=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),f=n.getNonEmptyElements(),g=n.getTextBlockElements(),o=0;o<i.length;o++)if(r=i[o],r.parent&&!r.fixed)if(g[r.name]&&"li"==r.parent.name){for(v=r.next;v&&g[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(l=[r],a=r.parent;a&&!n.isValidChild(a.name,r.name)&&!m[a.name];a=a.parent)l.push(a);if(a&&l.length>1){for(l.reverse(),c=d=s.filterNode(l[0].clone()),p=0;p<l.length-1;p++){for(n.isValidChild(d.name,l[p].name)?(u=s.filterNode(l[p].clone()),d.append(u)):u=d,h=l[p].firstChild;h&&h!=l[p+1];)y=h.next,u.append(h),h=y;d=u}c.isEmpty(f)?a.insert(r,l[0],!0):(a.insert(c,l[0],!0),a.insert(r,c)),a=l[0],(a.isEmpty(f)||a.firstChild===a.lastChild&&"br"===a.firstChild.name)&&a.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(s.filterNode(new t("ul",1)));continue}n.isValidChild(r.parent.name,"div")&&n.isValidChild("div",r.name)?r.wrap(s.filterNode(new t("div",1))):"style"===r.name||"script"===r.name?r.empty().remove():r.unwrap()}}}var s=this,r={},a=[],l={},c={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",s.schema=n=n||new e.html.Schema,s.filterNode=function(e){var t,i,n;i in r&&(n=l[i],n?n.push(e):l[i]=[e]),t=a.length;for(;t--;)i=a[t].name,i in e.attributes.map&&(n=c[i],n?n.push(e):c[i]=[e]);return e},s.addNodeFilter=function(t,i){e.each(e.explode(t),function(e){var t=r[e];t||(r[e]=t=[]),t.push(i)})},s.addAttributeFilter=function(t,i){e.each(e.explode(t),function(e){var t;for(t=0;t<a.length;t++)if(a[t].name===e)return a[t].callbacks.push(i),void 0;a.push({name:e,callbacks:[i]})})},s.parse=function(s,d){function u(){for(var e,t,i=g.firstChild;i;)e=i.next,3==i.type||1==i.type&&"p"!==i.name&&!S[i.name]&&!i.attr("data-mce-type")?t?t.append(i):(t=h(L,1),g.insert(t,i),t.append(i)):t=null,i=e}function h(e,i){var n,o=new t(e,i);return e in r&&(n=l[e],n?n.push(o):l[e]=[o]),o}function p(e){var t,i,n;for(t=e.prev;t&&3===t.type;)i=t.value.replace(A,""),i.length>0?(t.value=i,t=t.prev):(n=t.prev,t.remove(),t=n)}function f(e){var t,i={};for(t in e)"li"!==t&&"p"!=t&&(i[t]=e[t]);return i}var m,g,v,y,b,x,w,_,C,k,T,S,E,D,A,M,N,P,I,B,L,O=[];if(d=d||{},l={},c={},S=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),n.getBlockElements()),B=n.getNonEmptyElements(),I=n.children,T=i.validate,L="forced_root_block"in d?d.forced_root_block:i.forced_root_block,P=n.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/,m=new e.html.SaxParser({validate:T,self_closing_elements:f(n.getSelfClosingElements()),cdata:function(e){v.append(h("#cdata",4)).value=e},text:function(e,t){var i;D||(e=e.replace(M," "),v.lastChild&&S[v.lastChild.name]&&(e=e.replace(E,""))),0!==e.length&&(i=h("#text",3),i.raw=!!t,v.append(i).value=e)},comment:function(e){v.append(h("#comment",8)).value=e},pi:function(e,t){v.append(h(e,7)).value=t,p(v)},doctype:function(e){var t;t=v.append(h("#doctype",10)),t.value=e,p(v)},start:function(e,t,i){var o,s,r,l,d;if(r=T?n.getElementRule(e):{}){for(o=h(r.outputName||e,1),o.attributes=t,o.shortEnded=i,v.append(o),d=I[v.name],d&&I[o.name]&&!d[o.name]&&O.push(o),s=a.length;s--;)l=a[s].name,l in t.map&&(C=c[l],C?C.push(o):c[l]=[o]);S[e]&&p(o),i||(v=o),!D&&P[e]&&(D=!0)}},end:function(e){var i,o,s,r,a;if(o=T?n.getElementRule(e):{}){if(S[e]&&!D){if(i=v.firstChild,i&&3===i.type)for(s=i.value.replace(E,""),s.length>0?(i.value=s,i=i.next):(r=i.next,i.remove(),i=r);i&&3===i.type;)s=i.value,r=i.next,(0===s.length||N.test(s))&&(i.remove(),i=r),i=r;if(i=v.lastChild,i&&3===i.type)for(s=i.value.replace(A,""),s.length>0?(i.value=s,i=i.prev):(r=i.prev,i.remove(),i=r);i&&3===i.type;)s=i.value,r=i.prev,(0===s.length||N.test(s))&&(i.remove(),i=r),i=r}if(D&&P[e]&&(D=!1),(o.removeEmpty||o.paddEmpty)&&v.isEmpty(B))if(o.paddEmpty)v.empty().append(new t("#text","3")).value=" ";else if(!v.attributes.map.name&&!v.attributes.map.id)return a=v.parent,v.empty().remove(),v=a,void 0;v=v.parent}}},n),g=v=new t(d.context||i.root_name,11),m.parse(s),T&&O.length&&(d.context?d.invalid=!0:o(O)),L&&"body"==g.name&&u(),!d.invalid){for(k in l){for(C=r[k],y=l[k],w=y.length;w--;)y[w].parent||y.splice(w,1);for(b=0,x=C.length;x>b;b++)C[b](y,k,d)}for(b=0,x=a.length;x>b;b++)if(C=a[b],C.name in c){for(y=c[C.name],w=y.length;w--;)y[w].parent||y.splice(w,1);for(w=0,_=C.callbacks.length;_>w;w++)C.callbacks[w](y,C.name,d)}}return g},i.remove_trailing_brs&&s.addNodeFilter("br",function(t){var i,o,s,r,a,l,c=t.length,d=e.extend({},n.getBlockElements()),u=n.getNonEmptyElements();for(d.body=1,i=0;c>i;i++)if(o=t[i],s=o.parent,d[o.parent.name]&&o===s.lastChild){for(a=o.prev;a;){if(l=a.name,"span"!==l||"bookmark"!==a.attr("data-mce-type")){if("br"!==l)break;if("br"===l){o=null;break}}a=a.prev}o&&(o.remove(),s.isEmpty(u)&&(elementRule=n.getElementRule(s.name),elementRule&&(elementRule.removeEmpty?s.remove():elementRule.paddEmpty&&(s.empty().append(new e.html.Node("#text",3)).value=" "))))}else{for(r=o;s.firstChild===r&&s.lastChild===r&&(r=s,!d[s.name]);)s=s.parent;r===s&&(textNode=new e.html.Node("#text",3),textNode.value=" ",o.replace(textNode))}}),i.allow_html_in_named_anchor||s.addAttributeFilter("id,name",function(e){for(var t,i,n,o,s=e.length;s--;)if(o=e[s],"a"===o.name&&o.firstChild&&!o.attr("href")){n=o.parent,t=o.lastChild;do i=t.prev,n.insert(t,o),t=i;while(t)}})}}(tinymce),tinymce.html.Writer=function(e){var t,i,n,o,s,r=[];return e=e||{},t=e.indent,i=tinymce.makeMap(e.indent_before||""),n=tinymce.makeMap(e.indent_after||""),o=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(e,a,l){var c,d,u,h;if(t&&i[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&"\n"!==h&&r.push("\n")),r.push("<",e),a)for(c=0,d=a.length;d>c;c++)u=a[c],r.push(" ",u.name,'="',o(u.value,!0),'"');r[r.length]=!l||s?">":" />",l&&t&&n[e]&&r.length>0&&(h=r[r.length-1],h.length>0&&"\n"!==h&&r.push("\n"))},end:function(e){var i;r.push("</",e,">"),t&&n[e]&&r.length>0&&(i=r[r.length-1],i.length>0&&"\n"!==i&&r.push("\n"))},text:function(e,t){e.length>0&&(r[r.length]=t?e:o(e))},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("<!--",e,"-->")},pi:function(e,i){i?r.push("<?",e," ",i,"?>"):r.push("<?",e,"?>"),t&&r.push("\n")},doctype:function(e){r.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,i){var n=this,o=new e.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,n.schema=i=i||new e.html.Schema,n.writer=o,n.serialize=function(e){function n(e){var t,a,l,c,d,u,h,p,f,m=s[e.type];if(m)m(e);else{if(t=e.name,a=e.shortEnded,l=e.attributes,r&&l&&l.length>1){for(u=[],u.map={},f=i.getElementRule(e.name),h=0,p=f.attributesOrder.length;p>h;h++)c=f.attributesOrder[h],c in l.map&&(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));for(h=0,p=l.length;p>h;h++)c=l[h].name,c in u.map||(d=l.map[c],u.map[c]=d,u.push({name:c,value:d}));l=u}if(o.start(e.name,l,a),!a){if(e=e.firstChild)do n(e);while(e=e.next);o.end(t)}}}var s,r;return r=t.validate,s={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do n(e);while(e=e.next)}},o.reset(),1!=e.type||t.inner?s[11](e):n(e),o.getContent()}}}(tinymce),tinymce.dom={},function(e,t){function i(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent&&e.attachEvent("on"+t,i)}function n(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n||!1):e.detachEvent&&e.detachEvent("on"+t,i)}function o(e,t){function i(){return!1}function n(){return!0}var o,s=t||{};for(o in e)"layerX"!==o&&"layerY"!==o&&(s[o]=e[o]);return s.target||(s.target=s.srcElement||document),s.preventDefault=function(){s.isDefaultPrevented=n,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=n,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=n,s.stopPropagation()},s.isDefaultPrevented||(s.isDefaultPrevented=i,s.isPropagationStopped=i,s.isImmediatePropagationStopped=i),s}function s(e,t,o){function s(){o.domLoaded||(o.domLoaded=!0,t(l))}var r=e.document,l={type:"ready"};return"complete"==r.readyState?(s(),void 0):(a?i(e,"DOMContentLoaded",s):(i(r,"readystatechange",function(){"complete"===r.readyState&&(n(r,"readystatechange",arguments.callee),s())}),r.documentElement.doScroll&&e===e.top&&!function(){try{r.documentElement.doScroll("left")}catch(e){return setTimeout(arguments.callee,0),void 0}s()}()),i(e,"load",s),void 0)}function r(e){function r(e,t){var i,n,o,s;if(i=p[t][e.type])for(n=0,o=i.length;o>n;n++)if(s=i[n],s&&s.func.call(s.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var l,c,d,u,h=this,p={};d="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},l=1,h.domLoaded=!1,h.events=p,h.bind=function(n,f,m,g){function v(e){r(o(e||T.event),y)}var y,b,x,w,_,C,k,T=window;if(n&&3!==n.nodeType&&8!==n.nodeType){for(n[t]?(y=n[t],p[y]||(p[y]={})):(y=l++,n[t]=y,p[y]={}),g=g||n,f=f.split(" "),x=f.length;x--;)w=f[x],C=v,_=k=!1,"DOMContentLoaded"===w&&(w="ready"),!h.domLoaded&&"complete"!=n.readyState||"ready"!==w?(d||(_=u[w],_&&(C=function(e){var t,i;if(t=e.currentTarget,i=e.relatedTarget,i&&t.contains)i=t.contains(i);else for(;i&&i!==t;)i=i.parentNode;i||(e=o(e||T.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,r(e,y))})),c||"focusin"!==w&&"focusout"!==w||(k=!0,_="focusin"===w?"focus":"blur",C=function(e){e=o(e||T.event),e.type="focus"===e.type?"focusin":"focusout",r(e,y)}),b=p[y][w],b?b.push({func:m,scope:g}):(p[y][w]=b=[{func:m,scope:g}],b.fakeName=_,b.capture=k,b.nativeHandler=C,a||(b.proxyHandler=e(y)),"ready"===w?s(n,C,h):i(n,_||w,a?C:b.proxyHandler,k))):(h.domLoaded=!0,m.call(g,o({type:w})));return n=b=0,m}},h.unbind=function(e,i,o){var s,r,l,c,d,u;if(!e||3===e.nodeType||8===e.nodeType)return h;if(s=e[t]){if(u=p[s],i){for(i=i.split(" "),l=i.length;l--;)if(d=i[l],r=u[d]){if(o)for(c=r.length;c--;)r[c].func===o&&r.splice(c,1);o&&0!==r.length||(delete u[d],n(e,r.fakeName||d,a?r.nativeHandler:r.proxyHandler,r.capture))}}else{for(d in u)r=u[d],n(e,r.fakeName||d,a?r.nativeHandler:r.proxyHandler,r.capture);u={}}for(d in u)return h;delete p[s];try{delete e[t]}catch(f){e[t]=null}}return h},h.fire=function(e,i,n){var s,a;if(!e||3===e.nodeType||8===e.nodeType)return h;a=o(null,n),a.type=i;do s=e[t],s&&r(a,s),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!a.isPropagationStopped());return h},h.clean=function(e){var i,n,o=h.unbind;if(!e||3===e.nodeType||8===e.nodeType)return h;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),n=e.getElementsByTagName("*"),i=n.length;i--;)e=n[i],e[t]&&o(e);return h},h.callNativeHandler=function(e,t){p&&p[e][t.type].nativeHandler(t)},h.destory=function(){p={}},h.add=function(e,t,i,n){"string"==typeof e&&(e=document.getElementById(e));{if(!(e&&e instanceof Array))return"init"===t&&(t="ready"),h.bind(e,t instanceof Array?t.join(" "):t,i,n);for(var o=e.length;o--;)h.add(e[o],t,i,n)}},h.remove=function(e,t,i,n){if(!e)return h;if("string"==typeof e&&(e=document.getElementById(e)),e instanceof Array){for(var o=e.length;o--;)h.remove(e[o],t,i,n);return h}return h.unbind(e,t instanceof Array?t.join(" "):t,i)},h.clear=function(e){return"string"==typeof e&&(e=document.getElementById(e)),h.clean(e)},h.cancel=function(e){return e&&(h.prevent(e),h.stop(e)),!1},h.prevent=function(e){return e.preventDefault||(e=o(e)),e.preventDefault(),!1},h.stop=function(e){return e.stopPropagation||(e=o(e)),e.stopPropagation(),!1}}var a=!!document.addEventListener;e.EventUtils=r,e.Event=new r(function(e){return function(t){tinymce.dom.Event.callNativeHandler(e,t)
}}),e.Event.bind(window,"ready",function(){}),e=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(e,t){function i(e,i,n,o){var s,r;if(e){if(!o&&e[i])return e[i];if(e!=t){if(s=e[n])return s;for(r=e.parentNode;r&&r!=t;r=r.parentNode)if(s=r[n])return s}}}var n=e;this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)}},function(e){var t=e.each,i=e.is,n=e.isWebKit,o=e.isIE,s=e.html.Entities,r=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,i){var n,o=this;if(o.doc=t,o.win=window,o.files={},o.cssFlicker=!1,o.counter=0,o.stdMode=!e.isIE||t.documentMode>=8,o.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in t.createElement("a"),o.settings=i=e.extend({keep_values:!1,hex_colors:1},i),o.schema=i.schema,o.styles=new e.html.Styles({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(s){o.cssFlicker=!0}o.fixDoc(t),o.events=i.ownEvents?new e.dom.EventUtils(i.proxy):e.dom.Event,e.addUnload(o.destroy,o),n=i.schema?i.schema.getBlockElements():{},o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}},fixDoc:function(e){var t,i=this.settings;if(o&&i.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in i.schema.getCustomElements())e.createElement(t)}},clone:function(e,i){var n,s,r=this;return!o||1!==e.nodeType||i?e.cloneNode(i):(s=r.doc,i?n.firstChild:(n=s.createElement(e.nodeName),t(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,i;return e=e?e:this.win,t=e.document,i=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},getRect:function(e){var t,i,n=this;return e=n.get(e),t=n.getPos(e),i=n.getSize(e),{x:t.x,y:t.y,w:i.w,h:i.h}},getSize:function(e){var t,i,n=this;return e=n.get(e),t=n.getStyle(e,"width"),i=n.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===i.indexOf("px")&&(i=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(i,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,i){return this.getParents(e,t,i,!1)},getParents:function(e,t,n,o){var s,r=this,a=r.settings,l=[];for(e=r.get(e),o=void 0===o,a.strict_root&&(n=n||r.getRoot()),i(t,"string")&&(s=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return r.is(e,s)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!o)return e;l.push(e)}e=e.parentNode}return o?l:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},add:function(e,t,n,o,s){var r=this;return this.run(e,function(e){var a;return a=i(t,"string")?r.doc.createElement(t):t,r.setAttribs(a,n),o&&(o.nodeType?a.appendChild(o):r.setHTML(a,o)),s?a:e.appendChild(a)})},create:function(e,t,i){return this.add(this.doc.createElement(e),e,t,i,1)},createHTML:function(e,t,i){var n,o="",s=this;o+="<"+e;for(n in t)t.hasOwnProperty(n)&&(o+=" "+n+'="'+s.encode(t[n])+'"');return"undefined"!=typeof i?o+">"+i+"</"+e+">":o+" />"},remove:function(t,i){return this.run(t,function(t){var n,o=t.parentNode;if(!o)return null;if(i)for(;n=t.firstChild;)!e.isIE||3!==n.nodeType||n.nodeValue?o.insertBefore(n,t):t.removeChild(n);return o.removeChild(t)})},setStyle:function(t,i,n){var s=this;return s.run(t,function(r){var a;switch(a=r.style,i=i.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),s.pixelStyles.test(i)&&(e.is(n,"number")||/^[\-0-9\.]+$/.test(n))&&(n+="px"),i){case"opacity":o&&(a.filter=""===n?"":"alpha(opacity="+100*n+")",t.currentStyle&&t.currentStyle.hasLayout||(a.display="inline-block")),a[i]=a["-moz-opacity"]=a["-khtml-opacity"]=n||"";break;case"float":o?a.styleFloat=n:a.cssFloat=n;break;default:a[i]=n||""}s.settings.update_styles&&s.setAttrib(r,"data-mce-style")})},getStyle:function(e,t,i){if(e=this.get(e)){if(this.doc.defaultView&&i){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(n){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=o?"styleFloat":"cssFloat"),e.currentStyle&&i?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,i){var n,o=this,s=o.settings;n=s.update_styles,s.update_styles=0,t(i,function(t,i){o.setStyle(e,i,t)}),s.update_styles=n,s.update_styles&&o.setAttrib(e,s.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,i=e.attributes;for(t=i.length-1;t>=0;t--)e.removeAttributeNode(i.item(t))})},setAttrib:function(e,n,o){var s=this;if(e&&n)return s.settings.strict&&(n=n.toLowerCase()),this.run(e,function(e){var r=s.settings,a=e.getAttribute(n);if(null!==o)switch(n){case"style":if(!i(o,"string"))return t(o,function(t,i){s.setStyle(e,i,t)}),void 0;r.keep_values&&(o&&!s._isRes(o)?e.setAttribute("data-mce-style",o,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=o;break;case"class":e.className=o||"";break;case"src":case"href":r.keep_values&&(r.url_converter&&(o=r.url_converter.call(r.url_converter_scope||s,o,n,e)),s.setAttrib(e,"data-mce-"+n,o,2));break;case"shape":e.setAttribute("data-mce-style",o)}if(i(o)&&null!==o&&0!==o.length?e.setAttribute(n,""+o,2):e.removeAttribute(n,2),tinyMCE.activeEditor&&a!=o){var l=tinyMCE.activeEditor;l.onSetAttrib.dispatch(l,e,n,o)}})},setAttribs:function(e,i){var n=this;return this.run(e,function(e){t(i,function(t,i){n.setAttrib(e,i,t)})})},getAttrib:function(t,s,r){var a,l,c=this;if(t=c.get(t),!t||1!==t.nodeType)return r===l?!1:r;if(i(r)||(r=""),/^(src|href|style|coords|shape)$/.test(s)&&(a=t.getAttribute("data-mce-"+s)))return a;if(o&&c.props[s]&&(a=t[c.props[s]],a=a&&a.nodeValue?a.nodeValue:a),a||(a=t.getAttribute(s,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(s))return t[c.props[s]]===!0&&""===a?s:a?s:"";if("FORM"===t.nodeName&&t.getAttributeNode(s))return t.getAttributeNode(s).nodeValue;if("style"===s&&(a=a||t.style.cssText,a&&(a=c.serializeStyle(c.parseStyle(a),t.nodeName),c.settings.keep_values&&!c._isRes(a)&&t.setAttribute("data-mce-style",a))),n&&"class"===s&&a&&(a=a.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),o)switch(s){case"rowspan":case"colspan":1===a&&(a="");break;case"size":("+0"===a||20===a||0===a)&&(a="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===a&&(a="");break;case"hspace":-1===a&&(a="");break;case"maxlength":case"tabindex":(32768===a||2147483647===a||"32768"===a)&&(a="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===a?s:r;case"shape":a=a.toLowerCase();break;default:0===s.indexOf("on")&&a&&(a=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+a))}return a!==l&&null!==a&&""!==a?""+a:r},getPos:function(e,t){var i,n,o=this,s=0,r=0,a=o.doc;if(e=o.get(e),t=t||a.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),i=o.boxModel?a.documentElement:a.body,s=e.left+(a.documentElement.scrollLeft||a.body.scrollLeft)-i.clientTop,r=e.top+(a.documentElement.scrollTop||a.body.scrollTop)-i.clientLeft,{x:s,y:r};for(n=e;n&&n!=t&&n.nodeType;)s+=n.offsetLeft||0,r+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)s-=n.scrollLeft||0,r-=n.scrollTop||0,n=n.parentNode}return{x:s,y:r}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,i=this.doc;styleElm=i.getElementById("mceDefaultStyles"),styleElm||(styleElm=i.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",t=i.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(styleElm,t.firstChild):t.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=e:styleElm.appendChild(i.createTextNode(e))},loadCSS:function(i){var n,s=this,r=s.doc;i||(i=""),n=r.getElementsByTagName("head")[0],t(i.split(","),function(t){var i;s.files[t]||(s.files[t]=!0,i=s.create("link",{rel:"stylesheet",href:e._addVer(t)}),o&&r.documentMode&&r.recalc&&(i.onload=function(){r.recalc&&r.recalc(),i.onload=null}),n.appendChild(i))})},addClass:function(e,t){return this.run(e,function(e){var i;return t?this.hasClass(e,t)?e.className:(i=this.removeClass(e,t),e.className=(""!=i?i+" ":"")+t):0})},removeClass:function(t,i){var n,o=this;return o.run(t,function(t){var s;return o.hasClass(t,i)?(n||(n=new RegExp("(^|\\s+)"+i+"(\\s+|$)","g")),s=t.className.replace(n," "),s=e.trim(" "!=s?s:""),t.className=s,s||(t.removeAttribute("class"),t.removeAttribute("className")),s):t.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(i,n){var s=this;return s.run(i,function(i){if(o){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br />"+n,i.removeChild(i.firstChild)}catch(r){var a=s.create("div");a.innerHTML="<br />"+n,t(e.grep(a.childNodes),function(e,t){t&&i.canHaveHTML&&i.appendChild(e)})}}else i.innerHTML=n;return n})},getOuterHTML:function(e){var t,i=this;return(e=i.get(e))?1===e.nodeType&&i.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||i.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,i){function n(e,t,i){var n,o;for(o=i.createElement("body"),o.innerHTML=t,n=o.lastChild;n;)s.insertAfter(n.cloneNode(!0),e),n=n.previousSibling;s.remove(e)}var s=this;return this.run(e,function(e){if(e=s.get(e),1==e.nodeType)if(i=i||e.ownerDocument||s.doc,o)try{o&&1==e.nodeType?e.outerHTML=t:n(e,t,i)}catch(r){n(e,t,i)}else n(e,t,i)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var i,n;return i=t.parentNode,n=t.nextSibling,n?i.insertBefore(e,n):i.appendChild(e),e})},replace:function(n,o,s){var r=this;return i(o,"array")&&(n=n.cloneNode(!0)),r.run(o,function(i){return s&&t(e.grep(i.childNodes),function(e){n.appendChild(e)}),i.parentNode.replaceChild(n,i)})},rename:function(e,i){var n,o=this;return e.nodeName!=i.toUpperCase()&&(n=o.create(i),t(o.getAttribs(e),function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))}),o.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var i,n=e;n;){for(i=t;i&&n!=i;)i=i.parentNode;if(n==i)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},toHex:function(e){function t(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}var i=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return i?e="#"+t(i[1])+t(i[2])+t(i[3]):e},getClasses:function(){function i(o){t(o.imports,function(e){i(e)}),t(o.cssRules||o.rules,function(o){switch(o.type||1){case 1:o.selectorText&&t(o.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(n=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),(!a||(t=a(t,n)))&&(r[t]||(s.push({"class":t}),r[t]=1)))});break;case 3:i(o.styleSheet)}})}var n,o=this,s=[],r={},a=o.settings.class_filter;if(o.classes)return o.classes;try{t(o.doc.styleSheets,i)}catch(l){}return s.length>0&&(o.classes=s),s},run:function(e,i,n){var o,s=this;return s.doc&&"string"==typeof e&&(e=s.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?i.call(n,e):(o=[],t(e,function(e,t){e&&("string"==typeof e&&(e=s.doc.getElementById(e)),o.push(i.call(n,e,t)))}),o)):!1},getAttribs:function(e){var t;return e=this.get(e),e?o?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(t,i){var n,o,s,a,l,c=this,d=0;if(t=t.firstChild){a=new e.dom.TreeWalker(t,t.parentNode),i=i||c.schema?c.schema.getNonEmptyElements():null;do{if(s=t.nodeType,1===s){if(t.getAttribute("data-mce-bogus"))continue;if(l=t.nodeName.toLowerCase(),i&&i[l]){if("br"===l){d++;continue}return!1}for(o=c.getAttribs(t),n=t.attributes.length;n--;)if(l=t.attributes[n].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(8==s)return!1;if(3===s&&!r.test(t.nodeValue))return!1}while(t=a.next())}return 1>=d},destroy:function(t){var i=this;i.win=i.doc=i.root=i.events=i.frag=null,t||e.removeUnload(i.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var i,n,o,s=0;if(e)for(i=e.nodeType,e=e.previousSibling,n=e;e;e=e.previousSibling)o=e.nodeType,(!t||3!=o||o!=i&&e.nodeValue.length)&&(s++,i=o);return s},split:function(t,i,n){function o(t){function i(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,i=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&i}var n,s=t.childNodes,r=t.nodeType;if(1!=r||"bookmark"!=t.getAttribute("data-mce-type")){for(n=s.length-1;n>=0;n--)o(s[n]);if(9!=r){if(3==r&&t.nodeValue.length>0){var a=e.trim(t.nodeValue).length;if(!l.isBlock(t.parentNode)||a>0||0===a&&i(t))return}else if(1==r&&(s=t.childNodes,1==s.length&&s[0]&&1==s[0].nodeType&&"bookmark"==s[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(s[0],t),s.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;l.remove(t)}return t}}var s,r,a,l=this,c=l.createRng();return t&&i?(c.setStart(t.parentNode,l.nodeIndex(t)),c.setEnd(i.parentNode,l.nodeIndex(i)),s=c.extractContents(),c=l.createRng(),c.setStart(i.parentNode,l.nodeIndex(i)+1),c.setEnd(t.parentNode,l.nodeIndex(t)+1),r=c.extractContents(),a=t.parentNode,a.insertBefore(o(s),t),n?a.replaceChild(n,i):a.insertBefore(i,t),a.insertBefore(o(r),t),l.remove(t),n||i):void 0},bind:function(e,t,i,n){return this.events.add(e,t,i,n||this)},unbind:function(e,t,i){return this.events.remove(e,t,i)},fire:function(e,t,i){return this.events.fire(e,t,i)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},_findSib:function(e,t,n){var o=this,s=t;if(e)for(i(s,"string")&&(s=function(e){return o.is(e,t)}),e=e[n];e;e=e[n])if(s(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function i(){return B.createDocumentFragment()}function n(e,t){_(H,e,t)}function o(e,t){_(F,e,t)}function s(e){n(e.parentNode,U(e))}function r(e){n(e.parentNode,U(e)+1)}function a(e){o(e.parentNode,U(e))}function l(e){o(e.parentNode,U(e)+1)}function c(e){e?(I[W]=I[j],I[$]=I[z]):(I[j]=I[W],I[z]=I[$]),I.collapsed=H}function d(e){s(e),l(e)}function u(e){n(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function h(e,t){var i=I[j],n=I[z],o=I[W],s=I[$],r=t.startContainer,a=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(i,n,r,a):1===e?w(o,s,r,a):2===e?w(o,s,l,c):3===e?w(i,n,l,c):void 0}function p(){C(R)}function f(){return C(L)}function m(){return C(O)}function g(t){var i,n,o=this[j],s=this[z];3!==o.nodeType&&4!==o.nodeType||!o.nodeValue?(o.childNodes.length>0&&(n=o.childNodes[s]),n?o.insertBefore(t,n):o.appendChild(t)):s?s>=o.nodeValue.length?e.insertAfter(t,o):(i=o.splitText(s),o.parentNode.insertBefore(t,i)):o.parentNode.insertBefore(t,o)}function v(e){var t=I.extractContents();I.insertNode(e),e.appendChild(t),I.selectNode(e)}function y(){return q(new t(e),{startContainer:I[j],startOffset:I[z],endContainer:I[W],endOffset:I[$],collapsed:I.collapsed,commonAncestorContainer:I.commonAncestorContainer})}function b(e,t){var i;if(3==e.nodeType)return e;if(0>t)return e;for(i=e.firstChild;i&&t>0;)--t,i=i.nextSibling;return i?i:e}function x(){return I[j]==I[W]&&I[z]==I[$]}function w(t,i,n,o){var s,r,a,l,c,d;if(t==n)return i==o?0:o>i?-1:1;for(s=n;s&&s.parentNode!=t;)s=s.parentNode;if(s){for(r=0,a=t.firstChild;a!=s&&i>r;)r++,a=a.nextSibling;return r>=i?-1:1}for(s=t;s&&s.parentNode!=n;)s=s.parentNode;if(s){for(r=0,a=n.firstChild;a!=s&&o>r;)r++,a=a.nextSibling;return o>r?-1:1}for(l=e.findCommonAncestor(t,n),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),d=n;d&&d.parentNode!=l;)d=d.parentNode;if(d||(d=l),c==d)return 0;for(a=l.firstChild;a;){if(a==c)return-1;if(a==d)return 1;a=a.nextSibling}}function _(t,i,n){var o,s;for(t?(I[j]=i,I[z]=n):(I[W]=i,I[$]=n),o=I[W];o.parentNode;)o=o.parentNode;for(s=I[j];s.parentNode;)s=s.parentNode;s==o?w(I[j],I[z],I[W],I[$])>0&&I.collapse(t):I.collapse(t),I.collapsed=x(),I.commonAncestorContainer=e.findCommonAncestor(I[j],I[W])}function C(e){var t,i,n,o,s,r,a,l=0,c=0;if(I[j]==I[W])return k(e);for(t=I[W],i=t.parentNode;i;t=i,i=i.parentNode){if(i==I[j])return T(t,e);++l}for(t=I[j],i=t.parentNode;i;t=i,i=i.parentNode){if(i==I[W])return S(t,e);++c}for(n=c-l,o=I[j];n>0;)o=o.parentNode,n--;for(s=I[W];0>n;)s=s.parentNode,n++;for(r=o.parentNode,a=s.parentNode;r!=a;r=r.parentNode,a=a.parentNode)o=r,s=a;return E(o,s,e)}function k(e){var t,n,o,s,r,a,l,c,d;if(e!=R&&(t=i()),I[z]==I[$])return t;if(3==I[j].nodeType){if(n=I[j].nodeValue,o=n.substring(I[z],I[$]),e!=O&&(s=I[j],c=I[z],d=I[$]-I[z],0===c&&d>=s.nodeValue.length-1?s.parentNode.removeChild(s):s.deleteData(c,d),I.collapse(H)),e==R)return;return o.length>0&&t.appendChild(B.createTextNode(o)),t}for(s=b(I[j],I[z]),r=I[$]-I[z];s&&r>0;)a=s.nextSibling,l=N(s,e),t&&t.appendChild(l),--r,s=a;return e!=O&&I.collapse(H),t}function T(e,t){var n,o,s,r,a,l;if(t!=R&&(n=i()),o=D(e,t),n&&n.appendChild(o),s=U(e),r=s-I[z],0>=r)return t!=O&&(I.setEndBefore(e),I.collapse(F)),n;for(o=e.previousSibling;r>0;)a=o.previousSibling,l=N(o,t),n&&n.insertBefore(l,n.firstChild),--r,o=a;return t!=O&&(I.setEndBefore(e),I.collapse(F)),n}function S(e,t){var n,o,s,r,a,l;for(t!=R&&(n=i()),s=A(e,t),n&&n.appendChild(s),o=U(e),++o,r=I[$]-o,s=e.nextSibling;s&&r>0;)a=s.nextSibling,l=N(s,t),n&&n.appendChild(l),--r,s=a;return t!=O&&(I.setStartAfter(e),I.collapse(H)),n}function E(e,t,n){var o,s,r,a,l,c,d,u;for(n!=R&&(s=i()),o=A(e,n),s&&s.appendChild(o),r=e.parentNode,a=U(e),l=U(t),++a,c=l-a,d=e.nextSibling;c>0;)u=d.nextSibling,o=N(d,n),s&&s.appendChild(o),d=u,--c;return o=D(t,n),s&&s.appendChild(o),n!=O&&(I.setStartAfter(e),I.collapse(H)),s}function D(e,t){var i,n,o,s,r,a=b(I[W],I[$]-1),l=a!=I[W];if(a==e)return M(a,l,F,t);for(i=a.parentNode,n=M(i,F,F,t);i;){for(;a;)o=a.previousSibling,s=M(a,l,F,t),t!=R&&n.insertBefore(s,n.firstChild),l=H,a=o;if(i==e)return n;a=i.previousSibling,i=i.parentNode,r=M(i,F,F,t),t!=R&&r.appendChild(n),n=r}}function A(e,t){var i,n,o,s,r,a=b(I[j],I[z]),l=a!=I[j];if(a==e)return M(a,l,H,t);for(i=a.parentNode,n=M(i,F,H,t);i;){for(;a;)o=a.nextSibling,s=M(a,l,H,t),t!=R&&n.appendChild(s),l=H,a=o;if(i==e)return n;a=i.nextSibling,i=i.parentNode,r=M(i,F,H,t),t!=R&&r.appendChild(n),n=r}}function M(t,i,n,o){var s,r,a,l,c;if(i)return N(t,o);if(3==t.nodeType){if(s=t.nodeValue,n?(l=I[z],r=s.substring(l),a=s.substring(0,l)):(l=I[$],r=s.substring(0,l),a=s.substring(l)),o!=O&&(t.nodeValue=a),o==R)return;return c=e.clone(t,F),c.nodeValue=r,c}if(o!=R)return e.clone(t,F)}function N(t,i){return i!=R?i==O?e.clone(t,H):t:(t.parentNode.removeChild(t),void 0)}function P(){return e.create("body",null,m()).outerText}var I=this,B=e.doc,L=0,O=1,R=2,H=!0,F=!1,z="startOffset",j="startContainer",W="endContainer",$="endOffset",q=tinymce.extend,U=e.nodeIndex;return q(I,{startContainer:B,startOffset:0,endContainer:B,endOffset:0,collapsed:H,commonAncestorContainer:B,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:n,setEnd:o,setStartBefore:s,setStartAfter:r,setEndBefore:a,setEndAfter:l,collapse:c,selectNode:d,selectNodeContents:u,compareBoundaryPoints:h,deleteContents:p,extractContents:f,cloneContents:m,insertNode:g,surroundContents:v,cloneRange:y,toStringIE:P}),I}e.Range=t,t.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function e(e){function t(t,i){var n,o,s,r,a,l,c,d,u=0,h=-1;if(n=t.duplicate(),n.collapse(i),d=n.parentElement(),d.ownerDocument===e.dom.doc){for(;"false"===d.contentEditable;)d=d.parentNode;if(!d.hasChildNodes())return{node:d,inside:1};for(r=d.children,o=r.length-1;o>=u;)if(c=Math.floor((u+o)/2),a=r[c],n.moveToElementText(a),h=n.compareEndPoints(i?"StartToStart":"EndToEnd",t),h>0)o=c-1;else{if(!(0>h))return{node:a};u=c+1}if(0>h)for(a?n.collapse(!1):(n.moveToElementText(d),n.collapse(!0),a=d,s=!0),l=0;0!==n.compareEndPoints(i?"StartToStart":"StartToEnd",t)&&0!==n.move("character",1)&&d==n.parentElement();)l++;else for(n.collapse(!0),l=0;0!==n.compareEndPoints(i?"StartToStart":"StartToEnd",t)&&0!==n.move("character",-1)&&d==n.parentElement();)l++;return{node:a,position:h,offset:l,inside:s}}}function i(){function i(e){var i,n,o,s,r,a=t(d,e),l=0;if(i=a.node,n=a.offset,a.inside&&!i.hasChildNodes())return u[e?"setStart":"setEnd"](i,0),void 0;if(n===s)return u[e?"setStartBefore":"setEndAfter"](i),void 0;if(a.position<0){if(o=a.inside?i.firstChild:i.nextSibling,!o)return u[e?"setStartAfter":"setEndAfter"](i),void 0;if(!n)return 3==o.nodeType?u[e?"setStart":"setEnd"](o,0):u[e?"setStartBefore":"setEndBefore"](o),void 0;for(;o;){if(r=o.nodeValue,l+=r.length,l>=n){i=o,l-=n,l=r.length-l;break}o=o.nextSibling}}else{if(o=i.previousSibling,!o)return u[e?"setStartBefore":"setEndBefore"](i);if(!n)return 3==i.nodeType?u[e?"setStart":"setEnd"](o,i.nodeValue.length):u[e?"setStartAfter":"setEndAfter"](o),void 0;for(;o;){if(l+=o.nodeValue.length,l>=n){i=o,l-=n;break}o=o.previousSibling}}u[e?"setStart":"setEnd"](i,l)}var s,r,a,l,c,d=e.getRng(),u=o.createRng();if(s=d.item?d.item(0):d.parentElement(),s.ownerDocument!=o.doc)return u;if(r=e.isCollapsed(),d.item)return u.setStart(s.parentNode,o.nodeIndex(s)),u.setEnd(u.startContainer,u.startOffset+1),u;try{i(!0),r||i()}catch(h){if(-2147024809!=h.number)throw h;c=n.getBookmark(2),a=d.duplicate(),a.collapse(!0),s=a.parentElement(),r||(a=d.duplicate(),a.collapse(!1),l=a.parentElement(),l.innerHTML=l.innerHTML),s.innerHTML=s.innerHTML,n.moveToBookmark(c),d=e.getRng(),i(!0),r||i()}return u}var n=this,o=e.dom,s=!1;this.getBookmark=function(i){function n(e){var t,i,n,s,r=[];for(t=e.parentNode,i=o.getRoot().parentNode;t!=i&&9!==t.nodeType;){for(n=t.children,s=n.length;s--;)if(e===n[s]){r.push(s);break}e=t,t=t.parentNode}return r}function s(e){var i;return i=t(r,e),i?{position:i.position,offset:i.offset,indexes:n(i.node),inside:i.inside}:void 0}var r=e.getRng(),a={};return 2===i&&(r.item?a.start={ctrl:!0,indexes:n(r.item(0))}:(a.start=s(!0),e.isCollapsed()||(a.end=s()))),a},this.moveToBookmark=function(e){function t(e){var t,i,n,s;for(t=o.getRoot(),i=e.length-1;i>=0;i--)s=t.children,n=e[i],n<=s.length-1&&(t=s[n]);return t}function i(i){var o,r,a,l=e[i?"start":"end"];l&&(o=l.position>0,r=s.createTextRange(),r.moveToElementText(t(l.indexes)),offset=l.offset,offset!==a?(r.collapse(l.inside||o),r.moveStart("character",o?-offset:offset)):r.collapse(i),n.setEndPoint(i?"StartToStart":"EndToStart",r),i&&n.collapse(!0))}var n,s=o.doc.body;e.start&&(e.start.ctrl?(n=s.createControlRange(),n.addElement(t(e.start.indexes)),n.select()):(n=s.createTextRange(),i(!0),i(),n.select()))},this.addRange=function(t){function i(e){var t,i,r,u,h;r=o.create("a"),t=e?a:c,i=e?l:d,u=n.duplicate(),(t==f||t==f.documentElement)&&(t=m,i=0),3==t.nodeType?(t.parentNode.insertBefore(r,t),u.moveToElementText(r),u.moveStart("character",i),o.remove(r),n.setEndPoint(e?"StartToStart":"EndToEnd",u)):(h=t.childNodes,h.length?(i>=h.length?o.insertAfter(r,h[h.length-1]):t.insertBefore(r,h[i]),u.moveToElementText(r)):t.canHaveHTML&&(t.innerHTML="<span>﻿</span>",r=t.firstChild,u.moveToElementText(r),u.collapse(s)),n.setEndPoint(e?"StartToStart":"EndToEnd",u),o.remove(r))}var n,r,a,l,c,d,u,h,p,f=e.dom.doc,m=f.body;if(a=t.startContainer,l=t.startOffset,c=t.endContainer,d=t.endOffset,n=m.createTextRange(),a==c&&1==a.nodeType){if(l==d&&!a.hasChildNodes()){if(a.canHaveHTML)return u=a.previousSibling,u&&!u.hasChildNodes()&&o.isBlock(u)?u.innerHTML="﻿":u=null,a.innerHTML="<span>﻿</span><span>﻿</span>",n.moveToElementText(a.lastChild),n.select(),o.doc.selection.clear(),a.innerHTML="",u&&(u.innerHTML=""),void 0;l=o.nodeIndex(a),a=a.parentNode}if(l==d-1)try{if(p=a.childNodes[l],r=m.createControlRange(),r.addElement(p),r.select(),h=e.getRng(),h.item&&p===h.item(0))return}catch(g){}}i(!0),i(),n.select()},this.getRangeAt=i}tinymce.dom.TridentSelection=e}(),function(e){e.dom.Element=function(t,i){var n,o,s=this;s.settings=i=i||{},s.id=t,s.dom=n=i.dom||e.DOM,e.isIE||(o=n.get(s.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){s[e]=function(){var i,o=[t];for(i=0;i<arguments.length;i++)o.push(arguments[i]);return o=n[e].apply(n,o),s.update(e),o}}),e.extend(s,{on:function(t,i,n){return e.dom.Event.add(s.id,t,i,n)},getXY:function(){return{x:parseInt(s.getStyle("left")),y:parseInt(s.getStyle("top"))}},getSize:function(){var e=n.get(s.id);return{w:parseInt(s.getStyle("width")||e.clientWidth),h:parseInt(s.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){s.setStyles({left:e,top:t})},moveBy:function(e,t){var i=s.getXY();s.moveTo(i.x+e,i.y+t)},resizeTo:function(e,t){s.setStyles({width:e,height:t})},resizeBy:function(e,t){var i=s.getSize();s.resizeTo(i.w+e,i.h+t)},update:function(t){var o;if(e.isIE6&&i.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return n.remove(s.blocker),void 0;s.blocker?o=n.get(s.blocker):(s.blocker=n.uniqueId(),o=n.add(i.container||n.getRoot(),"iframe",{id:s.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),n.setStyle(o,"opacity",0)),n.setStyles(o,{left:s.getStyle("left",1),top:s.getStyle("top",1),width:s.getStyle("width",1),height:s.getStyle("height",1),display:s.getStyle("display",1),zIndex:parseInt(s.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,i=e.isIE,n=e.each,o=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(t,i,o,s){var r=this;r.dom=t,r.win=i,r.serializer=o,r.editor=s,n(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){r[t]=new e.util.Dispatcher(r)}),r.win.getSelection||(r.tridentSel=new e.dom.TridentSelection(r)),e.isIE&&t.boxModel&&this._fixIESelection(),e.addUnload(r.destroy,r)},setCursorLocation:function(e,t){var i=this,n=i.dom.createRng();n.setStart(e,t),n.setEnd(e,t),i.setRng(n),i.collapse(!1)},getContent:function(e){var i,n,o,s=this,r=s.getRng(),a=s.dom.create("body"),l=s.getSel();return e=e||{},i=n="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",s.onBeforeGetContent.dispatch(s,e),"text"==e.format?s.isCollapsed()?"":r.text||(l.toString?l.toString():""):(r.cloneContents?(o=r.cloneContents(),o&&a.appendChild(o)):t(r.item)||t(r.htmlText)?(a.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),a.removeChild(a.firstChild)):a.innerHTML=r.toString(),/^\s/.test(a.innerHTML)&&(i=" "),/\s+$/.test(a.innerHTML)&&(n=" "),e.getInner=!0,e.content=s.isCollapsed()?"":i+s.serializer.serialize(a,e)+n,s.onGetContent.dispatch(s,e),e.content)},setContent:function(e,t){var i,n,o,s=this,r=s.getRng(),a=s.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||s.onBeforeSetContent.dispatch(s,t),e=t.content,r.insertNode){e+='<span id="__caret">_</span>',r.startContainer==a&&r.endContainer==a?a.body.innerHTML=e:(r.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:r.createContextualFragment?r.insertNode(r.createContextualFragment(e)):(n=a.createDocumentFragment(),o=a.createElement("div"),n.appendChild(o),o.outerHTML=e,r.insertNode(n))),i=s.dom.get("__caret"),r=a.createRange(),r.setStartBefore(i),r.setEndBefore(i),s.setRng(r),s.dom.remove("__caret");try{s.setRng(r)}catch(l){}}else r.item&&(a.execCommand("Delete",!1,null),r=s.getRng()),/^\s+/.test(e)?(r.pasteHTML('<span id="__mce_tmp">_</span>'+e),s.dom.remove("__mce_tmp")):r.pasteHTML(e);t.no_events||s.onSetContent.dispatch(s,t)},getStart:function(){var e,t,i,n,o=this,s=o.getRng();if(s.duplicate||s.item){if(s.item)return s.item(0);for(i=s.duplicate(),i.collapse(1),e=i.parentElement(),e.ownerDocument!==o.dom.doc&&(e=o.dom.getRoot()),t=n=s.parentElement();n=n.parentNode;)if(n==e){e=t;break}return e}return e=s.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,s.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,i=this,n=i.getRng();return n.duplicate||n.item?n.item?n.item(0):(n=n.duplicate(),n.collapse(0),e=n.parentElement(),e.ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=n.endContainer,t=n.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function i(e,t){var i=0;return n(f.select(e),function(e,n){e==t&&(i=n)}),i}function o(e){function t(t){var i,n,o,s=t?"start":"end";i=e[s+"Container"],n=e[s+"Offset"],1==i.nodeType&&"TR"==i.nodeName&&(o=i.childNodes,i=o[Math.min(t?n:n-1,o.length-1)],i&&(n=t?0:i.childNodes.length,e["set"+(t?"Start":"End")](i,n)))}return t(!0),t(),e}function s(){function e(e,i){var o,s,r=e[i?"startContainer":"endContainer"],a=e[i?"startOffset":"endOffset"],l=[],c=0;if(3==r.nodeType){if(t)for(o=r.previousSibling;o&&3==o.nodeType;o=o.previousSibling)a+=o.nodeValue.length;l.push(a)}else s=r.childNodes,a>=s.length&&s.length&&(c=1,a=Math.max(0,s.length-1)),l.push(p.dom.nodeIndex(s[a],t)+c);for(;r&&r!=n;r=r.parentNode)l.push(p.dom.nodeIndex(r,t));return l}var i=p.getRng(!0),n=f.getRoot(),o={};return o.start=e(i,!0),p.isCollapsed()||(o.end=e(i)),o}var r,a,l,c,d,u,h,p=this,f=p.dom,m="﻿";if(2==e)return p.tridentSel?p.tridentSel.getBookmark(e):s();if(e)return{rng:p.getRng()};if(r=p.getRng(),l=f.uniqueId(),c=tinyMCE.activeEditor.selection.isCollapsed(),h="overflow:hidden;line-height:0px",r.duplicate||r.item){if(r.item)return u=r.item(0),d=u.nodeName,{name:d,index:i(d,u)};a=r.duplicate();try{r.collapse(),r.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+h+'">'+m+"</span>"),c||(a.collapse(!1),r.moveToElementText(a.parentElement()),0===r.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+h+'">'+m+"</span>"))}catch(g){return null}}else{if(u=p.getNode(),d=u.nodeName,"IMG"==d)return{name:d,index:i(d,u)};a=o(r.cloneRange()),c||(a.collapse(!1),a.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:h},m))),r=o(r),r.collapse(!0),r.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:h},m))}return p.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(t){function o(e){var i,n,o,s,r=t[e?"start":"end"];if(r){for(o=r[0],n=l,i=r.length-1;i>=1;i--){if(s=n.childNodes,r[i]>s.length-1)return;n=s[r[i]]}3===n.nodeType&&(o=Math.min(r[0],n.nodeValue.length)),1===n.nodeType&&(o=Math.min(r[0],n.childNodes.length)),e?a.setStart(n,o):a.setEnd(n,o)}return!0}function s(i){var o,s,r,a,l=f.get(t.id+"_"+i),p=t.keep;if(l&&(o=l.parentNode,"start"==i?(p?(o=l.firstChild,s=1):s=f.nodeIndex(l),c=d=o,u=h=s):(p?(o=l.firstChild,s=1):s=f.nodeIndex(l),d=o,h=s),!p)){for(a=l.previousSibling,r=l.nextSibling,n(e.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=f.get(t.id+"_"+i);)f.remove(l,1);a&&r&&a.nodeType==r.nodeType&&3==a.nodeType&&!e.isOpera&&(s=a.nodeValue.length,a.appendData(r.nodeValue),f.remove(r),"start"==i?(c=d=a,u=h=s):(d=a,h=s))}}function r(e){return!f.isBlock(e)||e.innerHTML||i||(e.innerHTML='<br data-mce-bogus="1" />'),e
}var a,l,c,d,u,h,p=this,f=p.dom;if(t)if(t.start){if(a=f.createRng(),l=f.getRoot(),p.tridentSel)return p.tridentSel.moveToBookmark(t);o(!0)&&o()&&p.setRng(a)}else t.id?(s("start"),s("end"),c&&(a=f.createRng(),a.setStart(r(c),u),a.setEnd(r(d),h),p.setRng(a))):t.name?p.select(f.select(t.name)[t.index]):t.rng&&p.setRng(t.rng)},select:function(t,i){function n(t,i){var n=new o(t,t);do{if(3==t.nodeType&&0!==e.trim(t.nodeValue).length)return i?l.setStart(t,0):l.setEnd(t,t.nodeValue.length),void 0;if("BR"==t.nodeName)return i?l.setStartBefore(t):l.setEndBefore(t),void 0}while(t=i?n.next():n.prev())}var s,r=this,a=r.dom,l=a.createRng();return t&&(s=a.nodeIndex(t),l.setStart(t.parentNode,s),l.setEnd(t.parentNode,s+1),i&&(n(t,1),n(t)),r.setRng(l)),t},isCollapsed:function(){var e=this,t=e.getRng(),i=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!i||t.collapsed},collapse:function(e){var t,i=this,n=i.getRng();n.item&&(t=n.item(0),n=i.win.document.body.createTextRange(),n.moveToElementText(t)),n.collapse(!!e),i.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var i,n,o,s=this,r=s.win.document;if(t&&s.tridentSel)return s.tridentSel.getRangeAt(0);try{(i=s.getSel())&&(n=i.rangeCount>0?i.getRangeAt(0):i.createRange?i.createRange():r.createRange())}catch(a){}return e.isIE&&n&&n.setStart&&r.selection.createRange().item&&(o=r.selection.createRange().item(0),n=r.createRange(),n.setStartBefore(o),n.setEndAfter(o)),n||(n=r.createRange?r.createRange():r.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(o=s.dom.getRoot(),n.setStart(o,0),n.setEnd(o,0)),s.selectedRange&&s.explicitRange&&(0===n.compareBoundaryPoints(n.START_TO_START,s.selectedRange)&&0===n.compareBoundaryPoints(n.END_TO_END,s.selectedRange)?n=s.explicitRange:(s.selectedRange=null,s.explicitRange=null)),n},setRng:function(e,t){var i,n=this;if(n.tridentSel){if(e.cloneRange)try{return n.tridentSel.addRange(e),void 0}catch(o){}try{e.select()}catch(o){}}else if(i=n.getSel()){n.explicitRange=e;try{i.removeAllRanges()}catch(o){}i.addRange(e),t===!1&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset)),n.selectedRange=i.rangeCount>0?i.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var i=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||i}var t,i=this,n=i.getRng(),o=(i.getSel(),n.startContainer),s=n.endContainer;return n?n.setStart?(t=n.commonAncestorContainer,!n.collapsed&&(n.startContainer==n.endContainer&&n.endOffset-n.startOffset<2&&n.startContainer.hasChildNodes()&&(t=n.startContainer.childNodes[n.startOffset]),3===o.nodeType&&3===s.nodeType&&(o=o.length===n.startOffset?e(o.nextSibling,!0):o.parentNode,s=0===n.endOffset?e(s.previousSibling,!1):s.parentNode,o&&o===s))?o:t&&3==t.nodeType?t.parentNode:t):n.item?n.item(0):n.parentElement():i.dom.getRoot()},getSelectedBlocks:function(e,t){var i,n,s,r=this,a=r.dom,l=[];if(i=a.getParent(e||r.getStart(),a.isBlock),n=a.getParent(t||r.getEnd(),a.isBlock),i&&l.push(i),i&&n&&i!=n){s=i;for(var c=new o(i,a.getRoot());(s=c.next())&&s!=n;)a.isBlock(s)&&l.push(s)}return n&&i!=n&&l.push(n),l},isForward:function(){var e,t,i=this.dom,n=this.getSel();return n&&null!=n.anchorNode&&null!=n.focusNode?(e=i.createRng(),e.setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),t=i.createRng(),t.setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){function t(e){function t(e,t){for(var i=new o(e,f.getParent(e.parentNode,f.isBlock)||m);e=i[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function a(e,t){var i,r;for(t=t||l,i=new o(t,f.getParent(t.parentNode,f.isBlock)||m);u=i[e?"prev":"next"]();){if(3===u.nodeType&&u.nodeValue.length>0)return l=u,c=e?u.nodeValue.length:0,n=!0,void 0;if(f.isBlock(u)||h[u.nodeName.toLowerCase()])return;r=u}s&&r&&(l=r,n=!0,c=0)}var l,c,d,u,h,p,f=r.dom,m=f.getRoot();if(l=i[(e?"start":"end")+"Container"],c=i[(e?"start":"end")+"Offset"],h=f.schema.getNonEmptyElements(),9===l.nodeType&&(l=f.getRoot(),c=0),l===m){if(e&&(u=l.childNodes[c>0?c-1:0],u&&(p=u.nodeName.toLowerCase(),h[u.nodeName]||"TABLE"==u.nodeName)))return;if(l.hasChildNodes()&&(l=l.childNodes[Math.min(!e&&c>0?c-1:c,l.childNodes.length-1)],c=0,l.hasChildNodes()&&!/TABLE/.test(l.nodeName))){u=l,d=new o(l,m);do{if(3===u.nodeType&&u.nodeValue.length>0){c=e?0:u.nodeValue.length,l=u,n=!0;break}if(h[u.nodeName.toLowerCase()]){c=f.nodeIndex(u),l=u.parentNode,"IMG"!=u.nodeName||e||c++,n=!0;break}}while(u=e?d.next():d.prev())}}s&&(3===l.nodeType&&0===c&&a(!0),1===l.nodeType&&(u=l.childNodes[c],!u||"BR"!==u.nodeName||t(u)||t(u,!0)||a(!0,l.childNodes[c]))),e&&!s&&3===l.nodeType&&c===l.nodeValue.length&&a(!1),n&&i["set"+(e?"Start":"End")](l,c)}var i,n,s,r=this;e.isIE||(i=r.getRng(),s=i.collapsed,t(!0),s||t(),n&&(s&&i.collapse(!0),r.setRng(i,r.isForward())))},selectorChanged:function(e,t){var i,o=this;return o.selectorChangedData||(o.selectorChangedData={},i={},o.editor.onNodeChange.addToTop(function(e,t,s){var r=o.dom,a=r.getParents(s,null,r.getRoot()),l={};n(o.selectorChangedData,function(e,t){n(a,function(o){return r.is(o,t)?(i[t]||(n(e,function(e){e(!0,{node:o,selector:t,parents:a})}),i[t]=e),l[t]=e,!1):void 0})}),n(i,function(e,t){l[t]||(delete i[t],n(e,function(e){e(!1,{node:s,selector:t,parents:a})}))})})),o.selectorChangedData[e]||(o.selectorChangedData[e]=[]),o.selectorChangedData[e].push(t),o},scrollIntoView:function(e){var t,i,n=this,o=n.dom;i=o.getViewPort(n.editor.getWin()),t=o.getPos(e).y,(t<i.y||t+25>i.y+i.h)&&n.editor.getWin().scrollTo(0,t<i.y?t:t-i.h+25)},destroy:function(t){var i=this;i.win=null,t||e.removeUnload(i.destroy)},_fixIESelection:function(){function e(e,t){var i=l.createTextRange();try{i.moveToPoint(e,t)}catch(n){i=null}return i}function t(t){var n;t.button?(n=e(t.x,t.y),n&&(n.compareEndPoints("StartToStart",o)>0?n.setEndPoint("StartToStart",o):n.setEndPoint("EndToEnd",o),n.select())):i()}function i(){var e=a.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),r.unbind(a,"mouseup",i),r.unbind(a,"mousemove",t),o=n=0}var n,o,s,r=this.dom,a=r.doc,l=a.body;a.documentElement.unselectable=!0,r.bind(a,["mousedown","contextmenu"],function(l){if("HTML"===l.target.nodeName){if(n&&i(),s=a.documentElement,s.scrollHeight>s.clientHeight)return;n=1,o=e(l.x,l.y),o&&(r.bind(a,"mouseup",i),r.bind(a,"mousemove",t),r.win.focus(),o.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,i,n){var o,s,r,a=e.isIE,l=e.each;return t.apply_source_formatting||(t.indent=!1),i=i||e.DOM,n=n||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,o=new e.util.Dispatcher(self),s=new e.util.Dispatcher(self),r=new e.html.DomParser(t,n),r.addAttributeFilter("src,href,style",function(e,n){for(var o,s,r,a=e.length,l="data-mce-"+n,c=t.url_converter,d=t.url_converter_scope;a--;)o=e[a],s=o.attributes.map[l],s!==r?(o.attr(n,s.length>0?s:null),o.attr(l,null)):(s=o.attributes.map[n],"style"===n?s=i.serializeStyle(i.parseStyle(s),o.name):c&&(s=c.call(d,s,n,o.name)),o.attr(n,s.length>0?s:null))}),r.addAttributeFilter("class",function(e){for(var t,i,n=e.length;n--;)t=e[n],i=t.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),t.attr("class",i.length>0?i:null)}),r.addAttributeFilter("data-mce-type",function(e,t,i){for(var n,o=e.length;o--;)n=e[o],"bookmark"!==n.attributes.map["data-mce-type"]||i.cleanup||n.remove()}),r.addAttributeFilter("data-mce-expando",function(e,t){for(var i=e.length;i--;)e[i].attr(t,null)}),r.addNodeFilter("noscript",function(t){for(var i,n=t.length;n--;)i=t[n].firstChild,i&&(i.value=e.html.Entities.decode(i.value))}),r.addNodeFilter("script,style",function(e,t){function i(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var n,o,s=e.length;s--;)n=e[s],o=n.firstChild?n.firstChild.value:"","script"===t?(n.attr("type",(n.attr("type")||"text/javascript").replace(/^mce\-/,"")),o.length>0&&(n.firstChild.value="// <![CDATA[\n"+i(o)+"\n// ]]>")):o.length>0&&(n.firstChild.value="<!--\n"+i(o)+"\n-->")}),r.addNodeFilter("#comment",function(e){for(var t,i=e.length;i--;)t=e[i],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),r.addNodeFilter("xml:namespace,input",function(e,t){for(var i,n=e.length;n--;)i=e[n],7===i.type?i.remove():1===i.type&&("input"!==t||"type"in i.attributes.map||i.attr("type","text"))}),t.fix_list_elements&&r.addNodeFilter("ul,ol",function(e){for(var t,i,n=e.length;n--;)t=e[n],i=t.parent,("ul"===i.name||"ol"===i.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),r.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var i=e.length;i--;)e[i].attr(t,null)}),{schema:n,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,onPreProcess:o,onPostProcess:s,serialize:function(c,d){var u,h,p,f,m;return a&&i.select("script,style,select,map").length>0?(m=c.innerHTML,c=c.cloneNode(!1),i.setHTML(c,m)):c=c.cloneNode(!0),u=c.ownerDocument.implementation,u.createHTMLDocument&&(h=u.createHTMLDocument(""),l("BODY"==c.nodeName?c.childNodes:[c],function(e){h.body.appendChild(h.importNode(e,!0))}),c="BODY"!=c.nodeName?h.body.firstChild:h.body,p=i.doc,i.doc=h),d=d||{},d.format=d.format||"html",d.no_events||(d.node=c,o.dispatch(self,d)),f=new e.html.Serializer(t,n),d.content=f.serialize(r.parse(e.trim(d.getInner?c.innerHTML:i.getOuterHTML(c)),d)),d.cleanup||(d.content=d.content.replace(/\uFEFF/g,"")),d.no_events||s.dispatch(self,d),p&&(i.doc=p),d.node=null,d.content},addRules:function(e){n.addValidElements(e)},setRules:function(e){n.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(){function t(t,i){function n(){c.remove(l),s&&(s.onreadystatechange=s.onload=s=null),i()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var s,r,a,l,c=e.DOM;return l=c.uniqueId(),e.isIE6&&(r=new e.util.URI(t),a=location,r.host==a.hostname&&r.port==a.port&&r.protocol+":"==a.protocol&&"file"!=r.protocol.toLowerCase())?(e.util.XHR.send({url:e._addVer(r.getURI()),success:function(e){var t=c.create("script",{type:"text/javascript"});t.text=e,document.getElementsByTagName("head")[0].appendChild(t),c.remove(t),n()},error:o}),void 0):(s=document.createElement("script"),s.id=l,s.type="text/javascript",s.src=e._addVer(t),e.isIE||(s.onload=n),s.onerror=o,e.isOpera||(s.onreadystatechange=function(){var e=s.readyState;("complete"==e||"loaded"==e)&&n()}),(document.getElementsByTagName("head")[0]||document.body).appendChild(s),void 0)}var i,n=0,o=1,s=2,r={},a=[],l={},c=[],d=0;this.isDone=function(e){return r[e]==s},this.markDone=function(e){r[e]=s},this.add=this.load=function(e,t,o){var s=r[e];s==i&&(a.push(e),r[e]=n),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:o||this}))},this.loadQueue=function(e,t){this.loadScripts(a,e,t)},this.loadScripts=function(n,a,u){function h(t){e.each(l[t],function(e){e.func.call(e.scope)}),l[t]=i}var p;c.push({func:a,scope:u||this}),p=function(){var i=e.grep(n);n.length=0,e.each(i,function(e){return r[e]==s?(h(e),void 0):(r[e]!=o&&(r[e]=o,d++,t(e,function(){r[e]=s,d--,h(e),p()})),void 0)}),d||(e.each(c,function(e){e.func.call(e.scope)}),c.length=0)},p()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),function(e){e.dom.RangeUtils=function(t){this.walk=function(i,n){function o(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function s(e,t,i){for(var n=[];e&&e!=i;e=e[t])n.push(e);return n}function r(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,i){var r=i?"nextSibling":"previousSibling";for(u=e,h=u.parentNode;u&&u!=t;u=h)h=u.parentNode,p=s(u==e?u:u[r],r),p.length&&(i||p.reverse(),n(o(p)))}var l,c,d,u,h,p,f,m=i.startContainer,g=i.startOffset,v=i.endContainer,y=i.endOffset;if(f=t.select("td.mceSelected,th.mceSelected"),f.length>0)return e.each(f,function(e){n([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return n(o([m]));for(l=t.findCommonAncestor(m,v),u=m;u;u=u.parentNode){if(u===v)return a(m,l,!0);if(u===l)break}for(u=v;u;u=u.parentNode){if(u===m)return a(v,l);if(u===l)break}c=r(m,l)||m,d=r(v,l)||v,a(m,c,!0),p=s(c==m?c:c.nextSibling,"nextSibling",d==v?d.nextSibling:d),p.length&&n(o(p)),a(v,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var i=e.startContainer,n=e.startOffset,o=e.endContainer,s=e.endOffset;return i==o&&3==i.nodeType?n>0&&n<i.nodeValue.length&&(o=t(i,n),i=o.previousSibling,s>n?(s-=n,i=o=t(o,s).previousSibling,s=o.nodeValue.length,n=0):s=0):(3==i.nodeType&&n>0&&n<i.nodeValue.length&&(i=t(i,n),n=0),3==o.nodeType&&s>0&&s<o.nodeValue.length&&(o=t(o,s).previousSibling,s=o.nodeValue.length)),{startContainer:i,startOffset:n,endContainer:o,endOffset:s}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,i=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(n,o){var s,r,a,l,c,d=this,u=n.root,h=n.items,p=n.enableUpDown,f=n.enableLeftRight||!n.enableUpDown,m=n.excludeFromTabOrder;o=o||e.DOM,s=function(e){c=e.target.id},r=function(e){o.setAttrib(e.target.id,"tabindex","-1")},l=function(){var e=o.get(c);o.setAttrib(e,"tabindex","0"),e.focus()},d.focus=function(){o.get(c).focus()},d.destroy=function(){i(h,function(e){var t=o.get(e.id);o.unbind(t,"focus",s),o.unbind(t,"blur",r)});var e=o.get(u);o.unbind(e,"focus",l),o.unbind(e,"keydown",a),h=o=u=d.focus=s=r=a=l=null,d.destroy=function(){}},d.moveFocus=function(e,s){var r,a=-1;d.controls,c&&(i(h,function(e,t){return e.id===c?(a=t,!1):void 0}),a+=e,0>a?a=h.length-1:a>=h.length&&(a=0),r=h[a],o.setAttrib(c,"tabindex","-1"),o.setAttrib(r.id,"tabindex","0"),o.get(r.id).focus(),n.actOnFocus&&n.onAction(r.id),s&&t.cancel(s))},a=function(e){var i=37,o=39,s=38,r=40,a=27,l=14,u=13,h=32;switch(e.keyCode){case i:f&&d.moveFocus(-1);break;case o:f&&d.moveFocus(1);break;case s:p&&d.moveFocus(-1);break;case r:p&&d.moveFocus(1);break;case a:n.onCancel&&(n.onCancel(),t.cancel(e));break;case l:case u:case h:n.onAction&&(n.onAction(c),t.cancel(e))}},i(h,function(e,t){var i,n;e.id||(e.id=o.uniqueId("_mce_item_")),n=o.get(e.id),m?(o.bind(n,"blur",r),i="-1"):i=0===t?"0":"-1",n.setAttribute("tabindex",i),o.bind(n,"focus",s)}),h[0]&&(c=h[0].id),o.setAttrib(u,"tabindex","-1");var g=o.get(u);o.bind(g,"focus",l),o.bind(g,"keydown",a)}})}(tinymce),function(e){var t=e.DOM,i=e.is;e.create("tinymce.ui.Control",{Control:function(t,i,n){this.id=t,this.settings=i=i||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=i.scope||this,this.disabled=0,this.active=0,this.editor=n},setAriaProperty:function(e,i){var n=t.get(this.id+"_aria")||t.get(this.id);n&&t.setAttrib(n,"aria-"+e,!!i)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,i){var n=t.get(this.id);e=this.classPrefix+e,i?t.addClass(n,e):t.removeClass(n,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;i(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),i(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,i){this.parent(e,t,i),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk,e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),i=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,i){var n=this;n.parent(t,i),n.items={},n.collapsed=!1,n.menuCount=0,n.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&i(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&i(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(i){return i.settings||(i=new e.ui.MenuItem(i.id||t.uniqueId(),i)),this.onAddItem.dispatch(this,i),this.items[i.id]=i},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;i(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(i){var n=new e.ui.Menu(i.id||t.uniqueId(),i);return n.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),n}})}(tinymce),function(e){var t=e.is,i=e.DOM,n=e.each,o=e.dom.Event,s=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(n,o){o=o||{},o.container=o.container||i.doc.body,o.offset_x=o.offset_x||0,o.offset_y=o.offset_y||0,o.vp_offset_x=o.vp_offset_x||0,o.vp_offset_y=o.vp_offset_y||0,t(o.icons)&&!o.icons&&(o["class"]+=" mceNoIcons"),this.parent(n,o),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var n,o=this,s=o.settings;return t.container=t.container||s.container,t.parent=o,t.constrain=t.constrain||s.constrain,t["class"]=t["class"]||s["class"],t.vp_offset_x=t.vp_offset_x||s.vp_offset_x,t.vp_offset_y=t.vp_offset_y||s.vp_offset_y,t.keyboard_focus=s.keyboard_focus,n=new e.ui.DropMenu(t.id||i.uniqueId(),t),n.onAddItem.add(o.onAddItem.dispatch,o.onAddItem),n},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,n=this,o=n.settings,s=i.get("menu_"+n.id+"_tbl"),r=i.get("menu_"+n.id+"_co");e=o.max_width?Math.min(s.offsetWidth,o.max_width):s.offsetWidth,t=o.max_height?Math.min(s.offsetHeight,o.max_height):s.offsetHeight,i.boxModel?n.element.setStyles({width:e,height:t}):n.element.setStyles({width:e+2,height:t+2}),o.max_width&&i.setStyle(r,"width",e),o.max_height&&(i.setStyle(r,"height",t),s.clientHeight<o.max_height&&i.setStyle(r,"overflow","hidden"))},showMenu:function(t,r,a){var l,c,d,u,h,p,f=this,m=f.settings,g=i.getViewPort(),v=2,y=f.classPrefix;f.collapse(1),f.isMenuVisible||(f.rendered?l=i.get("menu_"+f.id):(l=i.add(f.settings.container,f.renderNode()),n(f.items,function(e){e.postRender()}),f.element=new s("menu_"+f.id,{blocker:1,container:m.container})),e.isOpera||i.setStyles(l,{left:-65535,top:-65535}),i.show(l),f.update(),t+=m.offset_x||0,r+=m.offset_y||0,g.w-=4,g.h-=4,m.constrain&&(c=l.clientWidth-v,d=l.clientHeight-v,u=g.x+g.w,h=g.y+g.h,t+m.vp_offset_x+c>u&&(t=a?a-c:Math.max(0,u-m.vp_offset_x-c)),r+m.vp_offset_y+d>h&&(r=Math.max(0,h-m.vp_offset_y-d))),i.setStyles(l,{left:t,top:r}),f.element.update(),f.isMenuVisible=1,f.mouseClickFunc=o.add(l,"click",function(e){var t;if(e=e.target,e&&(e=i.getParent(e,"tr"))&&!i.hasClass(e,y+"ItemSub")){if(t=f.items[e.id],t.isDisabled())return;for(p=f;p;)p.hideMenu&&p.hideMenu(),p=p.settings.parent;return t.settings.onclick&&t.settings.onclick(e),!1}}),f.hasMenus()&&(f.mouseOverFunc=o.add(l,"mouseover",function(e){var t,n;if(e=e.target,e&&(e=i.getParent(e,"tr"))){if(t=f.items[e.id],f.lastMenu&&f.lastMenu.collapse(1),t.isDisabled())return;e&&i.hasClass(e,y+"ItemSub")&&(n=i.getRect(e),t.showMenu(n.x+n.w-v,n.y-v,n.x),f.lastMenu=t,i.addClass(i.get(t.id).firstChild,y+"ItemActive"))}})),o.add(l,"keydown",f._keyHandler,f),f.onShowMenu.dispatch(f),m.keyboard_focus&&f._setupKeyboardNav())},hideMenu:function(e){var t,n=this,s=i.get("menu_"+n.id);n.isMenuVisible&&(n.keyboardNav&&n.keyboardNav.destroy(),o.remove(s,"mouseover",n.mouseOverFunc),o.remove(s,"click",n.mouseClickFunc),o.remove(s,"keydown",n._keyHandler),i.hide(s),n.isMenuVisible=0,e||n.collapse(1),n.element&&n.element.hide(),(t=i.get(n.id))&&i.removeClass(t.firstChild,n.classPrefix+"ItemActive"),n.onHideMenu.dispatch(n))},add:function(e){var t,n=this;return e=n.parent(e),n.isRendered&&(t=i.get("menu_"+n.id))&&n._add(i.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return i.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=i.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),o.remove(t,"mouseover",e.mouseOverFunc),o.remove(i.select("a",t),"focus",e.mouseOverFunc),o.remove(t,"click",e.mouseClickFunc),o.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),i.remove(t)},renderNode:function(){var e,t,o,r,a=this,l=a.settings;return r=i.create("div",{role:"listbox",id:"menu_"+a.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),a.settings.parent&&i.setAttrib(r,"aria-parent","menu_"+a.settings.parent.id),o=i.add(r,"div",{role:"presentation",id:"menu_"+a.id+"_co","class":a.classPrefix+(l["class"]?" "+l["class"]:"")}),a.element=new s("menu_"+a.id,{blocker:1,container:l.container}),l.menu_line&&i.add(o,"span",{"class":a.classPrefix+"Line"}),e=i.add(o,"table",{role:"presentation",id:"menu_"+a.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=i.add(e,"tbody"),n(a.items,function(e){a._add(t,e)}),a.rendered=!0,r},_setupKeyboardNav:function(){var t,n,o=this;t=i.get("menu_"+o.id),n=i.select("a[role=option]","menu_"+o.id),n.splice(0,0,t),o.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+o.id,items:n,onCancel:function(){o.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),o.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var n,o,s,r,a,l=t.settings,c=this.classPrefix;return l.separator?(s=i.add(e,"tr",{id:t.id,"class":c+"ItemSeparator"}),i.add(s,"td",{"class":c+"ItemSeparator"}),(n=s.previousSibling)&&i.addClass(n,"mceLast"),void 0):(n=s=i.add(e,"tr",{id:t.id,"class":c+"Item "+c+"ItemEnabled"}),n=r=i.add(n,l.titleItem?"th":"td"),n=o=i.add(n,"a",{id:t.id+"_aria",role:l.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),l.parent&&(i.setAttrib(o,"aria-haspopup","true"),i.setAttrib(o,"aria-owns","menu_"+t.id)),i.addClass(r,l["class"]),a=i.add(n,"span",{"class":"mceIcon"+(l.icon?" mce_"+l.icon:"")}),l.icon_src&&i.add(a,"img",{src:l.icon_src}),n=i.add(n,l.element||"span",{"class":"mceText",title:t.settings.title},t.settings.title),t.settings.style&&("function"==typeof t.settings.style&&(t.settings.style=t.settings.style()),i.setAttrib(n,"style",t.settings.style)),1==e.childNodes.length&&i.addClass(s,"mceFirst"),(n=s.previousSibling)&&i.hasClass(n,c+"ItemSeparator")&&i.addClass(s,"mceFirst"),t.collapse&&i.addClass(s,c+"ItemSub"),(n=s.previousSibling)&&i.removeClass(n,"mceLast"),i.addClass(s,"mceLast"),void 0)}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,i){this.parent(e,t,i),this.classPrefix="mceButton"},renderHTML:function(){var e,i,n=this.classPrefix,o=this.settings;return i=t.encode(o.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+n+" "+n+"Enabled "+o["class"]+(i?" "+n+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(o.title)+'">',e+=!o.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+o["class"]+'"></span>'+(i?'<span class="'+n+'Label">'+i+"</span>":""):'<span class="mceIcon '+o["class"]+'"><img class="mceIcon" src="'+o.image+'" alt="'+t.encode(o.title)+'" /></span>'+(i?'<span class="'+n+'Label">'+i+"</span>":""),e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+o.title+"</span>",e+="</a>"},postRender:function(){var t,i=this,n=i.settings;e.isIE&&i.editor&&e.dom.Event.add(i.id,"mousedown",function(){var e=i.editor.selection.getNode().nodeName;t="IMG"===e?i.editor.selection.getBookmark():null}),e.dom.Event.add(i.id,"click",function(o){return i.isDisabled()?void 0:(e.isIE&&i.editor&&null!==t&&i.editor.selection.moveToBookmark(t),n.onclick.call(n.scope,o))}),e.dom.Event.add(i.id,"keyup",function(t){return i.isDisabled()||t.keyCode!=e.VK.SPACEBAR?void 0:n.onclick.call(n.scope,t)})}})}(tinymce),function(e){var t,i=e.DOM,n=e.dom.Event,o=e.each,s=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,i,n){var o=this;o.parent(t,i,n),o.items=[],o.onChange=new s(o),o.onPostRender=new s(o),o.onAdd=new s(o),o.onRenderMenu=new e.util.Dispatcher(this),o.classPrefix="mceListBox",o.marked={}},select:function(e){var i,n,s=this;return s.marked={},e==t?s.selectByIndex(-1):(n=e&&"function"==typeof e?e:function(t){return t==e},e!=s.selectedValue&&(o(s.items,function(e,t){return n(e.value)?(i=1,s.selectByIndex(t),!1):void 0}),i||s.selectByIndex(-1)),void 0)},selectByIndex:function(e){var t,n,o,s=this;s.marked={},e!=s.selectedIndex&&(t=i.get(s.id+"_text"),o=i.get(s.id+"_voiceDesc"),n=s.items[e],n?(s.selectedValue=n.value,s.selectedIndex=e,i.setHTML(t,i.encode(n.title)),i.setHTML(o,s.settings.title+" - "+n.title),i.removeClass(t,"mceTitle"),i.setAttrib(s.id,"aria-valuenow",n.title)):(i.setHTML(t,i.encode(s.settings.title)),i.setHTML(o,i.encode(s.settings.title)),i.addClass(t,"mceTitle"),s.selectedValue=s.selectedIndex=null,i.setAttrib(s.id,"aria-valuenow",s.settings.title)),t=0)},mark:function(e){this.marked[e]=!0},add:function(t,i,n){var o=this;n=n||{},n=e.extend(n,{title:t,value:i}),o.items.push(n),o.onAdd.dispatch(o,n)},getLength:function(){return this.items.length},renderHTML:function(){var e="",t=this,n=t.settings,o=t.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+t.id+'_voiceDesc" aria-describedby="'+t.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+t.id+'" cellpadding="0" cellspacing="0" class="'+o+" "+o+"Enabled"+(n["class"]?" "+n["class"]:"")+'"><tbody><tr>',e+="<td>"+i.createHTML("span",{id:t.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},t.settings.title),e+=i.createHTML("a",{id:t.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},i.encode(t.settings.title))+"</td>",e+="<td>"+i.createHTML("a",{id:t.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",e+="</tr></tbody></table></span>"},showMenu:function(){var t,s,r=this,a=i.get(this.id);if(!r.isDisabled()&&0!==r.items.length){if(r.menu&&r.menu.isMenuVisible)return r.hideMenu();r.isMenuRendered||(r.renderMenu(),r.isMenuRendered=!0),t=i.getPos(a),s=r.menu,s.settings.offset_x=t.x,s.settings.offset_y=t.y,s.settings.keyboard_focus=!e.isOpera,o(r.items,function(e){s.items[e.id]&&s.items[e.id].setSelected(0)}),o(r.items,function(e){s.items[e.id]&&r.marked[e.value]&&s.items[e.id].setSelected(1),e.value===r.selectedValue&&s.items[e.id].setSelected(1)}),s.showMenu(0,a.clientHeight),n.add(i.doc,"mousedown",r.hideMenu,r),i.addClass(r.id,r.classPrefix+"Selected")}},hideMenu:function(e){var t=this;if(t.menu&&t.menu.isMenuVisible){if(i.removeClass(t.id,t.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==t.id+"_text"||e.target.id==t.id+"_open"))return;e&&i.getParent(e.target,".mceMenu")||(i.removeClass(t.id,t.classPrefix+"Selected"),n.remove(i.doc,"mousedown",t.hideMenu,t),t.menu.hideMenu())}},renderMenu:function(){var e,n=this;e=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":n.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),e.onHideMenu.add(function(){n.hideMenu(),n.focus()}),e.add({title:n.settings.title,"class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}),o(n.items,function(o){o.value===t?e.add({title:o.title,role:"option","class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}):(o.id=i.uniqueId(),o.role="option",o.onclick=function(){n.settings.onselect(o.value)!==!1&&n.select(o.value)},e.add(o))}),n.onRenderMenu.dispatch(n,e),n.menu=e},postRender:function(){var t=this,o=t.classPrefix;n.add(t.id,"click",t.showMenu,t),n.add(t.id,"keydown",function(e){32==e.keyCode&&(t.showMenu(e),n.cancel(e))}),n.add(t.id,"focus",function(){t._focused||(t.keyDownHandler=n.add(t.id,"keydown",function(e){40==e.keyCode&&(t.showMenu(),n.cancel(e))}),t.keyPressHandler=n.add(t.id,"keypress",function(e){var i;13==e.keyCode&&(i=t.selectedValue,t.selectedValue=null,n.cancel(e),t.settings.onselect(i))})),t._focused=1}),n.add(t.id,"blur",function(){n.remove(t.id,"keydown",t.keyDownHandler),n.remove(t.id,"keypress",t.keyPressHandler),t._focused=0}),(e.isIE6||!i.boxModel)&&(n.add(t.id,"mouseover",function(){i.hasClass(t.id,o+"Disabled")||i.addClass(t.id,o+"Hover")}),n.add(t.id,"mouseout",function(){i.hasClass(t.id,o+"Disabled")||i.removeClass(t.id,o+"Hover")})),t.onPostRender.dispatch(t,i.get(t.id))},destroy:function(){this.parent(),n.clear(this.id+"_text"),n.clear(this.id+"_open")}})}(tinymce),function(e){var t,i=e.DOM,n=e.dom.Event,o=e.each;e.util.Dispatcher,e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){i.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return i.get(this.id).disabled},select:function(e){var i,n,s=this;return e==t?s.selectByIndex(-1):(n=e&&"function"==typeof e?e:function(t){return t==e},e!=s.selectedValue&&(o(s.items,function(e,t){return n(e.value)?(i=1,s.selectByIndex(t),!1):void 0}),i||s.selectByIndex(-1)),void 0)},selectByIndex:function(e){i.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,t,n){var o,s=this;n=n||{},n.value=t,s.isRendered()&&i.add(i.get(this.id),"option",n,e),o={title:e,value:t,attribs:n},s.items.push(o),s.onAdd.dispatch(s,o)},getLength:function(){return this.items.length},renderHTML:function(){var e,t=this;return e=i.createHTML("option",{value:""},"-- "+t.settings.title+" --"),o(t.items,function(t){e+=i.createHTML("option",{value:t.value},t.title)}),e=i.createHTML("select",{id:t.id,"class":"mceNativeListBox","aria-labelledby":t.id+"_aria"},e),e+=i.createHTML("span",{id:t.id+"_aria",style:"display: none"},t.settings.title)},postRender:function(){function t(e){var t=s.items[e.target.selectedIndex-1];t&&(t=t.value)&&(s.onChange.dispatch(s,t),s.settings.onselect&&s.settings.onselect(t))}var o,s=this,r=!0;s.rendered=!0,n.add(s.id,"change",t),n.add(s.id,"keydown",function(i){var a;return n.remove(s.id,"change",o),r=!1,a=n.add(s.id,"blur",function(){r||(r=!0,n.add(s.id,"change",t),n.remove(s.id,"blur",a))}),!e.isWebKit||37!=i.keyCode&&39!=i.keyCode?13==i.keyCode||32==i.keyCode?(t(i),n.cancel(i)):void 0:n.prevent(i)
}),s.onPostRender.dispatch(s,i.get(s.id))}})}(tinymce),function(e){var t=e.DOM,i=e.dom.Event;e.each,e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(i,n,o){this.parent(i,n,o),this.onRenderMenu=new e.util.Dispatcher(this),n.menu_container=n.menu_container||t.doc.body},showMenu:function(){var e,n,o,s=this,r=t.get(s.id);if(!s.isDisabled()){if(s.isMenuRendered||(s.renderMenu(),s.isMenuRendered=!0),s.isMenuVisible)return s.hideMenu();e=t.getPos(s.settings.menu_container),n=t.getPos(r),o=s.menu,o.settings.offset_x=n.x,o.settings.offset_y=n.y,o.settings.vp_offset_x=n.x,o.settings.vp_offset_y=n.y,o.settings.keyboard_focus=s._focused,o.showMenu(0,r.firstChild.clientHeight),i.add(t.doc,"mousedown",s.hideMenu,s),s.setState("Selected",1),s.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var n=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===n.id||e.id===n.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(n.setState("Selected",0),i.remove(t.doc,"mousedown",n.hideMenu,n),n.menu&&n.menu.hideMenu()),n.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;i.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,i=e.dom.Event;e.each,e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,i){this.parent(e,t,i),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,i,n=this,o=n.settings;return e="<tbody><tr>",i=o.image?t.createHTML("img ",{src:o.image,role:"presentation","class":"mceAction "+o["class"]}):t.createHTML("span",{"class":"mceAction "+o["class"]},""),i+=t.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:n.id+"_voice",style:"display:none;"},o.title),e+="<td >"+t.createHTML("a",{role:"button",id:n.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+o["class"],onclick:"return false;",onmousedown:"return false;",title:o.title},i)+"</td>",i=t.createHTML("span",{"class":"mceOpen "+o["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:n.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+o["class"],onclick:"return false;",onmousedown:"return false;",title:o.title},i)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+o["class"],cellpadding:"0",cellspacing:"0",title:o.title},e),t.createHTML("div",{id:n.id,role:"button",tabindex:"0","aria-labelledby":n.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var n,o=this,s=o.settings;s.onclick&&(n=function(e){o.isDisabled()||(s.onclick(o.value),i.cancel(e))},i.add(o.id+"_action","click",n),i.add(o.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?("click"===e.type||e.keyCode===t)&&(o.showMenu(),i.cancel(e)):(n(),i.cancel(e))})),i.add(o.id+"_open","click",function(e){o.showMenu(),i.cancel(e)}),i.add([o.id,o.id+"_open"],"focus",function(){o._focused=1}),i.add([o.id,o.id+"_open"],"blur",function(){o._focused=0}),(e.isIE6||!t.boxModel)&&(i.add(o.id,"mouseover",function(){t.hasClass(o.id,"mceSplitButtonDisabled")||t.addClass(o.id,"mceSplitButtonHover")}),i.add(o.id,"mouseout",function(){t.hasClass(o.id,"mceSplitButtonDisabled")||t.removeClass(o.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),i.clear(this.id+"_action"),i.clear(this.id+"_open"),i.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,i=e.dom.Event,n=e.is,o=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,i,n){var o=this;o.parent(t,i,n),o.settings=i=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},o.settings),o.onShowMenu=new e.util.Dispatcher(o),o.onHideMenu=new e.util.Dispatcher(o),o.value=i.default_color},showMenu:function(){var n,o,s=this;if(!s.isDisabled()){if(s.isMenuRendered||(s.renderMenu(),s.isMenuRendered=!0),s.isMenuVisible)return s.hideMenu();n=t.get(s.id),t.show(s.id+"_menu"),t.addClass(n,"mceSplitButtonSelected"),o=t.getPos(n),t.setStyles(s.id+"_menu",{left:o.x,top:o.y+n.firstChild.clientHeight,zIndex:2e5}),n=0,i.add(t.doc,"mousedown",s.hideMenu,s),s.onShowMenu.dispatch(s),s._focused&&(s._keyHandler=i.add(s.id+"_menu","keydown",function(e){27==e.keyCode&&s.hideMenu()}),t.select("a",s.id+"_menu")[0].focus()),s.keyboardNav=new e.ui.KeyboardNavigation({root:s.id+"_menu",items:t.select("a",s.id+"_menu"),onCancel:function(){s.hideMenu(),s.focus()}}),s.keyboardNav.focus(),s.isMenuVisible=1}},hideMenu:function(e){var n=this;if(n.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===n.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(n.id,"mceSplitButtonSelected"),i.remove(t.doc,"mousedown",n.hideMenu,n),i.remove(n.id+"_menu","keydown",n._keyHandler),t.hide(n.id+"_menu")),n.isMenuVisible=0,n.onHideMenu.dispatch(),n.keyboardNav.destroy()}},renderMenu:function(){var s,r,a,l,c,d,u=this,h=0,p=u.settings;return c=t.add(p.menu_container,"div",{role:"listbox",id:u.id+"_menu","class":p.menu_class+" "+p["class"],style:"position:absolute;left:0;top:-1000px;"}),s=t.add(c,"div",{"class":p["class"]+" mceSplitButtonMenu"}),t.add(s,"span",{"class":"mceMenuLine"}),r=t.add(s,"table",{role:"presentation","class":"mceColorSplitMenu"}),a=t.add(r,"tbody"),h=0,o(n(p.colors,"array")?p.colors:p.colors.split(","),function(i){i=i.replace(/^#/,""),h--||(l=t.add(a,"tr"),h=p.grid_width-1),r=t.add(l,"td");var n={href:"javascript:;",style:{backgroundColor:"#"+i},title:u.editor.getLang("colors."+i,i),"data-mce-color":"#"+i};e.isIE||(n.role="option"),r=t.add(r,"a",n),u.editor.forcedHighContrastMode&&(r=t.add(r,"canvas",{width:16,height:16,"aria-hidden":"true"}),r.getContext&&(d=r.getContext("2d"))?(d.fillStyle="#"+i,d.fillRect(0,0,16,16)):t.remove(r))}),p.more_colors_func&&(r=t.add(a,"tr"),r=t.add(r,"td",{colspan:p.grid_width,"class":"mceMoreColors"}),r=t.add(r,"a",{role:"option",id:u.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},p.more_colors_title),i.add(r,"click",function(e){return p.more_colors_func.call(p.more_colors_scope||this),i.cancel(e)})),t.addClass(s,"mceColorSplitMenu"),i.add(u.id+"_menu","mousedown",function(e){return i.cancel(e)}),i.add(u.id+"_menu","click",function(e){var i;return e=t.getParent(e.target,"a",a),e&&"a"==e.nodeName.toLowerCase()&&(i=e.getAttribute("data-mce-color"))&&u.setColor(i),!1}),c},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var i=this;t.setStyle(i.id+"_preview","backgroundColor",e),i.value=e},postRender:function(){var e=this,i=e.id;e.parent(),t.add(i+"_action","div",{id:i+"_preview","class":"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){var e=this;e.parent(),i.clear(e.id+"_menu"),i.clear(e.id+"_more"),t.remove(e.id+"_menu"),e.keyboardNav&&e.keyboardNav.destroy()}})}(tinymce),function(e){var t=e.DOM,i=e.each,n=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var i=this,n=[],o=i.controls,s=e.each,r=i.settings;return n.push('<div id="'+i.id+'" role="group" aria-labelledby="'+i.id+'_voice">'),n.push("<span role='application'>"),n.push('<span id="'+i.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(r.name)+"</span>"),s(o,function(e){n.push(e.renderHTML())}),n.push("</span>"),n.push("</div>"),n.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var n=this,o=[];i(n.controls,function(e){i(e.controls,function(e){e.id&&o.push(e)})}),n.keyNav=new e.ui.KeyboardNavigation({root:n.id,items:o,onCancel:function(){e.isWebKit&&t.get(n.editor.id+"_ifr").focus(),n.editor.focus()},excludeFromTabOrder:!n.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),n.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each,e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,i,n,o,s,r,a=this,l="",c=a.settings;for(r=a.controls,n=0;n<r.length;n++)i=r[n],o=r[n-1],s=r[n+1],0===n&&(e="mceToolbarStart",i.Button?e+=" mceToolbarStartButton":i.SplitButton?e+=" mceToolbarStartSplitButton":i.ListBox&&(e+=" mceToolbarStartListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->"))),o&&i.ListBox&&(o.Button||o.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),l+=t.stdMode?'<td style="position: relative">'+i.renderHTML()+"</td>":"<td>"+i.renderHTML()+"</td>",s&&i.ListBox&&(s.Button||s.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",i.Button?e+=" mceToolbarEndButton":i.SplitButton?e+=" mceToolbarEndSplitButton":i.ListBox&&(e+=" mceToolbarEndListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:a.id,"class":"mceToolbar"+(c["class"]?" "+c["class"]:""),cellpadding:"0",cellspacing:"0",align:a.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+l+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each,e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var i=e.settings;i&&i.language&&i.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+i.language+".js")},add:function(e,t,i){return this.items.push(t),this.lookup[e]={instance:t,dependencies:i},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,i){var n=this.urls[t];e.each(i,function(t){e.ScriptLoader.add(n+"/"+t)})},load:function(t,i,n,o){function s(){var s=r.dependencies(t);e.each(s,function(e){var t=r.createUrl(i,e);r.load(t.resource,t,void 0,void 0)}),n&&(o?n.call(o):n.call(e.ScriptLoader))}var r=this,a=i;r.urls[t]||("object"==typeof i&&(a=i.prefix+i.resource+i.suffix),0!==a.indexOf("/")&&-1==a.indexOf("://")&&(a=e.baseURL+"/"+a),r.urls[t]=a.substring(0,a.lastIndexOf("/")),r.lookup[t]?s():e.ScriptLoader.add(a,s,o))}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,i=e.each,n=e.extend,o=e.DOM,s=e.dom.Event,r=(e.ThemeManager,e.PluginManager,e.explode),a=e.util.Dispatcher,l=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new a(e),s.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new a(e),e.onRemoveEditor=new a(e),e.EditorManager=n(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&&!o.get(t)?e.name:o.uniqueId(),e.setAttribute("id",t)),t}function a(t,i,n){var o=t[i];if(o)return e.is(o,"string")&&(n=o.replace(/\.\w+$/,""),n=n?e.resolve(n):0,o=e.resolve(o)),o.apply(n||this,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):o.hasClass(e,t)}var d,u=this,h=(e.ScriptLoader,[]);u.settings=t,s.bind(window,"ready",function(){var s,u;switch(a(t,"onpageload"),t.mode){case"exact":s=t.elements||"",s.length>0&&i(r(s),function(n){o.get(n)?(d=new e.Editor(n,t),h.push(d),d.render(1)):i(document.forms,function(s){i(s.elements,function(i){i.name===n&&(n="mce_editor_"+l++,o.setAttrib(i,"id",n),d=new e.Editor(n,t),h.push(d),d.render(1))})})});break;case"textareas":case"specific_textareas":i(o.select("textarea"),function(i){t.editor_deselector&&c(i,t.editor_deselector)||(!t.editor_selector||c(i,t.editor_selector))&&(d=new e.Editor(n(i),t),h.push(d),d.render(1))});break;default:t.types?i(t.types,function(s){i(o.select(s.selector),function(i){var o=new e.Editor(n(i),e.extend({},t,s));h.push(o),o.render(1)})}):t.selector&&i(o.select(t.selector),function(i){var o=new e.Editor(n(i),t);h.push(o),o.render(1)})}t.oninit&&(s=u=0,i(h,function(e){u++,e.initialized?s++:e.onInit.add(function(){s++,s==u&&a(t,"oninit")}),s==u&&a(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors.hasOwnProperty(e)?this.editors[e]:t},getInstanceById:function(e){return this.get(e)},add:function(t){var i=this,n=i.editors;return n[t.id]=t,n.push(t),i._setActive(t),i.onAddEditor.dispatch(i,t),e.adapter&&e.adapter.patchEditor(t),t},remove:function(e){var t,i=this,n=i.editors;if(!n[e.id])return null;for(delete n[e.id],t=0;t<n.length;t++)if(n[t]==e){n.splice(t,1);break}return i.activeEditor==e&&i._setActive(n[0]),e.destroy(),i.onRemoveEditor.dispatch(i,e),e},execCommand:function(t,i,n){function o(){a.destroy(),s.detachEvent("onunload",o),s=s.tinyMCE=s.tinymce=null}var s,r=this,a=r.get(n);switch(t){case"mceFocus":return a.focus(),!0;case"mceAddEditor":case"mceAddControl":return r.get(n)||new e.Editor(n,r.settings).render(),!0;case"mceAddFrameControl":return s=n.window,s.tinyMCE=tinyMCE,s.tinymce=e,e.DOM.doc=s.document,e.DOM.win=s,a=new e.Editor(n.element_id,n),a.render(),e.isIE&&s.attachEvent("onunload",o),n.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddControl",0,n),!0)}return r.activeEditor?r.activeEditor.execCommand(t,i,n):!1},execInstanceCommand:function(e,t,i,n){var o=this.get(e);return o?o.execCommand(t,i,n):!1},triggerSave:function(){i(this.editors,function(e){e.save()})},addI18n:function(t,n){var o=this.i18n;e.is(t,"string")?i(n,function(e,i){o[t+"."+i]=e}):i(t,function(e,t){i(e,function(e,n){i(e,function(e,i){"common"===n?o[t+"."+i]=e:o[t+"."+n+"."+i]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,i=e.dom.Event,n=e.extend,o=e.each,s=e.isGecko,r=e.isIE,a=(e.isWebKit,e.is),l=e.ThemeManager,c=e.PluginManager,d=e.explode;e.create("tinymce.Editor",{Editor:function(t,i){var o=this,s=!0;o.settings=i=n({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:s,submit_patch:s,add_unload_trigger:s,convert_urls:s,relative_urls:s,remove_script_host:s,table_inline_editing:!1,object_resizing:s,accessibility_focus:s,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:s,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:s,directionality:"ltr",forced_root_block:"p",hidden_input:s,padd_empty_editor:s,render_ui:s,indentation:"30px",fix_table_elements:s,inline_styles:s,convert_fonts_to_spans:s,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:s,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:s},i),o.id=o.editorId=t,o.isNotDirty=!1,o.plugins={},o.documentBaseURI=new e.util.URI(i.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),o.baseURI=e.baseURI,o.contentCSS=[],o.contentStyles=[],o.setupEvents(),o.execCommands={},o.queryStateCommands={},o.queryValueCommands={},o.execCallback("setup",o)},render:function(){function n(){r.language&&r.language_load!==!1&&u.add(e.baseURL+"/langs/"+r.language+".js"),r.theme&&"function"!=typeof r.theme&&"-"!=r.theme.charAt(0)&&!l.urls[r.theme]&&l.load(r.theme,"themes/"+r.theme+"/editor_template"+e.suffix+".js"),o(d(r.plugins),function(t){if(t&&!c.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var i=c.dependencies(t);o(i,function(t){var i={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"};t=c.createUrl(i,t),c.load(t.resource,t)})}else{if("safari"==t)return;c.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),u.loadQueue(function(){s.removed||s.init()})}var s=this,r=s.settings,a=s.id,u=e.ScriptLoader;return i.domLoaded?(tinyMCE.settings=r,s.getElement()&&(!e.isIDevice||e.isIOS5)&&(!/TEXTAREA|INPUT/i.test(s.getElement().nodeName)&&r.hidden_input&&t.getParent(a,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:a}),a),r.content_editable||(s.orgVisibility=s.getElement().style.visibility,s.getElement().style.visibility="hidden"),e.WindowManager&&(s.windowManager=new e.WindowManager(s)),"xml"==r.encoding&&s.onGetContent.add(function(e,i){i.save&&(i.content=t.encode(i.content))}),r.add_form_submit_trigger&&s.onSubmit.addToTop(function(){s.initialized&&(s.save(),s.isNotDirty=1)}),r.add_unload_trigger&&(s._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!s.initialized||s.destroyed||s.isHidden()||s.save({format:"raw",no_events:!0})})),e.addUnload(s.destroy,s),r.submit_patch&&s.onBeforeRenderUI.add(function(){var t=s.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(s.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),s.isNotDirty=1,s.formElement._mceOldSubmit(s.formElement)}),t=null))}),n()),void 0):(i.add(window,"ready",function(){s.render()}),void 0)},init:function(){function i(t){var n,s=c.get(t),r=c.urls[t]||e.documentBaseURL.replace(/\/$/,"");s&&-1===e.inArray(w,t)&&(o(c.dependencies(t),function(e){i(e)}),n=new s(y,r),y.plugins[t]=n,n.init&&(n.init(y,r),w.push(t)))}var n,s,a,u,h,p,f,m,g,v,y=this,b=y.settings,x=y.getElement(),w=[];if(e.add(y),b.aria_label=b.aria_label||t.getAttrib(x,"aria-label",y.getLang("aria.rich_text_area")),b.theme&&("function"!=typeof b.theme?(b.theme=b.theme.replace(/-/,""),h=l.get(b.theme),y.theme=new h,y.theme.init&&y.theme.init(y,l.urls[b.theme]||e.documentBaseURL.replace(/\/$/,""))):y.theme=b.theme),o(d(b.plugins.replace(/\-/g,"")),i),b.popup_css!==!1&&(b.popup_css=b.popup_css?y.documentBaseURI.toAbsolute(b.popup_css):y.baseURI.toAbsolute("themes/"+b.theme+"/skins/"+b.skin+"/dialog.css")),b.popup_css_add&&(b.popup_css+=","+y.documentBaseURI.toAbsolute(b.popup_css_add)),y.controlManager=new e.ControlManager(y),y.onBeforeRenderUI.dispatch(y,y.controlManager),b.render_ui&&y.theme&&(y.orgDisplay=x.style.display,"function"!=typeof b.theme?(s=b.width||x.style.width||x.offsetWidth,a=b.height||x.style.height||x.offsetHeight,u=b.min_height||100,g=/^[0-9\.]+(|px)$/i,g.test(""+s)&&(s=Math.max(parseInt(s,10)+(h.deltaWidth||0),100)),g.test(""+a)&&(a=Math.max(parseInt(a,10)+(h.deltaHeight||0),u)),h=y.theme.renderUI({targetNode:x,width:s,height:a,deltaWidth:b.delta_width,deltaHeight:b.delta_height}),t.setStyles(h.sizeContainer||h.editorContainer,{width:s,height:a}),a=(h.iframeHeight||a)+("number"==typeof a?h.deltaHeight||0:""),u>a&&(a=u)):(h=b.theme(y,x),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||y.id+"_parent"),h.iframeContainer.nodeType&&(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||y.id+"_iframecontainer"),a=h.iframeHeight||x.offsetHeight,r&&y.onInit.add(function(e){e.dom.bind(e.getBody(),"beforedeactivate keydown",function(){e.lastIERng=e.selection.getRng()})})),y.editorContainer=h.editorContainer),b.content_css&&o(d(b.content_css),function(e){y.contentCSS.push(y.documentBaseURI.toAbsolute(e))}),b.content_style&&y.contentStyles.push(b.content_style),b.content_editable)return x=n=h=null,y.initContentBody();for(document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),y.iframeHTML=b.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',b.document_base_url!=e.documentBaseURL&&(y.iframeHTML+='<base href="'+y.documentBaseURI.getURI()+'" />'),e.isIE8&&(y.iframeHTML+=b.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),y.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',v=0;v<y.contentCSS.length;v++)y.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y.contentCSS[v]+'" />';y.contentCSS=[],f=b.body_id||"tinymce",-1!=f.indexOf("=")&&(f=y.getParam("body_id","","hash"),f=f[y.id]||f),m=b.body_class||"",-1!=m.indexOf("=")&&(m=y.getParam("body_class","","hash"),m=m[y.id]||""),y.iframeHTML+='</head><body id="'+f+'" class="mceContentBody '+m+'" onload="window.parent.tinyMCE.get(\''+y.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(r||e.isOpera&&parseFloat(opera.version())<11)&&(p='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+y.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),n=t.add(h.iframeContainer,"iframe",{id:y.id+"_ifr",src:p||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.aria_label,style:{width:"100%",height:a,display:"block"}}),y.contentAreaContainer=h.iframeContainer,h.editorContainer&&(t.get(h.editorContainer).style.display=y.orgDisplay),x.style.visibility=y.orgVisibility,t.get(y.id).style.display="none",t.setAttrib(y.id,"aria-hidden",!0),e.relaxedDomain&&p||y.initContentBody(),x=n=h=null},initContentBody:function(){var i,n,s=this,a=s.settings,l=t.get(s.id),c=s.getDoc();r&&e.relaxedDomain||a.content_editable||(c.open(),c.write(s.iframeHTML),c.close(),e.relaxedDomain&&(c.domain=e.relaxedDomain)),a.content_editable&&(t.addClass(l,"mceContentBody"),s.contentDocument=c=a.content_document||document,s.contentWindow=a.content_window||window,s.bodyElement=l,a.content_document=a.content_window=null),i=s.getBody(),i.disabled=!0,a.readonly||(i.contentEditable=s.getParam("content_editable_state",!0)),i.disabled=!1,s.schema=new e.html.Schema(a),s.dom=new e.dom.DOMUtils(c,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:a.force_hex_style_colors,class_filter:a.class_filter,update_styles:!0,root_element:a.content_editable?s.id:null,schema:s.schema}),s.parser=new e.html.DomParser(a,s.schema),s.parser.addAttributeFilter("src,href,style",function(e,t){for(var i,n,o,r=e.length,a=s.dom;r--;)i=e[r],n=i.attr(t),o="data-mce-"+t,i.attributes.map[o]||("style"===t?i.attr(o,a.serializeStyle(a.parseStyle(n),i.name)):i.attr(o,s.convertURL(n,t,i.name)))}),s.parser.addNodeFilter("script",function(e){for(var t,i=e.length;i--;)t=e[i],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),s.parser.addNodeFilter("#cdata",function(e){for(var t,i=e.length;i--;)t=e[i],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var i,n=t.length,o=s.schema.getNonEmptyElements();n--;)i=t[n],i.isEmpty(o)&&(i.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),s.serializer=new e.dom.Serializer(a,s.dom,s.schema),s.selection=new e.dom.Selection(s.dom,s.getWin(),s.serializer,s),s.formatter=new e.Formatter(s),s.undoManager=new e.UndoManager(s),s.forceBlocks=new e.ForceBlocks(s),s.enterKey=new e.EnterKey(s),s.editorCommands=new e.EditorCommands(s),s.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||s.nodeChanged()}),s.serializer.onPreProcess.add(function(e,t){return s.onPreProcess.dispatch(s,t,e)}),s.serializer.onPostProcess.add(function(e,t){return s.onPostProcess.dispatch(s,t,e)}),s.onPreInit.dispatch(s),a.browser_spellcheck||a.gecko_spellcheck||(c.body.spellcheck=!1),a.readonly||s.bindNativeEvents(),s.controlManager.onPostRender.dispatch(s,s.controlManager),s.onPostRender.dispatch(s),s.quirks=e.util.Quirks(s),a.directionality&&(i.dir=a.directionality),a.nowrap&&(i.style.whiteSpace="nowrap"),a.protect&&s.onBeforeSetContent.add(function(e,t){o(a.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.onSetContent.add(function(){s.addVisual(s.getBody())}),a.padd_empty_editor&&s.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.onInit.dispatch(s),s.execCallback("setupcontent_callback",s.id,i,c),s.execCallback("init_instance_callback",s),s.focus(!0),s.nodeChanged({initial:!0}),s.contentStyles.length>0&&(n="",o(s.contentStyles,function(e){n+=e+"\r\n"}),s.dom.addStyle(n)),o(s.contentCSS,function(e){s.dom.loadCSS(e)}),a.auto_focus&&setTimeout(function(){var t=e.get(a.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),l=c=i=null},focus:function(t){var i,n,o,s,r=this,a=r.selection,l=r.settings.content_editable,c=r.getDoc();t||(r.lastIERng&&a.setRng(r.lastIERng),n=a.getRng(),n.item&&(o=n.item(0)),r._refreshContentEditable(),l||r.getWin().focus(),(e.isGecko||l)&&(s=r.getBody(),s.setActive?s.setActive():s.focus(),l&&a.normalize()),o&&o.ownerDocument==c&&(n=c.body.createControlRange(),n.addElement(o),n.select())),e.activeEditor!=r&&(null!=(i=e.activeEditor)&&i.onDeactivate.dispatch(i,r),r.onActivate.dispatch(r,i)),e._setActive(r)},execCallback:function(t){var i,n=this,o=n.settings[t];if(o)return n.callbackLookup&&(i=n.callbackLookup[t])&&(o=i.func,i=i.scope),a(o,"string")&&(i=o.replace(/\.\w+$/,""),i=i?e.resolve(i):0,o=e.resolve(o),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:o,scope:i}),o.apply(i||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var i=this.settings.language||"en",n=e.i18n;return t?n[i+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(e,t){return n[i+"."+t]||"{#"+t+"}"}):""},getLang:function(t,i){return e.i18n[(this.settings.language||"en")+"."+t]||(a(i)?i:"{#"+t+"}")},getParam:function(t,i,n){var s,r=e.trim,l=a(this.settings[t])?this.settings[t]:i;return"hash"===n?(s={},a(l,"string")?o(l.indexOf("=")>0?l.split(/[;,](?![^=;,]*(?:[;,]|$))/):l.split(","),function(e){e=e.split("="),s[r(e[0])]=e.length>1?r(e[1]):r(e)}):s=l,s):l},nodeChanged:function(e){var t,i=this,n=i.selection;i.initialized&&(e=e||{},t=n.getStart()||i.getBody(),t=r&&t.ownerDocument!=i.getDoc()?i.getBody():t,e.parents=[],i.dom.getParent(t,function(t){return"BODY"==t.nodeName?!0:(e.parents.push(t),void 0)}),i.onNodeChange.dispatch(i,e?e.controlManager||i.controlManager:i.controlManager,t,n.isCollapsed(),e))},addButton:function(e,t){var i=this;i.buttons=i.buttons||{},i.buttons[e]=t},addCommand:function(e,t,i){this.execCommands[e]={func:t,scope:i||this}},addQueryStateHandler:function(e,t,i){this.queryStateCommands[e]={func:t,scope:i||this}},addQueryValueHandler:function(e,t,i){this.queryValueCommands[e]={func:t,scope:i||this}},addShortcut:function(e,t,i,n){var s,r=this;return r.settings.custom_shortcuts===!1?!1:(r.shortcuts=r.shortcuts||{},a(i,"string")&&(s=i,i=function(){r.execCommand(s,!1,null)}),a(i,"object")&&(s=i,i=function(){r.execCommand(s[0],s[1],s[2])}),o(d(e),function(e){var s={func:i,scope:n||this,desc:r.translate(t),alt:!1,ctrl:!1,shift:!1};o(d(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":s[e]=!0;break;default:s.charCode=e.charCodeAt(0),s.keyCode=e.toUpperCase().charCodeAt(0)}}),r.shortcuts[(s.ctrl?"ctrl":"")+","+(s.alt?"alt":"")+","+(s.shift?"shift":"")+","+s.keyCode]=s}),!0)},execCommand:function(e,t,i,s){var r,a,l=this,c=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||s&&s.skip_focus||l.focus(),s=n({},s),l.onBeforeExecCommand.dispatch(l,e,t,i,s),s.terminate?!1:l.execCallback("execcommand_callback",l.id,l.selection.getNode(),e,t,i)?(l.onExecCommand.dispatch(l,e,t,i,s),!0):(r=l.execCommands[e])&&(a=r.func.call(r.scope,t,i),a!==!0)?(l.onExecCommand.dispatch(l,e,t,i,s),a):(o(l.plugins,function(n){return n.execCommand&&n.execCommand(e,t,i)?(l.onExecCommand.dispatch(l,e,t,i,s),c=1,!1):void 0}),c?!0:l.theme&&l.theme.execCommand&&l.theme.execCommand(e,t,i)?(l.onExecCommand.dispatch(l,e,t,i,s),!0):l.editorCommands.execCommand(e,t,i)?(l.onExecCommand.dispatch(l,e,t,i,s),!0):(l.getDoc().execCommand(e,t,i),l.onExecCommand.dispatch(l,e,t,i,s),void 0))},queryCommandState:function(e){var t,i,n=this;if(!n._isHidden()){if((t=n.queryStateCommands[e])&&(i=t.func.call(t.scope),i!==!0))return i;if(t=n.editorCommands.queryCommandState(e),-1!==t)return t;try{return this.getDoc().queryCommandState(e)}catch(o){}}},queryCommandValue:function(e){var t,i,n=this;if(!n._isHidden()){if((t=n.queryValueCommands[e])&&(i=t.func.call(t.scope),i!==!0))return i;if(t=n.editorCommands.queryCommandValue(e),a(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,i=e.getDoc();r&&i&&i.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,i){return this.onSetProgressState.dispatch(this,e,t,i),e},load:function(e){var t,i=this,n=i.getElement();return n?(e=e||{},e.load=!0,t=i.setContent(a(n.value)?n.value:n.innerHTML,e),e.element=n,e.no_events||i.onLoadContent.dispatch(i,e),e.element=n=null,t):void 0},save:function(e){var i,n,s=this,r=s.getElement();if(r&&s.initialized)return e=e||{},e.save=!0,e.element=r,i=e.content=s.getContent(e),e.no_events||s.onSaveContent.dispatch(s,e),i=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=i:(r.innerHTML=i,(n=t.getParent(s.id,"form"))&&o(n.elements,function(e){return e.name==s.id?(e.value=i,!1):void 0})),e.element=r=null,i},setContent:function(t,i){var n,o=this,s=o.getBody();return i=i||{},i.format=i.format||"html",i.set=!0,i.content=t,i.no_events||o.onBeforeSetContent.dispatch(o,i),t=i.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==i.format&&(t=new e.html.Serializer({},o.schema).serialize(o.parser.parse(t))),i.content=e.trim(t),o.dom.setHTML(s,i.content),i.no_events||o.onSetContent.dispatch(o,i),o.settings.content_editable&&document.activeElement!==o.getBody()||o.selection.normalize(),i.content):(n=o.settings.forced_root_block,t=n?"<"+n+'><br data-mce-bogus="1"></'+n+">":'<br data-mce-bogus="1">',s.innerHTML=t,o.selection.select(s,!0),o.selection.collapse(!0),void 0)},getContent:function(t){var i,n=this,o=n.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.onBeforeGetContent.dispatch(n,t),i="raw"==t.format?o.innerHTML:"text"==t.format?o.innerText||o.textContent:n.serializer.serialize(o,t),t.content="text"!=t.format?e.trim(i):i,t.no_events||n.onGetContent.dispatch(n,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,i=this;return i.contentWindow||(e=t.get(i.id+"_ifr"),e&&(i.contentWindow=e.contentWindow)),i.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,i){var n=this,o=n.settings;return o.urlconverter_callback?n.execCallback("urlconverter_callback",e,i,!0,t):!o.convert_urls||i&&"LINK"==i.nodeName||0===e.indexOf("file:")?e:o.relative_urls?n.documentBaseURI.toRelative(e):e=n.documentBaseURI.toAbsolute(e,o.remove_script_host)},addVisual:function(e){var t,i=this,n=i.settings,s=i.dom;e=e||i.getBody(),a(i.hasVisual)||(i.hasVisual=n.visual),o(s.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=n.visual_table_class||"mceItemTable",o=s.getAttrib(e,"border"),o&&"0"!=o||(i.hasVisual?s.addClass(e,t):s.removeClass(e,t)),void 0;case"A":return s.getAttrib(e,"href",!1)||(o=s.getAttrib(e,"name")||e.id,t="mceItemAnchor",o&&(i.hasVisual?s.addClass(e,t):s.removeClass(e,t))),void 0
}}),i.onVisualAid.dispatch(i,e,i.hasVisual)},remove:function(){var n=this,o=n.getContainer(),s=n.getDoc();n.removed||(n.removed=1,r&&s&&s.execCommand("SelectAll"),n.save(),t.setStyle(n.id,"display",n.orgDisplay),n.settings.content_editable||(i.unbind(n.getWin()),i.unbind(n.getDoc())),i.unbind(n.getBody()),i.clear(o),n.execCallback("remove_instance_callback",n),n.onRemove.dispatch(n),n.onExecCommand.listeners=[],e.remove(n),t.remove(o))},destroy:function(t){var n=this;n.destroyed||(s&&(i.unbind(n.getDoc()),i.unbind(n.getWin()),i.unbind(n.getBody())),t||(e.removeUnload(n.destroy),tinyMCE.onBeforeUnload.remove(n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.controlManager.destroy(),n.selection.destroy(),n.dom.destroy()),n.formElement&&(n.formElement.submit=n.formElement._mceOldSubmit,n.formElement._mceOldSubmit=null),n.contentAreaContainer=n.formElement=n.container=n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1)},_refreshContentEditable:function(){var e,t,i=this;i._isHidden()&&(e=i.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return s?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}})}(tinymce),function(e){var t=e.each;e.Editor.prototype.setupEvents=function(){var i=this,n=i.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){i[t]=new e.util.Dispatcher(i)}),n.cleanup_callback&&(i.onBeforeSetContent.add(function(e,t){t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),i.onPreProcess.add(function(e,t){t.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&e.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),i.onPostProcess.add(function(e,t){t.set&&(t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=e.execCallback("cleanup_callback","get_from_editor",t.content,t))})),n.save_callback&&i.onGetContent.add(function(e,t){t.save&&(t.content=e.execCallback("save_callback",e.id,t.content,e.getBody()))}),n.handle_event_callback&&i.onEvent.add(function(e,t,n){i.execCallback("handle_event_callback",t,e,n)===!1&&(t.preventDefault(),t.stopPropagation())}),n.handle_node_change_callback&&i.onNodeChange.add(function(e,t,i){e.execCallback("handle_node_change_callback",e.id,i,-1,-1,!0,e.selection.isCollapsed())}),n.save_callback&&i.onSaveContent.add(function(e,t){var i=e.execCallback("save_callback",e.id,t.content,e.getBody());i&&(t.content=i)}),n.onchange_callback&&i.onChange.add(function(e,t){e.execCallback("onchange_callback",e,t)})},e.Editor.prototype.bindNativeEvents=function(){function i(e,t){e.type,a.removed||a.onEvent.dispatch(a,e,t)!==!1&&a[r[e.fakeType||e.type]].dispatch(a,e,t)}function n(){a.focus(!0)}function o(t,i){65==i.keyCode&&e.VK.metaKeyPressed(i)||a.selection.normalize(),a.nodeChanged()}function s(i,n){(i.altKey||i.ctrlKey||i.metaKey)&&t(a.shortcuts,function(t){var o=e.isMac?i.metaKey:i.ctrlKey;if(t.ctrl==o&&t.alt==i.altKey&&t.shift==i.shiftKey)return i.keyCode==t.keyCode||i.charCode&&i.charCode==t.charCode?(i.preventDefault(),n&&t.func.call(t.scope),!0):void 0})}var r,a=this,l=a.settings,c=a.dom;r={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(r,function(t,n){var o=l.content_editable?a.getBody():a.getDoc();switch(n){case"contextmenu":c.bind(o,n,i);break;case"paste":c.bind(a.getBody(),n,i);break;case"submit":case"reset":c.bind(a.getElement().form||e.DOM.getParent(a.id,"form"),n,i);break;default:c.bind(o,n,i)}}),c.bind(l.content_editable?a.getBody():e.isGecko?a.getDoc():a.getWin(),"focus",function(){a.focus(!0)}),l.content_editable&&e.isOpera&&(c.bind(a.getBody(),"click",n),c.bind(a.getBody(),"keydown",n)),a.onMouseUp.add(o),a.onKeyUp.add(function(t,i){var n=i.keyCode;(n>=33&&36>=n||n>=37&&40>=n||13==n||45==n||46==n||8==n||e.isMac&&(91==n||93==n)||i.ctrlKey)&&o(t,i)}),a.onReset.add(function(){a.setContent(a.startContent,{format:"raw"})}),a.onKeyUp.add(function(e,t){s(t)}),a.onKeyPress.add(function(e,t){s(t)}),a.onKeyDown.add(function(e,t){s(t,!0)}),e.isOpera&&a.onClick.add(function(e,t){t.preventDefault()})}}(tinymce),function(e){var t,i=e.each,n=!0,o=!1;e.EditorCommands=function(s){function r(e,t,i){var s;return e=e.toLowerCase(),(s=y.exec[e])?(s(e,t,i),n):o}function a(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function l(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):o}function c(e,t){t=t||"exec",i(e,function(e,n){i(n.toLowerCase().split(","),function(i){y[t][i]=e})})}function d(e,i,n){return i===t&&(i=o),n===t&&(n=null),s.getDoc().execCommand(e,i,n)}function u(e){return x.match(e)}function h(e,i){x.toggle(e,i?{value:i}:t)}function p(e){m=v.getBookmark(e)}function f(){v.moveToBookmark(m)}var m,g=s.dom,v=s.selection,y={state:{},exec:{},value:{}},b=s.settings,x=s.formatter;e.extend(this,{execCommand:r,queryCommandState:a,queryCommandValue:l,addCommands:c}),c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},"Cut,Copy,Paste":function(t){var i,o=s.getDoc();try{d(t)}catch(r){i=n}(i||!o.queryCommandSupported(t))&&(e.isGecko?s.windowManager.confirm(s.getLang("clipboard_msg"),function(e){e&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):s.windowManager.alert(s.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),d(e),v.collapse(o)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);i("left,center,right,full".split(","),function(e){t!=e&&x.remove("align"+e)}),h("align"+t),r("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,i;d(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(i=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(p(),g.split(i,t),f()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor,FontName":function(e,t,i){h(e,i)},FontSize:function(t,i,n){var o,s;n>=1&&7>=n&&(s=e.explode(b.font_size_style_values),o=e.explode(b.font_size_classes),n=o?o[n-1]||n:s[n-1]||n),h(t,n)},RemoveFormat:function(e){x.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,i){return h(i||"p")},mceCleanup:function(){var e=v.getBookmark();s.setContent(s.getContent({cleanup:n}),{cleanup:n}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,i){var o=i||v.getNode();o!=s.getBody()&&(p(),s.dom.remove(o,n),f())},mceSelectNodeDepth:function(e,t,i){var n=0;g.getParent(v.getNode(),function(e){return 1==e.nodeType&&n++==i?(v.select(e),o):void 0},s.getBody())},mceSelectNode:function(e,t,i){v.select(i)},mceInsertContent:function(t,i,n){var o,r,a,l,c,d,u,h,p,f,m,y,b,x;if(o=s.parser,r=new e.html.Serializer({},s.schema),b='<span id="mce_marker" data-mce-type="bookmark">﻿</span>',d={content:n,format:"html"},v.onBeforeSetContent.dispatch(v,d),n=d.content,-1==n.indexOf("{$caret}")&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,b),v.isCollapsed()||s.getDoc().execCommand("Delete",!1,null),a=v.getNode(),d={context:a.nodeName.toLowerCase()},c=o.parse(n,d),m=c.lastChild,"mce_marker"==m.attr("id"))for(u=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!g.isBlock(m.name)){m.parent.insert(u,m,"br"===m.name);break}if(d.invalid){for(v.setContent(b),a=v.getNode(),l=s.getBody(),9==a.nodeType?a=m=l:m=a;m!==l;)a=m,m=m.parentNode;n=a==l?l.innerHTML:g.getOuterHTML(a),n=r.serialize(o.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(c)}))),a==l?g.setHTML(l,n):g.setOuterHTML(a,n)}else n=r.serialize(c),m=a.firstChild,y=a.lastChild,!m||m===y&&"BR"===m.nodeName?g.setHTML(a,n):v.setContent(n);u=g.get("mce_marker"),h=g.getRect(u),p=g.getViewPort(s.getWin()),(h.y+h.h>p.y+p.h||h.y<p.y||h.x>p.x+p.w||h.x<p.x)&&(x=e.isIE?s.getDoc().documentElement:s.getBody(),x.scrollLeft=h.x,x.scrollTop=h.y-p.h+25),f=g.createRng(),m=u.previousSibling,m&&3==m.nodeType?f.setStart(m,m.nodeValue.length):(f.setStartBefore(u),f.setEndBefore(u)),g.remove(u),v.setRng(f),v.onSetContent.dispatch(v,d),s.addVisual()},mceInsertRawHTML:function(e,t,i){v.setContent("tiny_mce_marker"),s.setContent(s.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,i){h(i)},mceSetContent:function(e,t,i){s.setContent(i)},"Indent,Outdent":function(e){var t,n,o;t=b.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t),a("InsertUnorderedList")||a("InsertOrderedList")?d(e):(b.forced_root_block||g.getParent(v.getNode(),g.isBlock)||x.apply("div"),i(v.getSelectedBlocks(),function(i){"outdent"==e?(o=Math.max(0,parseInt(i.style.paddingLeft||0)-t),g.setStyle(i,"paddingLeft",o?o+n:"")):g.setStyle(i,"paddingLeft",parseInt(i.style.paddingLeft||0)+t+n)}))},mceRepaint:function(){if(e.isGecko)try{p(n),v.getSel()&&v.getSel().selectAllChildren(s.getBody()),v.collapse(n),f()}catch(t){}},mceToggleFormat:function(e,t,i){x.toggle(i)},InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(e,t,i){s.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,i){var n;"string"==typeof i&&(i={href:i}),n=g.getParent(v.getNode(),"a"),i.href=i.href.replace(" ","%20"),n&&i.href||x.remove("link"),i.href&&x.apply("link",i,n)},selectAll:function(){var e=g.getRoot(),t=g.createRng();v.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),v.setRng(t)):d("SelectAll")}}),c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var i="align"+t.substring(7),o=v.isCollapsed()?[g.getParent(v.getNode(),g.isBlock)]:v.getSelectedBlocks(),s=e.map(o,function(e){return!!x.matchNode(e,i)});return-1!==e.inArray(s,n)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return u(e)},mceBlockQuote:function(){return u("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return n;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return n}return a("InsertUnorderedList")||a("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=g.getParent(v.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),c({"FontSize,FontName":function(e){var t,i=0;return(t=g.getParent(v.getNode(),"span"))&&(i="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),i}},"value"),c({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(i){function n(){return e.trim(i.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function o(){s.typing=!1,s.add()}var s,r,a,l,c,d=0,u=[];return onBeforeAdd=new t(s),a=new t(s),l=new t(s),c=new t(s),a.add(function(e,t){return e.hasUndo()?i.onChange.dispatch(i,t,e):void 0}),l.add(function(e,t){return i.onUndo.dispatch(i,t,e)}),c.add(function(e,t){return i.onRedo.dispatch(i,t,e)}),i.onInit.add(function(){s.add()}),i.onBeforeExecCommand.add(function(e,t,i,n,o){"Undo"==t||"Redo"==t||"mceRepaint"==t||o&&o.skip_undo||s.beforeChange()}),i.onExecCommand.add(function(e,t,i,n,o){"Undo"==t||"Redo"==t||"mceRepaint"==t||o&&o.skip_undo||s.add()}),i.onSaveContent.add(o),i.dom.bind(i.dom.getRoot(),"dragend",o),i.dom.bind(i.getBody(),"focusout",function(){!i.removed&&s.typing&&o()}),i.onKeyUp.add(function(e,t){var i=t.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||t.ctrlKey)&&o()}),i.onKeyDown.add(function(e,t){var i=t.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?(s.typing&&o(),void 0):((16>i||i>20)&&224!=i&&91!=i&&!s.typing&&(s.beforeChange(),s.typing=!0,s.add()),void 0)}),i.onMouseDown.add(function(){s.typing&&o()}),i.addShortcut("ctrl+z","undo_desc","Undo"),i.addShortcut("ctrl+y","redo_desc","Redo"),s={data:u,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:a,onUndo:l,onRedo:c,beforeChange:function(){r=i.selection.getBookmark(2,!0)},add:function(e){var t,o,a=i.settings;if(e=e||{},e.content=n(),s.onBeforeAdd.dispatch(s,e),o=u[d],o&&o.content==e.content)return null;if(u[d]&&(u[d].beforeBookmark=r),a.custom_undo_redo_levels&&u.length>a.custom_undo_redo_levels){for(t=0;t<u.length-1;t++)u[t]=u[t+1];u.length--,d=u.length}return e.bookmark=i.selection.getBookmark(2,!0),d<u.length-1&&(u.length=d+1),u.push(e),d=u.length-1,s.onAdd.dispatch(s,e),i.isNotDirty=0,e},undo:function(){var e;return s.typing&&(s.add(),s.typing=!1),d>0&&(e=u[--d],i.setContent(e.content,{format:"raw"}),i.selection.moveToBookmark(e.beforeBookmark),s.onUndo.dispatch(s,e)),e},redo:function(){var e;return d<u.length-1&&(e=u[++d],i.setContent(e.content,{format:"raw"}),i.selection.moveToBookmark(e.bookmark),s.onRedo.dispatch(s,e)),e},clear:function(){u=[],d=0,s.typing=!1},hasUndo:function(){return d>0||this.typing},hasRedo:function(){return d<u.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(e){function t(){var t,r,a,l,c,d,u,h,p,f=o.getStart(),m=e.getBody(),g=-16777215;if(f&&1===f.nodeType&&i.forced_root_block){for(;f&&f!=m;){if(s[f.nodeName])return;f=f.parentNode}for(t=o.getRng(),t.setStart?(r=t.startContainer,a=t.startOffset,l=t.endContainer,c=t.endOffset):(t.item&&(f=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(f)),p=t.parentElement().ownerDocument===e.getDoc(),tmpRng=t.duplicate(),tmpRng.collapse(!0),a=-1*tmpRng.move("character",g),tmpRng.collapsed||(tmpRng=t.duplicate(),tmpRng.collapse(!1),c=-1*tmpRng.move("character",g)-a)),f=m.firstChild;f;)if(3===f.nodeType||1==f.nodeType&&!s[f.nodeName]){if(3===f.nodeType&&0==f.nodeValue.length){u=f,f=f.nextSibling,n.remove(u);continue}d||(d=n.create(i.forced_root_block),f.parentNode.insertBefore(d,f),h=!0),u=f,f=f.nextSibling,d.appendChild(u)}else d=null,f=f.nextSibling;if(h){if(t.setStart)t.setStart(r,a),t.setEnd(l,c),o.setRng(t);else if(p)try{t=e.getDoc().body.createTextRange(),t.moveToElementText(m),t.collapse(!0),t.moveStart("character",a),c>0&&t.moveEnd("character",c),t.select()}catch(v){}e.nodeChanged()}}}var i=e.settings,n=e.dom,o=e.selection,s=e.schema.getBlockElements();i.forced_root_block&&(e.onKeyUp.add(t),e.onNodeChange.add(t))},function(e){var t=(e.DOM,e.dom.Event),i=e.each,n=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,n){var o=this;n=n||{},o.editor=t,o.controls={},o.onAdd=new e.util.Dispatcher(o),o.onPostRender=new e.util.Dispatcher(o),o.prefix=n.prefix||t.id+"_",o._cls={},o.onPostRender.add(function(){i(o.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var i=null;return(i=this.get(e))&&i.setActive(t),i},setDisabled:function(e,t){var i=null;return(i=this.get(e))&&i.setDisabled(t),i},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,n,o,s,r=this,a=r.editor;for(r.controlFactories||(r.controlFactories=[],i(a.plugins,function(e){e.createControl&&r.controlFactories.push(e)})),s=r.controlFactories,n=0,o=s.length;o>n;n++)if(t=s[n].createControl(e,r))return r.add(t);return"|"===e||"separator"===e?r.createSeparator():a.buttons&&(t=a.buttons[e])?r.createButton(e,t):r.add(t)},createDropMenu:function(t,i,o){var s,r,a,l,c=this,d=c.editor;return i=n({"class":"mceDropDown",constrain:d.settings.constrain_menus},i),i["class"]=i["class"]+" "+d.getParam("skin")+"Skin",(a=d.getParam("skin_variant"))&&(i["class"]+=" "+d.getParam("skin")+"Skin"+a.substring(0,1).toUpperCase()+a.substring(1)),i["class"]+="rtl"==d.settings.directionality?" mceRtl":"",t=c.prefix+t,l=o||c._cls.dropmenu||e.ui.DropMenu,s=c.controls[t]=new l(t,i),s.onAddItem.add(function(e,t){var i=t.settings;i.title=d.getLang(i.title,i.title),i.onclick||(i.onclick=function(){i.cmd&&d.execCommand(i.cmd,i.ui||!1,i.value)})}),d.onRemove.add(function(){s.destroy()}),e.isIE&&(s.onShowMenu.add(function(){d.focus(),r=d.selection.getBookmark(1)}),s.onHideMenu.add(function(){r&&(d.selection.moveToBookmark(r),r=0)})),c.add(s)},createListBox:function(i,o,s){function r(t){return t.settings.use_accessible_selects&&!e.isGecko}var a,l,c=this,d=c.editor;return c.get(i)?null:(o.title=d.translate(o.title),o.scope=o.scope||d,o.onselect||(o.onselect=function(e){d.execCommand(o.cmd,o.ui||!1,e||o.value)}),o=n({title:o.title,"class":"mce_"+i,scope:o.scope,control_manager:c},o),i=c.prefix+i,d.settings.use_native_selects||r(d)?a=new e.ui.NativeListBox(i,o):(l=s||c._cls.listbox||e.ui.ListBox,a=new l(i,o,d)),c.controls[i]=a,e.isWebKit&&a.onPostRender.add(function(e,i){t.add(i,"mousedown",function(){d.bookmark=d.selection.getBookmark(1)}),t.add(i,"focus",function(){d.selection.moveToBookmark(d.bookmark),d.bookmark=null})}),a.hideMenu&&d.onMouseDown.add(a.hideMenu,a),c.add(a))},createButton:function(t,i,o){var s,r,a=this,l=a.editor;return a.get(t)?null:(i.title=l.translate(i.title),i.label=l.translate(i.label),i.scope=i.scope||l,i.onclick||i.menu_button||(i.onclick=function(){l.execCommand(i.cmd,i.ui||!1,i.value)}),i=n({title:i.title,"class":"mce_"+t,unavailable_prefix:l.getLang("unavailable",""),scope:i.scope,control_manager:a},i),t=a.prefix+t,i.menu_button?(r=o||a._cls.menubutton||e.ui.MenuButton,s=new r(t,i,l),l.onMouseDown.add(s.hideMenu,s)):(r=a._cls.button||e.ui.Button,s=new r(t,i,l)),a.add(s))},createMenuButton:function(e,t,i){return t=t||{},t.menu_button=1,this.createButton(e,t,i)},createSplitButton:function(t,i,o){var s,r,a=this,l=a.editor;return a.get(t)?null:(i.title=l.translate(i.title),i.scope=i.scope||l,i.onclick||(i.onclick=function(e){l.execCommand(i.cmd,i.ui||!1,e||i.value)}),i.onselect||(i.onselect=function(e){l.execCommand(i.cmd,i.ui||!1,e||i.value)}),i=n({title:i.title,"class":"mce_"+t,scope:i.scope,control_manager:a},i),t=a.prefix+t,r=o||a._cls.splitbutton||e.ui.SplitButton,s=a.add(new r(t,i,l)),l.onMouseDown.add(s.hideMenu,s),s)},createColorSplitButton:function(t,i,o){var s,r,a,l=this,c=l.editor;return l.get(t)?null:(i.title=c.translate(i.title),i.scope=i.scope||c,i.onclick||(i.onclick=function(t){e.isIE&&(a=c.selection.getBookmark(1)),c.execCommand(i.cmd,i.ui||!1,t||i.value)}),i.onselect||(i.onselect=function(e){c.execCommand(i.cmd,i.ui||!1,e||i.value)}),i=n({title:i.title,"class":"mce_"+t,menu_class:c.getParam("skin")+"Skin",scope:i.scope,more_colors_title:c.getLang("more_colors")},i),t=l.prefix+t,r=o||l._cls.colorsplitbutton||e.ui.ColorSplitButton,s=new r(t,i,c),c.onMouseDown.add(s.hideMenu,s),c.onRemove.add(function(){s.destroy()}),e.isIE&&(s.onShowMenu.add(function(){c.focus(),a=c.selection.getBookmark(1)}),s.onHideMenu.add(function(){a&&(c.selection.moveToBookmark(a),a=0)})),l.add(s))},createToolbar:function(t,i,n){var o,s,r=this;return t=r.prefix+t,s=n||r._cls.toolbar||e.ui.Toolbar,o=new s(t,i,r.editor),r.get(t)?null:r.add(o)},createToolbarGroup:function(t,i,n){var o,s,r=this;return t=r.prefix+t,s=n||this._cls.toolbarGroup||e.ui.ToolbarGroup,o=new s(t,i,r.editor),r.get(t)?null:r.add(o)},createSeparator:function(t){var i=t||this._cls.separator||e.ui.Separator;return new i},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){i(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,i=e.each,n=e.isIE,o=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var i=this;i.editor=e,i.onOpen=new t(i),i.onClose=new t(i),i.params={},i.features={}},open:function(t,s){var r,a,l,c,d=this,u="",h="modal"==d.editor.settings.dialog_type,p=e.DOM.getViewPort();t=t||{},s=s||{},a=o?p.w:screen.width,l=o?p.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(a/2)-t.width/2,t.top=t.top||parseInt(l/2)-t.height/2,s.inline=!1,s.mce_width=t.width,s.mce_height=t.height,s.mce_auto_focus=t.auto_focus,h&&n&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),i(t,function(t,i){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(i)||(u+=n&&h?(u?";":"")+i+":"+t:(u?",":"")+i+"="+t)}),d.features=t,d.params=s,d.onOpen.dispatch(d,t,s),c=t.url||t.file,c=e._addVer(c);try{n&&h?(r=1,window.showModalDialog(c,window,u)):r=window.open(c,t.name,u)}catch(f){}r||alert(d.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,i,n,o,s,r){var a=e.resolve(t);return new a(i,n,o,s,r)},confirm:function(e,t,i,n){n=n||window,t.call(i||this,n.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,i,n){var o=this;n=n||window,n.alert(o._decode(o.editor.getLang(e,e))),t&&t.call(i||o)},resizeBy:function(e,t,i){i.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function i(e){return!!t.schema.getTextBlocks()[e.toLowerCase()]}function n(e,t){return O.getParents(e,t,O.getRoot())}function o(e){return 1===e.nodeType&&"_mce_caret"===e.id}function s(){l({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,i){L(i,function(t,i){O.setAttrib(e,i,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),L("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){l(e,{block:e,remove:"all"})}),l(t.settings.formats)}function r(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)t.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function a(e){return e?B[e]:B}function l(e,t){e&&("string"!=typeof e?L(e,function(e,t){l(t,e)}):(t=t.length?t:[t],L(t,function(e){e.deep===I&&(e.deep=!e.selector),e.split===I&&(e.split=!e.selector||e.inline),e.remove===I&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),B[e]=t))}function c(n,s,r){function l(e,t){t=t||b,e&&(t.onformat&&t.onformat(e,t,s,r),L(t.styles,function(t,i){O.setStyle(e,i,x(t,s))}),L(t.attributes,function(t,i){O.setAttrib(e,i,x(t,s))}),L(t.classes,function(t){t=x(t,s),O.hasClass(e,t)||O.addClass(e,t)}))}function d(){function e(e,t){var i=new H(t);for(r=i.current();r;r=i.prev())if(r.childNodes.length>1||r==e||"BR"==r.tagName)return r}var i=t.selection.getRng(),n=i.startContainer,o=i.endContainer;if(n!=o&&0===i.endOffset){var s=e(n,o),a=3==s.nodeType?s.length:s.childNodes.length;i.setEnd(s,a)}return i}function u(t,i,n,o,s){var r,a,l=[],c=-1,d=-1,u=-1;return L(t.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(c=t,r=e,!1):void 0}),L(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==O.getAttrib(e,"data-mce-type")&&(e.id==i.id+"_start"?d=t:e.id==i.id+"_end"&&(u=t))}),0>=c||c>d&&u>c?(L(e.grep(t.childNodes),s),0):(a=O.clone(n,Y),L(e.grep(t.childNodes),function(e,t){(c>d&&c>t||d>c&&t>c)&&(l.push(e),e.parentNode.removeChild(e))}),c>d?t.insertBefore(a,r):d>c&&t.insertBefore(a,r.nextSibling),o.push(a),L(l,function(e){a.appendChild(e)}),a)}function p(t,r,a){var c,d,p=[],f=!0;c=b.inline||b.block,d=O.create(c),l(d),F.walk(t,function(t){function m(t){var x,w,C,k,T;return T=f,x=t.nodeName.toLowerCase(),w=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&G(t)&&(T=f,f="true"===G(t),k=!0),y(x,"br")?(v=0,b.block&&O.remove(t),void 0):b.wrapper&&h(t,n,s)?(v=0,void 0):f&&!k&&b.block&&!b.wrapper&&i(x)?(t=O.rename(t,c),l(t),p.push(t),v=0,void 0):b.selector&&(L(g,function(e){"collapsed"in e&&e.collapsed!==_||O.is(t,e.selector)&&!o(t)&&(l(t,e),C=!0)}),!b.inline||C)?(v=0,void 0):(f&&!k&&z(c,x)&&z(w,c)&&(a||3!==t.nodeType||1!==t.nodeValue.length||65279!==t.nodeValue.charCodeAt(0))&&!o(t)?(v||(v=O.clone(d,Y),t.parentNode.insertBefore(v,t),p.push(v)),v.appendChild(t)):"li"==x&&r?v=u(t,r,d,p,m):(v=0,L(e.grep(t.childNodes),m),k&&(f=T),v=0),void 0)}var v;L(t,m)}),b.wrap_links===!1&&L(p,function(t){function i(t){var n,o,s;if("A"===t.nodeName){for(o=O.clone(d,Y),p.push(o),s=e.grep(t.childNodes),n=0;n<s.length;n++)o.appendChild(s[n]);t.appendChild(o)}L(e.grep(t.childNodes),i)}i(t)}),L(p,function(e){function t(e){var t=0;return L(e.childNodes,function(e){w(e)||E(e)||t++}),t}function i(e){var t,i;return L(e.childNodes,function(e){return 1!=e.nodeType||E(e)||o(e)?void 0:(t=e,Y)}),t&&v(t,b)&&(i=O.clone(t,Y),l(i),O.replace(i,e,V),O.remove(t,1)),i||e}var r;if(r=t(e),(p.length>1||!j(e))&&0===r)return O.remove(e,1),void 0;if(b.inline||b.wrapper){if(b.exact||1!==r||(e=i(e)),L(g,function(t){L(O.select(t.inline,e),function(e){var i;if(t.wrap_links===!1){i=e.parentNode;do if("A"===i.nodeName)return;while(i=i.parentNode)}k(t,s,e,t.exact?e:null)})}),h(e.parentNode,n,s))return O.remove(e,1),e=0,V;b.merge_with_parents&&O.getParent(e.parentNode,function(t){return h(t,n,s)?(O.remove(e,1),e=0,V):void 0}),e&&b.merge_siblings!==!1&&(e=D(S(e),e),e=D(e,S(e,V)))}})}var f,m,g=a(n),b=g[0],_=R.isCollapsed();if(b)if(r)r.nodeType?(m=O.createRng(),m.setStartBefore(r),m.setEndAfter(r),p(C(m,g),null,!0)):p(r,null,!0);else if(_&&b.inline&&!O.select("td.mceSelected,th.mceSelected").length)M("apply",n,s);else{var T=t.selection.getNode();W||!g[0].defaultBlock||O.getParent(T,O.isBlock)||c(g[0].defaultBlock),t.selection.setRng(d()),f=R.getBookmark(),p(C(R.getRng(V),g),f),b.styles&&(b.styles.color||b.styles.textDecoration)&&(e.walk(T,K,"childNodes"),K(T)),R.moveToBookmark(f),N(R.getRng(V)),t.nodeChanged()}}function d(i,o,s){function r(t){var i,n,s,a,l;if(3!==t.nodeType){if(1===t.nodeType&&G(t)&&(a=b,b="true"===G(t),l=!0),i=e.grep(t.childNodes),b&&!l)for(n=0,s=v.length;s>n&&!k(v[n],o,t,t);n++);if(y.deep&&i.length){for(n=0,s=i.length;s>n;n++)r(i[n]);l&&(b=a)}}}function l(e){var t;return L(n(e.parentNode).reverse(),function(e){var n;t||"_start"==e.id||"_end"==e.id||(n=h(e,i,o),n&&n.split!==!1&&(t=e))}),t}function c(e,t,i,n){var s,r,a,l,c,d;if(e){for(d=e.parentNode,s=t.parentNode;s&&s!=d;s=s.parentNode){for(r=O.clone(s,Y),c=0;c<v.length;c++)if(k(v[c],o,r,r)){r=0;break}r&&(a&&r.appendChild(a),l||(l=r),a=r)}!n||y.mixed&&j(e)||(t=O.split(e,t)),a&&(i.parentNode.insertBefore(a,i),l.appendChild(i))}return t}function d(e){return c(l(e),e,e,!0)}function u(e){var t=O.get(e?"_start":"_end"),i=t[e?"firstChild":"lastChild"];return E(i)&&(i=i[e?"firstChild":"lastChild"]),O.remove(t,!0),i}function f(e){var i,n;e=C(e,v,V),y.split&&(i=A(e,V),n=A(e),i!=n?(/^(TR|TD)$/.test(i.nodeName)&&i.firstChild&&(i=("TD"==i.nodeName?i.firstChild:i.firstChild.firstChild)||i),i=_(i,"span",{id:"_start","data-mce-type":"bookmark"}),n=_(n,"span",{id:"_end","data-mce-type":"bookmark"}),d(i),d(n),i=u(V),n=u()):i=n=d(i),e.startContainer=i.parentNode,e.startOffset=$(i),e.endContainer=n.parentNode,e.endOffset=$(n)+1),F.walk(e,function(e){L(e,function(e){r(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===X(e.parentNode)&&k({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var m,g,v=a(i),y=v[0],b=!0;return s?(s.nodeType?(g=O.createRng(),g.setStartBefore(s),g.setEndAfter(s),f(g)):f(s),void 0):(R.isCollapsed()&&y.inline&&!O.select("td.mceSelected,th.mceSelected").length?M("remove",i,o):(m=R.getBookmark(),f(R.getRng(V)),R.moveToBookmark(m),y.inline&&p(i,o,R.getStart())&&N(R.getRng(!0)),t.nodeChanged()),void 0)}function u(e,t,i){var n=a(e);!p(e,t,i)||"toggle"in n[0]&&!n[0].toggle?c(e,t,i):d(e,t,i)}function h(e,t,i,n){function o(e,t,o){var s,r,a,l=t[o];if(t.onmatch)return t.onmatch(e,t,o);if(l)if(l.length===I){for(s in l)if(l.hasOwnProperty(s)){if(r="attributes"===o?O.getAttrib(e,s):b(e,s),n&&!r&&!t.exact)return;if((!n||t.exact)&&!y(r,x(l[s],i)))return}}else for(a=0;a<l.length;a++)if("attributes"===o?O.getAttrib(e,l[a]):b(e,l[a]))return t;return t}var s,r,l,c=a(t);if(c&&e)for(r=0;r<c.length;r++)if(s=c[r],v(e,s)&&o(e,s,"attributes")&&o(e,s,"styles")){if(l=s.classes)for(r=0;r<l.length;r++)if(!O.hasClass(e,l[r]))return;return s}}function p(e,t,i){function n(i){return i=O.getParent(i,function(i){return!!h(i,e,t,!0)}),h(i,e,t)}var o;return i?n(i):(i=R.getNode(),n(i)?V:(o=R.getStart(),o!=i&&n(o)?V:Y))}function f(e,t){var i,n=[],o={};return i=R.getStart(),O.getParent(i,function(i){var s,r;for(s=0;s<e.length;s++)r=e[s],!o[r]&&h(i,r,t)&&(o[r]=!0,n.push(r))},O.getRoot()),n}function m(e){var t,i,o,s,r,l=a(e);if(l)for(t=R.getStart(),i=n(t),s=l.length-1;s>=0;s--){if(r=l[s].selector,!r)return V;for(o=i.length-1;o>=0;o--)if(O.is(i[o],r))return V}return Y}function g(e,i,o){var s;return P||(P={},s={},t.onNodeChange.addToTop(function(e,t,i){var o=n(i),r={};L(P,function(e,t){L(o,function(i){return h(i,t,{},e.similar)?(s[t]||(L(e,function(e){e(!0,{node:i,format:t,parents:o})}),s[t]=e),r[t]=e,!1):void 0})}),L(s,function(e,t){r[t]||(delete s[t],L(e,function(e){e(!1,{node:i,format:t,parents:o})}))})})),L(e.split(","),function(e){P[e]||(P[e]=[],P[e].similar=o),P[e].push(i)}),this}function v(e,t){return y(e,t.inline)?V:y(e,t.block)?V:t.selector?O.is(e,t.selector):void 0}function y(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function b(e,t){var i=O.getStyle(e,t);return("color"==t||"backgroundColor"==t)&&(i=O.toHex(i)),"fontWeight"==t&&700==i&&(i="bold"),""+i}function x(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,i){return t[i]||e})),e}function w(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function _(e,t,i){var n=O.create(t,i);return e.parentNode.insertBefore(n,e),n.appendChild(e),n}function C(e,o,s){function r(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var i,n,s,r,a;if(i=n=e?m:v,r=e?"previousSibling":"nextSibling",a=O.getRoot(),3==i.nodeType&&!w(i)&&(e?g>0:b<i.nodeValue.length))return i;for(;;){if(!o[0].block_expand&&j(n))return n;for(s=n[r];s;s=s[r])if(!E(s)&&!w(s)&&!t(s))return n;if(n.parentNode==a){i=n;break}n=n.parentNode
}return i}function a(e,t){for(t===I&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function l(e){for(var t=e;t;){if(1===t.nodeType&&G(t))return"false"===G(t)?t:e;t=t.parentNode}return e}function c(e,i,n){function o(e,t){var i,o,r=e.nodeValue;return"undefined"==typeof t&&(t=n?r.length:0),n?(i=r.lastIndexOf(" ",t),o=r.lastIndexOf(" ",t),i=i>o?i:o,-1===i||s||i++):(i=r.indexOf(" ",t),o=r.indexOf(" ",t),i=-1!==i&&(-1===o||o>i)?i:o),i}var r,a,l,c;if(3===e.nodeType){if(l=o(e,i),-1!==l)return{container:e,offset:l};c=e}for(r=new H(e,O.getParent(e,j)||t.getBody());a=r[n?"prev":"next"]();)if(3===a.nodeType){if(c=a,l=o(a),-1!==l)return{container:a,offset:l}}else if(j(a))break;return c?(i=n?0:c.length,{container:c,offset:i}):void 0}function d(t,i){var s,r,a,l;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),s=n(t),r=0;r<s.length;r++)for(a=0;a<o.length;a++)if(l=o[a],!("collapsed"in l&&l.collapsed!==e.collapsed)&&O.is(s[r],l.selector))return s[r];return t}function u(e,t){var s;if(o[0].wrapper||(s=O.getParent(e,o[0].block)),s||(s=O.getParent(3==e.nodeType?e.parentNode:e,i)),s&&o[0].wrapper&&(s=n(s,"ul,ol").reverse()[0]||s),!s)for(s=e;s[t]&&!j(s[t])&&(s=s[t],!y(s,"br")););return s||e}var h,p,f,m=e.startContainer,g=e.startOffset,v=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(h=m.childNodes.length-1,m=m.childNodes[g>h?h:g],3==m.nodeType&&(g=0)),1==v.nodeType&&v.hasChildNodes()&&(h=v.childNodes.length-1,v=v.childNodes[b>h?h:b-1],3==v.nodeType&&(b=v.nodeValue.length)),m=l(m),v=l(v),(E(m.parentNode)||E(m))&&(m=E(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(g=0)),(E(v.parentNode)||E(v))&&(v=E(v)?v:v.parentNode,v=v.previousSibling||v,3==v.nodeType&&(b=v.length)),o[0].inline&&(e.collapsed&&(f=c(m,g,!0),f&&(m=f.container,g=f.offset),f=c(v,b),f&&(v=f.container,b=f.offset)),p=a(v,b),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=a(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(v=p.node,v.splitText(p.offset-1))}return(o[0].inline||o[0].block_expand)&&(o[0].inline&&3==m.nodeType&&0!==g||(m=r(!0)),o[0].inline&&3==v.nodeType&&b!==v.nodeValue.length||(v=r())),o[0].selector&&o[0].expand!==Y&&!o[0].inline&&(m=d(m,"previousSibling"),v=d(v,"nextSibling")),(o[0].block||o[0].selector)&&(m=u(m,"previousSibling"),v=u(v,"nextSibling"),o[0].block&&(j(m)||(m=r(!0)),j(v)||(v=r()))),1==m.nodeType&&(g=$(m),m=m.parentNode),1==v.nodeType&&(b=$(v)+1,v=v.parentNode),{startContainer:m,startOffset:g,endContainer:v,endOffset:b}}function k(e,t,i,n){var o,s,r;if(!v(i,e))return Y;if("all"!=e.remove)for(L(e.styles,function(e,o){e=x(e,t),"number"==typeof o&&(o=e,n=0),(!n||y(b(n,o),e))&&O.setStyle(i,o,""),r=1}),r&&""==O.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),L(e.attributes,function(e,o){var s;if(e=x(e,t),"number"==typeof o&&(o=e,n=0),!n||y(O.getAttrib(n,o),e)){if("class"==o&&(e=O.getAttrib(i,o),e&&(s="",L(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(s+=(s?" ":"")+e)}),s)))return O.setAttrib(i,o,s),void 0;"class"==o&&i.removeAttribute("className"),U.test(o)&&i.removeAttribute("data-mce-"+o),i.removeAttribute(o)}}),L(e.classes,function(e){e=x(e,t),(!n||O.hasClass(n,e))&&O.removeClass(i,e)}),s=O.getAttribs(i),o=0;o<s.length;o++)if(0!==s[o].nodeName.indexOf("_"))return Y;return"none"!=e.remove?(T(i,e),V):void 0}function T(t,i){function n(e,t,i){return e=S(e,t,i),!e||"BR"==e.nodeName||j(e)}var o,s=t.parentNode;i.block&&(W?s==O.getRoot()&&(i.list_block&&y(t,i.list_block)||L(e.grep(t.childNodes),function(e){z(W,e.nodeName.toLowerCase())?o?o.appendChild(e):o=_(e,W):o=0})):j(t)&&!j(s)&&(n(t,Y)||n(t.firstChild,V,1)||t.insertBefore(O.create("br"),t.firstChild),n(t,V)||n(t.lastChild,Y,1)||t.appendChild(O.create("br")))),i.selector&&i.inline&&!y(i.inline,t)||O.remove(t,1)}function S(e,t,i){if(e)for(t=t?"nextSibling":"previousSibling",e=i?e:e[t];e;e=e[t])if(1==e.nodeType||!w(e))return e}function E(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function D(t,i){function n(e,t){function i(e){var t={};return L(O.getAttribs(e),function(i){var n=i.nodeName.toLowerCase();0!==n.indexOf("_")&&"style"!==n&&(t[n]=O.getAttrib(e,n))}),t}function n(e,t){var i,n;for(n in e)if(e.hasOwnProperty(n)){if(i=t[n],i===I)return Y;if(e[n]!=i)return Y;delete t[n]}for(n in t)if(t.hasOwnProperty(n))return Y;return V}return e.nodeName!=t.nodeName?Y:n(i(e),i(t))?n(O.parseStyle(O.getAttrib(e,"style")),O.parseStyle(O.getAttrib(t,"style")))?V:Y:Y}function o(e,t){for(s=e;s;s=s[t]){if(3==s.nodeType&&0!==s.nodeValue.length)return e;if(1==s.nodeType&&!E(s))return s}return e}var s,r;if(t&&i&&(t=o(t,"previousSibling"),i=o(i,"nextSibling"),n(t,i))){for(s=t.nextSibling;s&&s!=i;)r=s,s=s.nextSibling,t.appendChild(r);return O.remove(i),L(e.grep(i.childNodes),function(e){t.appendChild(e)}),t}return i}function i(e){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(e)}function A(e,i){var n,o,s;return n=e[i?"startContainer":"endContainer"],o=e[i?"startOffset":"endOffset"],1==n.nodeType&&(s=n.childNodes.length-1,!i&&o&&o--,n=n.childNodes[o>s?s:o]),3===n.nodeType&&i&&o>=n.nodeValue.length&&(n=new H(n,t.getBody()).next()||n),3!==n.nodeType||i||0!==o||(n=new H(n,t.getBody()).prev()||n),n}function M(i,n,o){function s(e){var i=O.create("span",{id:v,"data-mce-bogus":!0,style:y?"color:red":""});return e&&i.appendChild(t.getDoc().createTextNode(q)),i}function r(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==q||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===v)return e;e=e.parentNode}}function u(e){var t;if(e)for(t=new H(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function p(e,t){var i,n;if(e)n=R.getRng(!0),r(e)?(t!==!1&&(n.setStartBefore(e),n.setEndBefore(e)),O.remove(e)):(i=u(e),i.nodeValue.charAt(0)===q&&(i=i.deleteData(0,1)),O.remove(e,1)),R.setRng(n);else if(e=l(R.getStart()),!e)for(;e=O.get(v);)p(e,!1)}function f(){var e,t,i,r,d,h,p;e=R.getRng(!0),r=e.startOffset,h=e.startContainer,p=h.nodeValue,t=l(R.getStart()),t&&(i=u(t)),p&&r>0&&r<p.length&&/\w/.test(p.charAt(r))&&/\w/.test(p.charAt(r-1))?(d=R.getBookmark(),e.collapse(!0),e=C(e,a(n)),e=F.split(e),c(n,o,e),R.moveToBookmark(d)):(t&&i.nodeValue===q?c(n,o,t):(t=s(!0),i=t.firstChild,e.insertNode(t),r=1,c(n,o,t)),R.setCursorLocation(i,r))}function m(){var e,t,i,r,l,c,u,p,f=R.getRng(!0),m=[];for(e=f.startContainer,t=f.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===q)&&(r=!0),l=l.parentNode);l;){if(h(l,n,o)){c=l;break}l.nextSibling&&(r=!0),m.push(l),l=l.parentNode}if(c)if(r)i=R.getBookmark(),f.collapse(!0),f=C(f,a(n),!0),f=F.split(f),d(n,o,f),R.moveToBookmark(i);else{for(p=s(),l=p,u=m.length-1;u>=0;u--)l.appendChild(O.clone(m[u],!1)),l=l.firstChild;l.appendChild(O.doc.createTextNode(q)),l=l.firstChild,O.insertAfter(p,c),R.setCursorLocation(l,1)}}function g(){var t;t=l(R.getStart()),t&&!O.isEmpty(t)&&e.walk(t,function(e){1!=e.nodeType||e.id===v||O.isEmpty(e)||O.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",y=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(r(l(R.getStart()),t))for(e=t.length;e--;)O.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){p(),g()})}),t.onKeyDown.addToTop(function(e,t){var i=t.keyCode;(8==i||37==i||39==i)&&p(l(R.getStart())),g()}),R.onSetContent.add(g),self._hasCaretEvents=!0),"apply"==i?f():m()}function N(e){var t,i,n,o,s,r=e.startContainer,a=e.startOffset;if(3==r.nodeType&&a>=r.nodeValue.length&&(a=$(r),r=r.parentNode,t=!0),1==r.nodeType)for(o=r.childNodes,r=o[Math.min(a,o.length-1)],i=new H(r,O.getParent(r,O.isBlock)),(a>o.length-1||t)&&i.next(),n=i.current();n;n=i.next())if(3==n.nodeType&&!w(n))return s=O.create("a",null,q),n.parentNode.insertBefore(s,n),e.setStart(n,0),R.setRng(e),O.remove(s),void 0}var P,I,B={},L=e.each,O=t.dom,R=t.selection,H=e.dom.TreeWalker,F=new e.dom.RangeUtils(O),z=t.schema.isValidChild,j=(e.isArray,O.isBlock),W=t.settings.forced_root_block,$=O.nodeIndex,q="﻿",U=/^(src|href|style)$/,Y=!1,V=!0,G=O.getContentEditable,X=function(e){var i;return t.dom.getParent(e,function(e){return i=t.dom.getStyle(e,"text-decoration"),i&&"none"!==i}),i},K=function(e){var i;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(i=X(e.parentNode),t.dom.getStyle(e,"color")&&i?t.dom.setStyle(e,"text-decoration",i):t.dom.getStyle(e,"textdecoration")===i&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:a,register:l,apply:c,remove:d,toggle:u,match:p,matchAll:f,matchNode:h,canApply:m,formatChanged:g}),s(),r()}}(tinymce),tinymce.onAddEditor.add(function(e,t){function i(t,i){e.each(i,function(e,i){e&&r.setStyle(t,i,e)}),r.rename(t,"span")}function n(i,n){r=i.dom,a.convert_fonts_to_spans&&e.each(r.select("font,u,strike",n.node),function(e){o[e.nodeName.toLowerCase()](t.dom,e)})}var o,s,r,a=t.settings;a.inline_styles&&(s=e.explode(a.font_size_legacy_values),o={font:function(e,t){i(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:s[parseInt(t.size,10)-1]})},u:function(e,t){i(t,{textDecoration:"underline"})},strike:function(e,t){i(t,{textDecoration:"line-through"})}},t.onPreProcess.add(n),t.onSetContent.add(n),t.onInit.add(function(){t.selection.onSetContent.add(n)}))}),function(e){var t=e.dom.TreeWalker;e.EnterKey=function(i){function n(n){function c(e){return e&&o.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==o.getContentEditable(e)}function d(t){var i;e.isIE&&o.isBlock(t)&&(i=s.getRng(),t.appendChild(o.create("span",null," ")),s.select(t),t.lastChild.outerHTML="",s.setRng(i))}function u(e){for(var t,i=e,n=[];i=i.firstChild;){if(o.isBlock(i))return;1!=i.nodeType||l[i.nodeName.toLowerCase()]||n.push(i)}for(t=n.length;t--;)i=n[t],!i.hasChildNodes()||i.firstChild==i.lastChild&&""===i.firstChild.nodeValue?o.remove(i):"A"==i.nodeName&&" "===(i.innerText||i.textContent)&&o.remove(i)}function h(e){var n,r,a,c,d,u,h=e;if(a=o.createRng(),e.hasChildNodes()){for(n=new t(e,e);r=n.current();){if(3==r.nodeType){a.setStart(r,0),a.setEnd(r,0);break}if(l[r.nodeName.toLowerCase()]){a.setStartBefore(r),a.setEndBefore(r);break}h=r,r=n.next()}r||(a.setStart(h,0),a.setEnd(h,0))}else"BR"==e.nodeName?e.nextSibling&&o.isBlock(e.nextSibling)?((!E||9>E)&&(u=o.create("br"),e.parentNode.insertBefore(u,e)),a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,0),a.setEnd(e,0));s.setRng(a),o.remove(u),d=o.getViewPort(i.getWin()),c=o.getPos(e).y,(c<d.y||c+25>d.y+d.h)&&i.getWin().scrollTo(0,c<d.y?c:c-d.h+25)}function p(t){var i,n,s,a=k;if(i=t||"TABLE"==P?o.create(t||B):S.cloneNode(!1),s=i,r.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(a.nodeName)){if("_mce_caret"==a.id)continue;n=a.cloneNode(!1),o.setAttrib(n,"id",""),i.hasChildNodes()?(n.appendChild(i.firstChild),i.appendChild(n)):(s=n,i.appendChild(n))}while(a=a.parentNode);return e.isIE||(s.innerHTML='<br data-mce-bogus="1">'),i}function f(e){var i,n,o;if(3==k.nodeType&&(e?T>0:T<k.nodeValue.length))return!1;if(k.parentNode==S&&L&&!e)return!0;if(e&&1==k.nodeType&&k==S.firstChild)return!0;if("TABLE"===k.nodeName||k.previousSibling&&"TABLE"==k.previousSibling.nodeName)return L&&!e||!L&&e;for(i=new t(k,S),3==k.nodeType&&(e&&0==T?i.prev():e||T!=k.nodeValue.length||i.next());n=i.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(o=n.nodeName.toLowerCase(),l[o]&&"br"!==o))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?i.prev():i.next()}return!0}function m(e,t){var i,n,s,r,a,l=B||"P";if(n=o.getParent(e,o.isBlock),!n||!c(n)){if(n=n||C,!n.hasChildNodes())return i=o.create(l),n.appendChild(i),O.setStart(i,0),O.setEnd(i,0),i;for(r=e;r.parentNode!=n;)r=r.parentNode;for(;r&&!o.isBlock(r);)s=r,r=r.previousSibling;if(s){for(i=o.create(l),s.parentNode.insertBefore(i,s),r=s;r&&!o.isBlock(r);)a=r.nextSibling,i.appendChild(r),r=a;O.setStart(e,t),O.setEnd(e,t)}}return e}function g(){function e(e){for(var t=N[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===S}A=B?p(B):o.create("BR"),e(!0)&&e()?o.replace(A,N):e(!0)?N.parentNode.insertBefore(A,N):e()?(o.insertAfter(A,N),d(A)):(_=O.cloneRange(),_.setStartAfter(S),_.setEndAfter(N),M=_.extractContents(),o.insertAfter(M,N),o.insertAfter(A,N)),o.remove(S),h(A),a.add()}function v(){for(var e,i=new t(k,S);e=i.current();){if("BR"==e.nodeName)return!0;e=i.next()}}function y(){var t,i,n;k&&3==k.nodeType&&T>=k.nodeValue.length&&(e.isIE||v()||(t=o.create("br"),O.insertNode(t),O.setStartAfter(t),O.setEndAfter(t),i=!0)),t=o.create("br"),O.insertNode(t),e.isIE&&"PRE"==P&&(!E||8>E)&&t.parentNode.insertBefore(o.doc.createTextNode("\r"),t),n=o.create("span",{},"&nbsp;"),t.parentNode.insertBefore(n,t),s.scrollIntoView(n),o.remove(n),i?(O.setStartBefore(t),O.setEndBefore(t)):(O.setStartAfter(t),O.setEndAfter(t)),s.setRng(O),a.add()}function b(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function x(e){var t,i,n=o.getRoot();for(t=e;t!==n&&"false"!==o.getContentEditable(t);)"true"===o.getContentEditable(t)&&(i=t),t=t.parentNode;return t!==n?i:n}function w(t){var i;e.isIE||(t.normalize(),i=t.lastChild,(!i||/^(left|right)$/gi.test(o.getStyle(i,"float",!0)))&&o.add(t,"br"))}var _,C,k,T,S,E,D,A,M,N,P,I,B,L,O=s.getRng(!0);if(!O.collapsed)return i.execCommand("Delete"),void 0;if(!n.isDefaultPrevented()&&(k=O.startContainer,T=O.startOffset,B=(r.force_p_newlines?"p":"")||r.forced_root_block,B=B?B.toUpperCase():"",E=o.doc.documentMode,D=n.shiftKey,1==k.nodeType&&k.hasChildNodes()&&(L=T>k.childNodes.length-1,k=k.childNodes[Math.min(T,k.childNodes.length-1)]||k,T=L&&3==k.nodeType?k.nodeValue.length:0),C=x(k))){if(a.beforeChange(),!o.isBlock(C)&&C!=o.getRoot())return(!B||D)&&y(),void 0;if((B&&!D||!B&&D)&&(k=m(k,T)),S=o.getParent(k,o.isBlock),N=S?o.getParent(S.parentNode,o.isBlock):null,P=S?S.nodeName.toUpperCase():"",I=N?N.nodeName.toUpperCase():"","LI"!=I||n.ctrlKey||(S=N,P=I),"LI"==P){if(!B&&D)return y(),void 0;if(o.isEmpty(S))return/^(UL|OL|LI)$/.test(N.parentNode.nodeName)?!1:(g(),void 0)}if("PRE"==P&&r.br_in_pre!==!1){if(!D)return y(),void 0}else if(!B&&!D&&"LI"!=P||B&&D)return y(),void 0;B=B||"P",f()?(A=/^(H[1-6]|PRE)$/.test(P)&&"HGROUP"!=I?p(B):p(),r.end_container_on_empty_block&&c(N)&&o.isEmpty(S)?A=o.split(N,S):o.insertAfter(A,S),h(A)):f(!0)?(A=S.parentNode.insertBefore(p(),S),d(A)):(_=O.cloneRange(),_.setEndAfter(S),M=_.extractContents(),b(M),A=M.firstChild,o.insertAfter(M,S),u(A),w(S),h(A)),o.setAttrib(A,"id",""),a.add()}}var o=i.dom,s=i.selection,r=i.settings,a=i.undoManager,l=i.schema.getNonEmptyElements();i.onKeyDown.add(function(e,t){13==t.keyCode&&n(t)!==!1&&t.preventDefault()})}}(tinymce),function(e){function t(){function t(e){"remove"===e&&this.each(function(e,t){var i=o(t);i&&i.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var i=tinyMCE.get(t.id.replace(/_parent$/,""));i&&i.remove()})}function n(e){var n,o=this;if(e!==i)t.call(o),o.each(function(t,i){var n;(n=tinyMCE.get(i.id))&&n.setContent(e)});else if(o.length>0&&(n=tinyMCE.get(o[0].id)))return n.getContent()}function o(e){var t=null;return e&&e.id&&s.tinymce&&(t=tinyMCE.get(e.id)),t}function r(e){return!!(e&&e.length&&s.tinymce&&e.is(":tinymce"))}var a={};e.each(["text","html","val"],function(t,s){var l=a[s]=e.fn[s],c="text"===s;e.fn[s]=function(t){var s=this;if(!r(s))return l.apply(s,arguments);if(t!==i)return n.call(s.filter(":tinymce"),t),l.apply(s.not(":tinymce"),arguments),s;var a="",d=arguments;return(c?s:s.eq(0)).each(function(t,i){var n=o(i);a+=n?c?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):l.apply(e(i),d)}),a}}),e.each(["append","prepend"],function(t,n){var s=a[n]=e.fn[n],l="prepend"===n;e.fn[n]=function(e){var t=this;return r(t)?e!==i?(t.filter(":tinymce").each(function(t,i){var n=o(i);n&&n.setContent(l?e+n.getContent():n.getContent()+e)}),s.apply(t.not(":tinymce"),arguments),t):void 0:s.apply(t,arguments)}}),e.each(["remove","replaceWith","replaceAll","empty"],function(i,n){var o=a[n]=e.fn[n];e.fn[n]=function(){return t.call(this,n),o.apply(this,arguments)}}),a.attr=e.fn.attr,e.fn.attr=function(t,s){var l=this,c=arguments;if(!t||"value"!==t||!r(l))return s!==i?a.attr.apply(l,c):a.attr.apply(l,c);if(s!==i)return n.call(l.filter(":tinymce"),s),a.attr.apply(l.not(":tinymce"),c),l;var d=l[0],u=o(d);return u?u.getContent({save:!0}):a.attr.apply(e(d),c)}}var i,n,o=[],s=window;e.fn.tinymce=function(i){function r(){var n=[],o=0;t&&(t(),t=null),u.each(function(e,t){var s,r=t.id,a=i.oninit;r||(t.id=r=tinymce.DOM.uniqueId()),s=new tinymce.Editor(r,i),n.push(s),s.onInit.add(function(){var e,t=a;u.css("visibility",""),a&&++o==n.length&&(tinymce.is(t,"string")&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,n))})}),e.each(n,function(e,t){t.render()})}var a,l,c,d,u=this,h="",p="";return u.length?i?(u.css("visibility","hidden"),s.tinymce||n||!(a=i.script_url)?1===n?o.push(r):r():(n=1,l=a.substring(0,a.lastIndexOf("/")),/_(src|dev)\.js/g.test(a)&&(p="_src"),c=a.lastIndexOf("?"),-1!=c&&(h=a.substring(c+1)),s.tinyMCEPreInit=s.tinyMCEPreInit||{base:l,suffix:p,query:h},-1!=a.indexOf("gzip")&&(d=i.language||"en",a=a+(/\?/.test(a)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(i.theme)+"&plugins="+escape(i.plugins)+"&languages="+d,s.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(e){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(e))}tinymce.suffix=p,t("langs/"+d+".js"),t("themes/"+i.theme+"/editor_template"+p+".js"),t("themes/"+i.theme+"/langs/"+d+".js"),e.each(i.plugins.split(","),function(e,i){i&&(t("plugins/"+i+"/editor_plugin"+p+".js"),t("plugins/"+i+"/langs/"+d+".js"))})},end:function(){}})),e.ajax({type:"GET",url:a,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,n=2,i.script_loaded&&i.script_loaded(),r(),e.each(o,function(e,t){t()})}})),u):tinyMCE.get(u[0].id):u},e.extend(e.expr[":"],{tinymce:function(e){return!!(e.id&&"tinyMCE"in window&&tinyMCE.get(e.id))}})}(jQuery),function(e){var t=0,i=function(){return(new Date).getTime()+t++},n=function(e){return"["+e+"]$1"},o=function(e){return"_"+e+"_$1"};e(document).on("click",".add_fields",function(t){t.preventDefault();var s=e(this),r=s.data("association"),a=s.data("associations"),l=s.data("association-insertion-template"),c=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",d=s.data("association-insertion-node"),u=s.data("association-insertion-traversal"),h=parseInt(s.data("count"),10),p=new RegExp("\\[new_"+r+"\\](.*?\\s)","g"),f=new RegExp("_new_"+r+"_(\\w*)","g"),m=i(),g=l.replace(p,n(m)),v=[];for(g==l&&(p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),f=new RegExp("_new_"+a+"_(\\w*)","g"),g=l.replace(p,n(m))),g=g.replace(f,o(m)),v=[g],h=isNaN(h)?1:Math.max(h,1),h-=1;h;)m=i(),g=l.replace(p,n(m)),g=g.replace(f,o(m)),v.push(g),h-=1;d=d?u?s[u](d):"this"==d?s:e(d):s.parent(),e.each(v,function(t,i){var n=e(i);d.trigger("cocoon:before-insert",[n]),d[c](n),d.trigger("cocoon:after-insert",[n])})}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var i=e(this),n=i.data("wrapper-class")||"nested-fields",o=i.closest("."+n),s=o.parent();t.preventDefault(),s.trigger("cocoon:before-remove",[o]);var r=s.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?o.remove():(i.prev("input[type=hidden]").val("1"),o.hide()),s.trigger("cocoon:after-remove",[o])},r)}),e(".remove_fields.existing.destroyed").each(function(){var t=e(this),i=t.data("wrapper-class")||"nested-fields";t.closest("."+i).hide()})}(jQuery),/* Copyright (c) 2009 Mustafa OZCAN (http://www.mustafaozcan.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * Version: 1.0.2
 * Requires: jquery.1.3+
 */
jQuery.fn.fixedtableheader=function(e){function t(e){var t=e.outerWidth();return t}var i=jQuery.extend({headerrowsize:1,highlightrow:!1,highlightclass:"highlight"},e);this.each(function(e){var n=$(this),o=n.find("tr:lt("+i.headerrowsize+")"),s="th";if(0==o.find(s).length&&(s="td"),o.find(s).length>0){o.find(s).each(function(){$(this).css("width",$(this).width())});var r=n.clone().empty(),a=t(n);r.attr("id","fixedtableheader"+e).css({position:"fixed",top:"0",left:n.offset().left}).append(o.clone()).width(a).hide().appendTo($("body")),i.highlightrow&&$("tr:gt("+(i.headerrowsize-1)+")",n).hover(function(){$(this).addClass(i.highlightclass)},function(){$(this).removeClass(i.highlightclass)}),$(window).scroll(function(){jQuery.browser.msie&&"6.0"==jQuery.browser.version?r.css({position:"absolute",top:$(window).scrollTop(),left:n.offset().left}):r.css({position:"fixed",top:"0",left:n.offset().left-$(window).scrollLeft()});var e=$(window).scrollTop(),t=o.offset().top;e>t&&e<=t+n.height()-o.height()?r.show():r.hide()}),$(window).resize(function(){r.outerWidth()!=n.outerWidth()&&(o.find(s).each(function(e){var t=$(this).width();$(this).css("width",t),r.find(s).eq(e).css("width",t)}),r.width(n.outerWidth())),r.css("left",n.offset().left)})}})},function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=[];o.Jan="01",o.Feb="02",o.Mar="03",o.Apr="04",o.May="05",o.Jun="06",o.Jul="07",o.Aug="08",o.Sep="09",o.Oct="10",o.Nov="11",o.Dec="12",e.format=function(){function e(e){return t[parseInt(e,10)]||e}function s(e){var t=parseInt(e,10)-1;return i[t]||e}function r(e){var t=parseInt(e,10)-1;return n[t]||e}var a=function(e){return o[e]||e},l=function(e){var t=e,i="";if(-1!==t.indexOf(".")){var n=t.split(".");t=n[0],i=n[1]}var o=t.split(":");return 3===o.length?(hour=o[0],minute=o[1],second=o[2],{time:t,hour:hour,minute:minute,second:second,millis:i}):{time:"",hour:"",minute:"",second:"",millis:""}},c=function(e,t){for(var i=t-String(e).length,n=0;i>n;n++)e="0"+e;return e};return{date:function(t,i){try{var n=null,o=null,d=null,u=null,h=null,p=null;if("number"==typeof t)return this.date(new Date(t),i);if("function"==typeof t.getFullYear)o=t.getFullYear(),d=t.getMonth()+1,u=t.getDate(),h=t.getDay(),p=l(t.toTimeString());else if(-1!=t.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/)){var f=t.split(/[T\+-]/);o=f[0],d=f[1],u=f[2],p=l(f[3].split(".")[0]),n=new Date(o,d-1,u),h=n.getDay()}else{var f=t.split(" ");switch(f.length){case 6:o=f[5],d=a(f[1]),u=f[2],p=l(f[3]),n=new Date(o,d-1,u),h=n.getDay();break;case 2:var m=f[0].split("-");o=m[0],d=m[1],u=m[2],p=l(f[1]),n=new Date(o,d-1,u),h=n.getDay();break;case 7:case 9:case 10:o=f[3],d=a(f[1]),u=f[2],p=l(f[4]),n=new Date(o,d-1,u),h=n.getDay();break;case 1:var m=f[0].split("");o=m[0]+m[1]+m[2]+m[3],d=m[5]+m[6],u=m[8]+m[9],p=l(m[13]+m[14]+m[15]+m[16]+m[17]+m[18]+m[19]+m[20]),n=new Date(o,d-1,u),h=n.getDay();break;default:return t}}for(var g="",v="",y="",b=0;b<i.length;b++){var x=i.charAt(b);switch(g+=x,y="",g){case"ddd":v+=e(h),g="";break;case"dd":if("d"==i.charAt(b+1))break;v+=c(u,2),g="";break;case"d":if("d"==i.charAt(b+1))break;v+=parseInt(u,10),g="";break;case"D":u+=1==u||21==u||31==u?"st":2==u||22==u?"nd":3==u||23==u?"rd":"th",v+=u,g="";break;case"MMMM":v+=r(d),g="";break;case"MMM":if("M"===i.charAt(b+1))break;v+=s(d),g="";break;case"MM":if("M"==i.charAt(b+1))break;v+=c(d,2),g="";break;case"M":if("M"==i.charAt(b+1))break;v+=parseInt(d,10),g="";break;case"y":case"yyy":if("y"==i.charAt(b+1))break;v+=g,g="";break;case"yy":if("y"==i.charAt(b+1)&&"y"==i.charAt(b+2))break;v+=String(o).slice(-2),g="";break;case"yyyy":v+=o,g="";break;case"HH":v+=c(p.hour,2),g="";break;case"H":if("H"==i.charAt(b+1))break;v+=parseInt(p.hour,10),g="";break;case"hh":var w=0==p.hour?12:p.hour<13?p.hour:p.hour-12;v+=c(w,2),g="";break;case"h":if("h"==i.charAt(b+1))break;var w=0==p.hour?12:p.hour<13?p.hour:p.hour-12;v+=parseInt(w,10),g="";break;case"mm":v+=c(p.minute,2),g="";break;case"m":if("m"==i.charAt(b+1))break;v+=p.minute,g="";break;case"ss":v+=c(p.second.substring(0,2),2),g="";break;case"s":if("s"==i.charAt(b+1))break;v+=p.second,g="";break;case"S":case"SS":if("S"==i.charAt(b+1))break;v+=g,g="";break;case"SSS":v+=p.millis.substring(0,3),g="";break;case"a":v+=p.hour>=12?"PM":"AM",g="";break;case"p":v+=p.hour>=12?"p.m.":"a.m.",g="";break;default:v+=x,g=""}}return v+=y}catch(_){return console.log(_),t}}}}()}(jQuery),jQuery.format.date.defaultShortDateFormat="dd/MM/yyyy",jQuery.format.date.defaultLongDateFormat="dd/MM/yyyy HH:mm:ss",jQuery(document).ready(function(){jQuery(".shortDateFormat").each(function(e,t){jQuery(t).is(":input")?jQuery(t).val(jQuery.format.date(jQuery(t).val(),jQuery.format.date.defaultShortDateFormat)):jQuery(t).text(jQuery.format.date(jQuery(t).text(),jQuery.format.date.defaultShortDateFormat))}),jQuery(".longDateFormat").each(function(e,t){jQuery(t).is(":input")?jQuery(t).val(jQuery.format.date(jQuery(t).val(),jQuery.format.date.defaultLongDateFormat)):jQuery(t).text(jQuery.format.date(jQuery(t).text(),jQuery.format.date.defaultLongDateFormat))})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){if(e.minTime&&(e.minTime=v(e.minTime)),e.maxTime&&(e.maxTime=v(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=v(e.durationTime)),e.disableTimeRanges.length>0){for(var t in e.disableTimeRanges)e.disableTimeRanges[t]=[v(e.disableTimeRanges[t][0]),v(e.disableTimeRanges[t][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,t){return e[0]-t[0]})}return e}function i(t){var i=t.data("timepicker-settings"),n=t.data("timepicker-list");n&&n.length&&(n.remove(),t.data("timepicker-list",!1)),n=e("<ul />",{"class":"ui-timepicker-list"});var o=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});o.css({display:"none",position:"absolute"}).append(n),i.className&&o.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||o.addClass("ui-timepicker-with-duration");var s=i.minTime;"function"==typeof i.durationTime?s=v(i.durationTime()):null!==i.durationTime&&(s=i.durationTime);var r=null!==i.minTime?i.minTime:0,l=null!==i.maxTime?i.maxTime:r+x-1;r>=l&&(l+=x);for(var c=i.disableTimeRanges,d=0,u=c.length,h=r;l>=h;h+=60*i.step){var p=h%x,y=e("<li />");if(y.data("time",p),y.text(g(p,i.timeFormat)),(null!==i.minTime||null!==i.durationTime)&&i.showDuration){var b=e("<span />");b.addClass("ui-timepicker-duration"),b.text(" ("+m(h-s)+")"),y.append(b)}u>d&&(p>=c[d][0]&&p<c[d][1]?y.addClass("ui-timepicker-disabled"):p>=c[d][1]&&(d+=1)),n.append(y)}o.data("timepicker-input",t),t.data("timepicker-list",o);var w=i.appendTo;"string"==typeof w?w=e(w):"function"==typeof w&&(w=w(t)),w.append(o),a(t,n),n.on("click","li",function(){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",C.show)}),t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),f(t)&&o.hide()})}function n(){return new Date(1970,1,1,0,0,0)}function o(t){"ontouchstart"in document?e("body").on("touchstart.ui-timepicker",s):(e("body").on("mousedown.ui-timepicker",s),t.closeOnWindowScroll&&e(window).on("scroll.ui-timepicker",s))}function s(t){var i=e(t.target),n=i.closest(".ui-timepicker-input");0===n.length&&0===i.closest(".ui-timepicker-wrapper").length&&(C.hide(),e("body").unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}function r(t,i,n){if(!n&&0!==n)return!1;var o=t.data("timepicker-settings"),s=!1,r=30*o.step;return i.find("li").each(function(t,i){var o=e(i),a=o.data("time")-n;return Math.abs(a)<r||a==r?(s=o,!1):void 0}),s}function a(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=v(c(e));if(i){var n=r(e,t,i);if(n){var o=n.offset().top-t.offset().top;(o+n.outerHeight()>t.outerHeight()||0>o)&&t.scrollTop(t.scrollTop()+n.position().top-n.outerHeight()),n.addClass("ui-timepicker-selected")}}}function l(){if(""!==this.value){var t=e(this),i=v(this.value);if(null===i)return t.trigger("timeFormatError"),void 0;var n=t.data("timepicker-settings");if(null!==n.minTime&&i<n.minTime?t.trigger("timeRangeError"):null!==n.maxTime&&i>n.maxTime&&t.trigger("timeRangeError"),e.each(n.disableTimeRanges,function(){return i>=this[0]&&i<this[1]?(t.trigger("timeRangeError"),!1):void 0}),n.forceRoundTime){var o=i%(60*n.step);o>=30*n.step?i+=60*n.step-o:i-=o}var s=g(i,n.timeFormat);d(t,s)}}function c(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function d(e,t){e.is("input")?e.val(t):e.data("ui-timepicker-value",t)}function u(t){var i=e(this),n=i.data("timepicker-list");if(!n||!n.is(":visible")){if(40!=t.keyCode)return h(t,i);i.focus()}switch(t.keyCode){case 13:return f(i)&&C.hide.apply(this),t.preventDefault(),!1;case 38:var o=n.find(".ui-timepicker-selected");return o.length?o.is(":first-child")||(o.removeClass("ui-timepicker-selected"),o.prev().addClass("ui-timepicker-selected"),o.prev().position().top<o.outerHeight()&&n.scrollTop(n.scrollTop()-o.outerHeight())):(n.find("li").each(function(t,i){return e(i).position().top>0?(o=e(i),!1):void 0}),o.addClass("ui-timepicker-selected")),!1;case 40:return o=n.find(".ui-timepicker-selected"),0===o.length?(n.find("li").each(function(t,i){return e(i).position().top>0?(o=e(i),!1):void 0}),o.addClass("ui-timepicker-selected")):o.is(":last-child")||(o.removeClass("ui-timepicker-selected"),o.next().addClass("ui-timepicker-selected"),o.next().position().top+2*o.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+o.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),n.hide();break;case 9:C.hide();break;default:return h(t,i)}}function h(e,t){return!t.data("timepicker-settings").disableTextInput||e.ctrlKey||e.altKey||e.metaKey||2!=e.keyCode&&(e.keyCode<46||e.keyCode>90)}function p(t){var i=e(this),n=i.data("timepicker-list");if(!n||!n.is(":visible"))return!0;switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:a(i,n);break;default:return}}function f(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list"),n=null,o=i.find(".ui-timepicker-selected");if(o.hasClass("ui-timepicker-disabled"))return!1;if(o.length?n=o.data("time"):c(e)&&(n=v(c(e)),a(e,i)),null!==n){var s=g(n,t.timeFormat);d(e,s)}return e.trigger("change").trigger("changeTime"),!0}function m(e){var t,i=Math.round(e/60);if(Math.abs(i)<60)t=[i,_.mins];else if(60==i)t=["1",_.hr];else{var n=(i/60).toFixed(1);"."!=_.decimal&&(n=n.replace(".",_.decimal)),t=[n,_.hrs]}return t.join(" ")}function g(e,t){if(null!==e){for(var i,n,o=new Date(b.valueOf()+1e3*e),s="",r=0;r<t.length;r++)switch(n=t.charAt(r)){case"a":s+=o.getHours()>11?"pm":"am";break;case"A":s+=o.getHours()>11?"PM":"AM";break;case"g":i=o.getHours()%12,s+=0===i?"12":i;break;case"G":s+=o.getHours();break;case"h":i=o.getHours()%12,0!==i&&10>i&&(i="0"+i),s+=0===i?"12":i;break;case"H":i=o.getHours(),s+=i>9?i:"0"+i;break;case"i":var a=o.getMinutes();s+=a>9?a:"0"+a;break;case"s":e=o.getSeconds(),s+=e>9?e:"0"+e;break;default:s+=n}return s}}function v(e){if(""===e)return null;if(!e||e+0==e)return e;"object"==typeof e&&(e=e.getHours()+":"+y(e.getMinutes())+":"+y(e.getSeconds())),e=e.toLowerCase(),new Date(0);var t;if(-1===e.indexOf(":")?(t=e.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/),t||(t=e.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/))):t=e.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/),!t)return null;var i,n=parseInt(1*t[1],10);i=t[4]?12==n?"p"==t[4]?12:0:n+("p"==t[4]?12:0):n;var o=1*t[2]||0,s=1*t[3]||0;return 3600*i+60*o+s}function y(e){return("0"+e).slice(-2)}var b=n(),x=86400,w={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,disableTouchKeyboard:!0,forceRoundTime:!1,appendTo:"body",disableTimeRanges:[],closeOnWindowScroll:!1,disableTextInput:!1},_={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},C={init:function(i){return this.each(function(){var n=e(this);if("SELECT"==n[0].tagName){for(var o={type:"text",value:n.val()},s=n[0].attributes,r=0;r<s.length;r++)o[s[r].nodeName]=s[r].nodeValue;var a=e("<input />",o);n.replaceWith(a),n=a}var c=e.extend({},w);i&&(c=e.extend(c,i)),c.lang&&(_=e.extend(_,c.lang)),c=t(c),n.data("timepicker-settings",c),n.prop("autocomplete","off"),n.on("click.timepicker focus.timepicker",C.show),n.on("blur.timepicker",l),n.on("keydown.timepicker",u),n.on("keyup.timepicker",p),n.addClass("ui-timepicker-input"),l.call(n.get(0))})},show:function(){var t=e(this),n=t.data("timepicker-settings");"ontouchstart"in document&&n.disableTouchKeyboard&&t.blur();var s=t.data("timepicker-list");if(!t.prop("readonly")&&(s&&0!==s.length&&"function"!=typeof n.durationTime||(i(t),s=t.data("timepicker-list")),!s.is(":visible"))){C.hide(),s.show(),t.offset().top+t.outerHeight(!0)+s.outerHeight()>e(window).height()+e(window).scrollTop()?s.offset({left:t.offset().left+parseInt(s.css("marginLeft").replace("px",""),10),top:t.offset().top-s.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)}):s.offset({left:t.offset().left+parseInt(s.css("marginLeft").replace("px",""),10),top:t.offset().top+t.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)});var a=s.find(".ui-timepicker-selected");if(a.length||(c(t)?a=r(t,s,v(c(t))):n.scrollDefaultNow?a=r(t,s,v(new Date)):n.scrollDefaultTime!==!1&&(a=r(t,s,v(n.scrollDefaultTime)))),a&&a.length){var l=s.scrollTop()+a.position().top-a.outerHeight();s.scrollTop(l)}else s.scrollTop(0);o(n),t.trigger("showTimepicker")}},hide:function(){e(".ui-timepicker-wrapper:visible").each(function(){var t=e(this),i=t.data("timepicker-input"),n=i.data("timepicker-settings");n&&n.selectOnBlur&&f(i),t.hide(),i.trigger("hideTimepicker")})},option:function(i,n){var o=this,s=o.data("timepicker-settings"),r=o.data("timepicker-list");if("object"==typeof i)s=e.extend(s,i);else if("string"==typeof i&&"undefined"!=typeof n)s[i]=n;else if("string"==typeof i)return s[i];return s=t(s),o.data("timepicker-settings",s),r&&(r.remove(),o.data("timepicker-list",!1)),o},getSecondsFromMidnight:function(){return v(c(this))},getTime:function(){var e=this,t=new Date;return t.setHours(0,0,0,0),new Date(t.valueOf()+1e3*v(c(e)))},setTime:function(e){var t=this,i=g(v(e),t.data("timepicker-settings").timeFormat);d(t,i)},remove:function(){var e=this;e.hasClass("ui-timepicker-input")&&(e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),e.removeData("timepicker-list"))}};e.fn.timepicker=function(t){return C[t]?C[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.timepicker"),void 0):C.init.apply(this,arguments)}}),/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.1.1
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
function(e){e.extend(e.fn,{livequery:function(t,i,n){var o,s=this;return e.isFunction(t)&&(n=i,i=t,t=void 0),e.each(e.livequery.queries,function(e,r){return s.selector!=r.selector||s.context!=r.context||t!=r.type||i&&i.$lqguid!=r.fn.$lqguid||n&&n.$lqguid!=r.fn2.$lqguid?void 0:(o=r)&&!1}),o=o||new e.livequery(this.selector,this.context,t,i,n),o.stopped=!1,o.run(),this},expire:function(t,i,n){var o=this;return e.isFunction(t)&&(n=i,i=t,t=void 0),e.each(e.livequery.queries,function(s,r){o.selector!=r.selector||o.context!=r.context||t&&t!=r.type||i&&i.$lqguid!=r.fn.$lqguid||n&&n.$lqguid!=r.fn2.$lqguid||this.stopped||e.livequery.stop(r.id)}),this}}),e.livequery=function(t,i,n,o,s){return this.selector=t,this.context=i,this.type=n,this.fn=o,this.fn2=s,this.elements=[],this.stopped=!1,this.id=e.livequery.queries.push(this)-1,o.$lqguid=o.$lqguid||e.livequery.guid++,s&&(s.$lqguid=s.$lqguid||e.livequery.guid++),this},e.livequery.prototype={stop:function(){var e=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(t,i){e.fn2.apply(i)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var t=this,i=this.elements,n=e(this.selector,this.context),o=n.not(i);this.elements=n,this.type?(o.bind(this.type,this.fn),i.length>0&&e.each(i,function(i,o){e.inArray(o,n)<0&&e.event.remove(o,t.type,t.fn)})):(o.each(function(){t.fn.apply(this)}),this.fn2&&i.length>0&&e.each(i,function(i,o){e.inArray(o,n)<0&&t.fn2.apply(o)}))}}},e.extend(e.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(e.livequery.running&&e.livequery.queue.length)for(var t=e.livequery.queue.length;t--;)e.livequery.queries[e.livequery.queue.shift()].run()},pause:function(){e.livequery.running=!1},play:function(){e.livequery.running=!0,e.livequery.run()},registerPlugin:function(){e.each(arguments,function(t,i){if(e.fn[i]){var n=e.fn[i];e.fn[i]=function(){var t=n.apply(this,arguments);return e.livequery.run(),t}}})},run:function(t){void 0!=t?e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t):e.each(e.livequery.queries,function(t){e.inArray(t,e.livequery.queue)<0&&e.livequery.queue.push(t)}),e.livequery.timeout&&clearTimeout(e.livequery.timeout),e.livequery.timeout=setTimeout(e.livequery.checkQueue,20)},stop:function(t){void 0!=t?e.livequery.queries[t].stop():e.each(e.livequery.queries,function(t){e.livequery.queries[t].stop()})}}),e.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html"),e(function(){e.livequery.play()})}(jQuery),function(e){function t(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.ajaxSubmit=function(i){function n(t){for(var n=new FormData,o=0;o<t.length;o++)"file"!=t[o].type&&n.append(t[o].name,t[o].value);if(l.find("input:file:enabled").each(function(){var t=e(this).attr("name"),i=this.files;if(t)for(var o=0;o<i.length;o++)n.append(t,i[o])}),i.extraData)for(var s in i.extraData)n.append(s,i.extraData[s]);i.data=null;var r=e.extend(!0,{},e.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:"POST"});r.data=null;var a=r.beforeSend;r.beforeSend=function(e,t){t.data=n,e.upload&&(e.upload.onprogress=function(e){t.progress(e.position,e.total)}),a&&a.call(t,e,i)},e.ajax(r)}function o(n){function o(e){var t=e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document;return t}function r(){function i(){try{var e=o(m).readyState;t("state = "+e),"uninitialized"==e.toLowerCase()&&setTimeout(i,50)}catch(n){t("Server abort: ",n," (",n.name,")"),a(k),x&&clearTimeout(x),x=void 0}}var n=l.attr("target"),r=l.attr("action");w.setAttribute("target",p),s||w.setAttribute("method","POST"),r!=u.url&&w.setAttribute("action",u.url),u.skipEncodingOverride||s&&!/post/i.test(s)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(x=setTimeout(function(){b=!0,a(C)},u.timeout));var c=[];try{if(u.extraData)for(var d in u.extraData)c.push(e('<input type="hidden" name="'+d+'">').attr("value",u.extraData[d]).appendTo(w)[0]);u.iframeTarget||(f.appendTo("body"),m.attachEvent?m.attachEvent("onload",a):m.addEventListener("load",a,!1)),setTimeout(i,15),w.submit()}finally{w.setAttribute("action",r),n?w.setAttribute("target",n):l.removeAttr("target"),e(c).remove()}}function a(i){if(!g.aborted&&!A){try{D=o(m)}catch(n){t("cannot access response document: ",n),i=k}if(i===C&&g)return g.abort("timeout"),void 0;if(i==k&&g)return g.abort("server abort"),void 0;if(D&&D.location.href!=u.iframeSrc||b){m.detachEvent?m.detachEvent("onload",a):m.removeEventListener("load",a,!1);var s,r="success";try{if(b)throw"timeout";var l="xml"==u.dataType||D.XMLDocument||e.isXMLDoc(D);if(t("isXml="+l),!l&&window.opera&&(null==D.body||""==D.body.innerHTML)&&--M)return t("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var c=D.body?D.body:D.documentElement;g.responseText=c?c.innerHTML:null,g.responseXML=D.XMLDocument?D.XMLDocument:D,l&&(u.dataType="xml"),g.getResponseHeader=function(e){var t={"content-type":u.dataType};return t[e]},c&&(g.status=Number(c.getAttribute("status"))||g.status,g.statusText=c.getAttribute("statusText")||g.statusText);var d=(u.dataType||"").toLowerCase(),p=/(json|script|text)/.test(d);if(p||u.textarea){var v=D.getElementsByTagName("textarea")[0];if(v)g.responseText=v.value,g.status=Number(v.getAttribute("status"))||g.status,g.statusText=v.getAttribute("statusText")||g.statusText;else if(p){var y=D.getElementsByTagName("pre")[0],w=D.getElementsByTagName("body")[0];y?g.responseText=y.textContent?y.textContent:y.innerText:w&&(g.responseText=w.textContent?w.textContent:w.innerText)}}else"xml"!=d||g.responseXML||null==g.responseText||(g.responseXML=N(g.responseText));try{E=I(g,d,u)}catch(i){r="parsererror",g.error=s=i||r}}catch(i){t("error caught: ",i),r="error",g.error=s=i||r}g.aborted&&(t("upload aborted"),r=null),g.status&&(r=g.status>=200&&g.status<300||304===g.status?"success":"error"),"success"===r?(u.success&&u.success.call(u.context,E,"success",g),h&&e.event.trigger("ajaxSuccess",[g,u])):r&&(void 0==s&&(s=g.statusText),u.error&&u.error.call(u.context,g,r,s),h&&e.event.trigger("ajaxError",[g,u,s])),h&&e.event.trigger("ajaxComplete",[g,u]),h&&!--e.active&&e.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,g,r),A=!0,u.timeout&&clearTimeout(x),setTimeout(function(){u.iframeTarget||f.remove(),g.responseXML=null},100)}}}var c,d,u,h,p,f,m,g,v,y,b,x,w=l[0],_=!!e.fn.prop;if(n)if(_)for(d=0;d<n.length;d++)c=e(w[n[d].name]),c.prop("disabled",!1);else for(d=0;d<n.length;d++)c=e(w[n[d].name]),c.removeAttr("disabled");if(e(":input[name=submit],:input[id=submit]",w).length)return alert('Error: Form elements must not have name or id of "submit".'),void 0;if(u=e.extend(!0,{},e.ajaxSettings,i),u.context=u.context||u,p="jqFormIO"+(new Date).getTime(),u.iframeTarget?(f=e(u.iframeTarget),y=f.attr("name"),null==y?f.attr("name",p):p=y):(f=e('<iframe name="'+p+'" src="'+u.iframeSrc+'" />'),f.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=f[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var n="timeout"===i?"timeout":"aborted";t("aborting upload... "+n),this.aborted=1,f.attr("src",u.iframeSrc),g.error=n,u.error&&u.error.call(u.context,g,n,i),h&&e.event.trigger("ajaxError",[g,u,n]),u.complete&&u.complete.call(u.context,g,n)}},h=u.global,h&&!e.active++&&e.event.trigger("ajaxStart"),h&&e.event.trigger("ajaxSend",[g,u]),u.beforeSend&&u.beforeSend.call(u.context,g,u)===!1)return u.global&&e.active--,void 0;if(!g.aborted){v=w.clk,v&&(y=v.name,y&&!v.disabled&&(u.extraData=u.extraData||{},u.extraData[y]=v.value,"image"==v.type&&(u.extraData[y+".x"]=w.clk_x,u.extraData[y+".y"]=w.clk_y)));var C=1,k=2,T=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");S&&T&&(u.extraData=u.extraData||{},u.extraData[S]=T),u.forceSync?r():setTimeout(r,10);var E,D,A,M=50,N=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},P=e.parseJSON||function(e){return window.eval("("+e+")")},I=function(t,i,n){var o=t.getResponseHeader("content-type")||"",s="xml"===i||!i&&o.indexOf("xml")>=0,r=s?t.responseXML:t.responseText;return s&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(r=n.dataFilter(r,i)),"string"==typeof r&&("json"===i||!i&&o.indexOf("json")>=0?r=P(r):("script"===i||!i&&o.indexOf("javascript")>=0)&&e.globalEval(r)),r}}}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;var s,r,a,l=this;"function"==typeof i&&(i={success:i}),s=this.attr("method"),r=this.attr("action"),a="string"==typeof r?e.trim(r):"",a=a||window.location.href||"",a&&(a=(a.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:a,success:e.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var c={};if(this.trigger("form-pre-serialize",[this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&i.beforeSerialize(this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=i.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var u,h=this.formToArray(i.semantic);if(i.data&&(i.extraData=i.data,u=e.param(i.data,d)),i.beforeSubmit&&i.beforeSubmit(h,this,i)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,i,c]),c.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(h,d);u&&(p=p?p+"&"+u:u),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+p,i.data=null):i.data=p;var f=[];if(i.resetForm&&f.push(function(){l.resetForm()}),i.clearForm&&f.push(function(){l.clearForm(i.includeHidden)}),!i.dataType&&i.target){var m=i.success||function(){};f.push(function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(m,arguments)})}else i.success&&f.push(i.success);i.success=function(e,t,n){for(var o=i.context||i,s=0,r=f.length;r>s;s++)f[s].apply(o,[e,t,n||l,l])};var g=e("input:file:enabled[value]",this),v=g.length>0,y="multipart/form-data",b=l.attr("enctype")==y||l.attr("encoding")==y,x=!!(v&&g.get(0).files&&window.FormData);t("fileAPI :"+x);var w=(v||b)&&!x;return i.iframe!==!1&&(i.iframe||w)?i.closeKeepAlive?e.get(i.closeKeepAlive,function(){o(h)}):o(h):(v||b)&&x?(i.progress=i.progress||e.noop,n(h)):e.ajax(i),this.trigger("form-submit-notify",[this,i]),this},e.fn.ajaxForm=function(i){if(0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(t("DOM not ready, queuing ajaxForm"),e(function(){e(n.s,n.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}).bind("click.form-plugin",function(t){var i=t.target,n=e(i);if(!n.is(":submit,input:image")){var o=n.closest(":submit");if(0==o.length)return;i=o[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!=t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=n.offset();s.clk_x=t.pageX-r.left,s.clk_y=t.pageY-r.top}else s.clk_x=t.pageX-i.offsetLeft,s.clk_y=t.pageY-i.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)})},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t){var i=[];if(0===this.length)return i;var n=this[0],o=t?n.getElementsByTagName("*"):n.elements;if(!o)return i;var s,r,a,l,c,d,u;for(s=0,d=o.length;d>s;s++)if(c=o[s],a=c.name)if(t&&n.clk&&"image"==c.type)c.disabled||n.clk!=c||(i.push({name:a,value:e(c).val(),type:c.type}),i.push({name:a+".x",value:n.clk_x},{name:a+".y",value:n.clk_y}));else if(l=e.fieldValue(c,!0),l&&l.constructor==Array)for(r=0,u=l.length;u>r;r++)i.push({name:a,value:l[r]});else null!==l&&"undefined"!=typeof l&&i.push({name:a,value:l,type:c.type});if(!t&&n.clk){var h=e(n.clk),p=h[0];a=p.name,a&&!p.disabled&&"image"==p.type&&(i.push({name:a,value:h.val()}),i.push({name:a+".x",value:n.clk_x},{name:a+".y",value:n.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var o=e.fieldValue(this,t);if(o&&o.constructor==Array)for(var s=0,r=o.length;r>s;s++)i.push({name:n,value:o[s]});else null!==o&&"undefined"!=typeof o&&i.push({name:this.name,value:o})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,o=this.length;o>n;n++){var s=this[n],r=e.fieldValue(s,t);null===r||"undefined"==typeof r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(i,r):i.push(r))}return i},e.fieldValue=function(t,i){var n=t.name,o=t.type,s=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!t.checked||("submit"==o||"image"==o)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var r=t.selectedIndex;if(0>r)return null;for(var a=[],l=t.options,c="select-one"==o,d=c?r+1:l.length,u=c?r:0;d>u;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;a.push(p)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(e){var t=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,n=this.tagName.toLowerCase();t.test(i)||"textarea"==n||e&&/hidden/.test(i)?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==n&&(this.selectedIndex=-1)})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery),$.fn.centerInClient=function(e){var t={forceAbsolute:!1,container:window,completeHandler:null};return $.extend(t,e),this.each(function(){var e=$(this),i=$(t.container),n=t.container==window;t.forceAbsolute&&(n?e.remove().appendTo("body"):e.remove().appendTo(i.get(0))),e.css("position","absolute");var o=n?2:1.8,s=(n?i.width():i.outerWidth())/2-e.outerWidth()/2,r=(n?i.height():i.outerHeight())/o-e.outerHeight()/2;e.css("left",s+i.scrollLeft()),e.css("top",r+i.scrollTop()),t.completeHandler&&t.completeHandler(this)})},function(e){var t=0;e.fn.busy=function(i){var n=function(i){var n=i.data();t+=1,n.busyid="busy_"+t,n.opacity=i.css("opacity"),e("body").append("<div id="+n.busyid+' class="busy-image"></div>'),e("body div#"+n.busyid).height(e(window).height()),i.addClass("busy"),i.css("opacity","0.6")},o=function(t){var i=t.data();i.busyid&&(t.css("opacity",i.opacity),t.removeClass("busy"),e("body div#"+i.busyid).remove(),t.removeData("busyid"),t.removeData("opacity"))};return this.each(function(){var t=e(this);if("[object Function]"===Object.prototype.toString.apply(i))n(t),e.wait(10).then(function(){i(),o(t)});else{var s=t.data();i===!1||s.busyid?o(t):n(t)}})}}(jQuery),function(e){e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),i="x"==e?t:8|3&t;return i.toString(16)})}}(jQuery),/**
 * Storage plugin
 * Provides a simple interface for storing data such as user preferences.
 * Storage is useful for saving and retreiving data from the user's browser.
 * For newer browsers, localStorage is used.
 * If localStorage isn't supported, then cookies are used instead.
 * Retrievable data is limited to the same domain as this file.
 *
 * Usage:
 * This plugin extends jQuery by adding itself as a static method.
 * $.Storage - is the class name, which represents the user's data store, whether it's cookies or local storage.
 *             <code>if ($.Storage)</code> will tell you if the plugin is loaded.
 * $.Storage.set("name", "value") - Stores a named value in the data store.
 * $.Storage.set({"name1":"value1", "name2":"value2", etc}) - Stores multiple name/value pairs in the data store.
 * $.Storage.get("name") - Retrieves the value of the given name from the data store.
 * $.Storage.remove("name") - Permanently deletes the name/value pair from the data store.
 *
 * @author Dave Schindler
 *
 * Distributed under the MIT License
 *
 * Copyright (c) 2010 Dave Schindler
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function(e){function t(e,t){var i;if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"==typeof e&&"undefined"==typeof t){for(i in e)e.hasOwnProperty(i)&&(localStorage[i]=e[i]);return!0}return!1}function i(e,t){var i,n,o;if(i=new Date,i.setTime(i.getTime()+31536e6),n="; expires="+i.toGMTString(),"string"==typeof e&&"string"==typeof t)return document.cookie=e+"="+t+n+"; path=/",!0;if("object"==typeof e&&"undefined"==typeof t){for(o in e)e.hasOwnProperty(o)&&(document.cookie=o+"="+e[o]+n+"; path=/");return!0}return!1}function n(e){return localStorage[e]}function o(e){var t,i,n,o;for(t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}function s(e){return delete localStorage[e]}function r(e){return i(e,"",-1)}var a="undefined"!=typeof window.localStorage;e.extend({Storage:{set:a?t:i,get:a?n:o,remove:a?s:r}})}(jQuery),function(){!function(e,t,i){"use strict";var n,o;o=function(e){return"string"==typeof e||"number"==typeof e?isNaN(parseInt(e,10))?!1:!0:!1},n=function(e){return typeof e},t.IOSBadge=function(){function e(t,i){if(!(this instanceof e))return new e(t,i);if(!t||!t.nodeType||1!==t.nodeType)throw new Error("You need to pass an element as the first argument to iOSBadge");this.element=t,this.settings=i,t.length&&t.length>1&&(this.element=t[0]),i&&"object"==typeof i?(this.content=i.content||1,this.size=i.size||20,this.position=i.position||"top-right",this.namespace=i.namespace||"iosb",this.theme=i.theme||"red"):(this.content=1,this.size=20,this.position="top-right",this.namespace="iosb",this.theme="red"),this._generate()}return e.prototype._generate=function(){this.type=n(this.content),this.badgeElem=i.createElement("div"),this.badgeInner=i.createElement("div"),this.badgeContent=i.createElement("div"),this._setContent(this.content),this._setClasses(this.position,this.size,this.type,this.theme),this.badgeInner.appendChild(this.badgeContent),this.badgeElem.appendChild(this.badgeInner),this.element.appendChild(this.badgeElem)},e.prototype._setOptions=function(e){e&&"object"==typeof e?(null!=e.content&&this.setContent(e.content),null!=e.position&&this.setPosition(e.position),null!=e.theme&&this.setTheme(e.theme),null!=e.size&&this.setSize(e.size),e.hide&&e.hide===!0?this.hide():e.show&&e.show===!0&&this.show()):"string"==typeof e&&("showbadge"===e.toLowerCase()?this.show():"hidebadge"===e.toLowerCase()?this.hide():this.setContent(e))},e.prototype._setContent=function(e){this.content=e,this.badgeContent.innerHTML=e},e.prototype._setClasses=function(e,t,i,n){var o;o=this.namespace,this.badgeElem.className=o+" "+o+"-"+t+" "+o+"-"+e,this.badgeInner.className=o+"-inner "+o+"-"+n,this.badgeContent.className=o+"-content "+o+"-"+i},e.prototype.getContent=function(){var e,t;return e=this.badgeContent.innerHTML,t=parseInt(e,10),isNaN(t)?e:t},e.prototype.setContent=function(e){var t,i,s;if(null==e&&(e=1),s=n(e),"object"===s||"function"===s)return this;if("none"===this.badgeElem.style.display&&this.show(),"string"===s){if(i=e.charAt(0),t=+e.substring(1)||0,""===e)return this._setContent(""),this.hide(),this;if("+"===i)return this.increaseBy(t),this;if("-"===i)return this.decreaseBy(t),this;s=o(e)?"number":"string"}else s="number";return this.type=s,this._setClasses(this.position,this.size,s,this.theme),this._setContent(e),this},e.prototype.setPosition=function(e){return"string"==typeof e&&(this.position=e,this._setClasses(e,this.size,this.type,this.theme)),this},e.prototype.setTheme=function(e){return"string"==typeof e&&(this.theme=e,this._setClasses(this.position,this.size,this.type,e)),this},e.prototype.setSize=function(e){return o(e)&&(this.size=parseInt(e,10),this._setClasses(this.position,this.size,this.type,this.theme)),this},e.prototype.decreaseBy=function(e){return o(e)&&(this.type="number",this._setClasses(this.position,this.size,this.type,this.theme),this._setContent((parseInt(this.content,10)||0)-parseInt(e,10))),this},e.prototype.increaseBy=function(e){return o(e)&&(this.type="number",this._setClasses(this.position,this.size,this.type,this.theme),this._setContent((parseInt(this.content,10)||0)+parseInt(e,10))),this},e.prototype.hide=function(){return this.badgeElem.style.display="none",this},e.prototype.show=function(){return this.badgeElem.style.display="block",this},e}(),"function"==typeof e&&(e.fn.iosbadge=function(i){var n;return n="iosbadge","string"==typeof i&&"getcontent"===i.toLowerCase()&&this.data(n)?this.data(n).getContent():this.each(function(){var o,s,r;r=this,o=e(r),s=o.data(n),s?s._setOptions(i):o.data(n,new t.IOSBadge(r,i))})})}(window.jQuery||window.Zepto,window,window.document)}.call(this),$(document).ready(function(){function e(e,t){return"order_log_"+e+"_"+t}function t(t,i){$.Storage.set(e(t,i),"open")}function i(t,i){$.Storage.remove(e(t,i))}function n(t,i){return"open"==$.Storage.get(e(t,i))}function o(e,t){return console.log("_dataAlert: "+t),a?(console.log("_dataAlert: already waiting for a refresh"),void 0):(t=t||e.alert||e.error||"Operation failed!",e.redirect||(t+="\n\nPlease refresh your browser",a=!0),alert(t),e.redirect&&(window.location=e.redirect),void 0)}function s(e,n,s){var r=$(e),a=r.data("order-id"),l=r.data("user-id"),c=r.data("log-tr-id"),d=r.data("url"),u=$("#"+c);if(u&&d){n||$(u).hide();var h=r.parent(),p=$(h).hasClass("index-loading");p&&$(h).removeClass("index-loading"),(!p||n)&&$.ajax({url:d,type:"GET",data:{show:n?"1":""},success:function(e){e&&e.result?(n?($(u).html("<td>&nbsp;</td><td colspan=100 style=width:100%>"+e.html+"</td>"),$(u).show(),t(l,a)):i(l,a),h.html(e.nav_html),s&&s()):o(e)},error:function(e,t){(0!==e.status||"timeout"==t)&&alert(t)},dataType:"json"})}}function r(e){var t=e.find(".action-icon"),i=e.closest(".order-log-entry"),n=$(i).data("order-email-id"),s=$(i).data("content-div-id"),r=$(i).data("new-url"),a={from_id:n};if($(t).hasClass("order-email-reply"))a.edit_type="reply";else if($(t).hasClass("order-email-reply-all"))a.edit_type="reply-all";else if($(t).hasClass("order-email-forward"))a.edit_type="forward";else{if(!$(t).hasClass("order-email-forward-vendor"))return;a.edit_type="forward-vendor",a.vendor_id=$(t).data("vendor_id")}var l=$("div#"+s).siblings(".order-email-new-from");$.ajax({url:r,type:"GET",data:a,success:function(e){e&&e.result?($(l).html(e.html),$(l).show()):o(e)},error:function(e,t){alert(t)},dataType:"json"})}var a=!1;$(".order-log-nav").livequery(function(){var e=$(this).find("a"),t=e.data("order-id"),i=e.data("user-id");s(e,n(i,t))}),$("a.order-log-open").live("click",function(){var e=$(this);s(e,!0)}),$("a.order-log-close").live("click",function(){var e=$(this);s(e,!1)}),$(".order-log-entry .subject").live("click",function(){var e=$(this).closest(".order-log-entry"),t=$(e).data("content-div-id"),i=$(e).data("update-url");$.ajax({url:i,type:"PUT",data:{viewed:"1"},success:function(e){e&&e.result||o(e)},error:function(e,t){alert(t)},dataType:"json"}),$("div#"+t).toggle()}),$(".popup-menu").livequery(function(){$(this).popupMenu({onSelect:function(e){r($(e))}})}),$(".action-icon.order-email-new").livequery("click",function(e){e.preventDefault();var t=$(this),i=t.data("order-id");t.data("user-id");var n=t.data("log-tr-id");t.data("url");var r=t.data("new-url"),a=$("#"+n);a&&r&&$.ajax({url:r,type:"GET",data:{order_id:i},success:function(e){e&&e.result?s(t,!0,function(){$(a).find("div.order-email-new").html(e.html),$(a).find("div.order-email-new").show()}):o(e)},error:function(e,t){alert(t)},dataType:"json"})}),$(".order-email-form .order-email-new-delete").livequery("click",function(e){var t=$(this);e.preventDefault();var i=t.closest("div.content");$(i).html(""),$(i).hide()}),$(".order-email-form").live("submit",function(e){var t=$(this);e.preventDefault();var i=t.parent("div");$(i).hide(),t.ajaxSubmit({headers:{Accept:"text/html"},success:function(e){e&&e.result?t.remove():(o(e),$(h).show())},error:function(e,t){o(t),$(h).show()}})})}),"undefined"==typeof PPP&&(PPP={}),"undefined"==typeof PPP.dashboards&&(PPP.dashboards={}),$(document).ready(function(){function e(e,t){"error"==t?$(e).html($(e).html()+"<br/><br/>Chart load aborted"):$(e).html(t),$(e).addClass("chart-alert")}function t(t,i,n){var o=$(i);if(n=n||"",!o.data("loaded")){o.data("loaded",!0);var s=o.data("url"),a=o.data("group-by"),l=o.data("num-samples"),c=o.data("include-show-all"),d=o.data("chart-type"),u="dashboard-chart-"+n+"-"+t;o.busy(o.offset()),$.ajax({url:s,type:"GET",data:{group_by:a,num_samples:l},dataType:"json",success:function(t){if(o.busy(!1),t&&t.result){var i,n,s,h=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),p="";h||(i=u+"-print",n=u+"-export",p='<div id="'+n+'" class="dashboard-chart-export"></div>'+'<div id="'+i+'" class="dashboard-chart-print"></div>'),c&&(s=u+"-show-all"),o.html(p+(s?'<div id="'+s+'" class="dashboard-chart-show-all"></div>':"")+'<div id="'+u+'"></div>');var f=function(){s&&$("#"+s).css("opacity",.3)},m=function(){s&&$("#"+s).css("opacity",1)},g=$.extend(!0,{},r[d]);g.chart.renderTo=u,h&&(g.tooltip={enabled:!1});var v=function(){var e=this;if(e.__timer){clearTimeout(e.__timer),e.__timer=null;var t=e.chart.redraw;return e.chart.redraw=function(){},$(e.chart.series).each(function(t,i){i.name==e.name?i.show():i.hide()}),e.chart.redraw=t,e.chart.redraw(),m(),void 0}e.__timer=setTimeout(function(){e.__timer=null;var t=e.name,i=e.visible,n=!0,o=e.chart.redraw;e.chart.redraw=function(){},$(e.chart.series).each(function(e,o){o.name==t&&(i?o.hide():o.show()),n=n&&o.visible}),e.chart.redraw=o,e.chart.redraw(),n?f():m()},250)};g=$.extend(!0,g,{plotOptions:{series:{events:{legendItemClick:function(e){return v.call(this,e),!1},click:function(e){return v.call(this,e),!1}}}}}),$.extend(!0,g,t.data);var y=new Highcharts.Chart(g);h||($("#"+i).bind("click",function(){y.print()}),$("#"+n).bind("click",function(){y.exportChart({type:"image/png",filename:"chart_"+l+"_"+a})})),s&&($("#"+s).bind("click",function(){var e=$(this);if("1"==e.css("opacity")){var t=y.redraw;y.redraw=function(){},$(y.series).each(function(e,t){t.show()}),y.redraw=t,y.redraw(),f()}}),f())}else{var b="Unknown error!";t&&t.alert&&(b=t.alert),o.data("loaded",!1),e(o,b)}},error:function(t,i){o.busy(!1),o.data("loaded",!1),e(o,i)}})}}function i(e,i){$(e).find("div.dashboard-chart").each(function(e,n){t(e,n,i)})}var n=" Verdana, Geneva, sans-serif",o="#006c64",s="#e2e0db";Highcharts.setOptions({credits:{enabled:!1,href:"http://www.portlandpedalpower.com/",text:"Portland Pedal Power",style:{color:o,font:"12px"+n}},colors:["#DDDF0D","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:s,ZbackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgb(255, 255, 255)"],[1,"rgb(220, 220, 220)"]]},borderWidth:0,borderRadius:5,plotBackgroundColor:null,plotShadow:!1,plotBorderWidth:0},title:{style:{color:o,font:"18px"+n}},subtitle:{style:{color:"#DDD",font:"bold 14px"+n}},xAxis:{gridLineWidth:0,lineColor:"#CCC",tickColor:"#CCC",labels:{style:{color:o,font:"14px"+n},y:20},title:{style:{color:o,font:"bold 14px"+n}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(0, 0, 0, .1)",lineWidth:0,tickWidth:0,labels:{style:{color:o,font:"14px"+n}},title:{style:{color:o,font:"bold 14px"+n}}},legend:{itemStyle:{color:o,font:"14px"+n},itemHoverStyle:{color:"#444"},itemHiddenStyle:{color:"#CCC"},borderWidth:0},labels:{style:{color:"#444"}},tooltip:{backgroundColor:s,ZbackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgb(255, 255, 255)"],[1,"rgb(220, 220, 220)"]]},borderWidth:0,style:{color:o,fontSize:"14px"}},plotOptions:{line:{dataLabels:{color:"#444"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},toolbar:{itemStyle:{color:"#444"}},navigation:{},exporting:{enabled:!1},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#444",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:s,borderColor:"#AAA",borderWidth:0},outlineColor:"#444",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#444",buttonArrowColor:"#444",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#444",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"}});var r={line:{chart:{renderTo:"need-id",type:"line"},title:{text:"title"},legend:{align:"right",layout:"vertical",verticalAlign:"top",labelFormatter:function(){return this.visible?'<span style="color: '+this.color+'">'+this.name+"</span>":'<span style="color:#888">'+this.name+"</span>"},y:20},xAxis:{categories:[]},yAxis:{allowDecimals:!1,title:{text:"$K"},min:0},series:[]},pie:{chart:{renderTo:"need-id",type:"pie"},title:{text:"title"},legend:{align:"right",layout:"vertical",verticalAlign:"top",y:20},allowPointSelect:!0,cursor:"pointer",plotOptions:{series:{dataLabels:{enabled:!0}}}},bar:{chart:{renderTo:"need-id",type:"bar"},title:{text:"title"},xAxis:{categories:[]},yAxis:{allowDecimals:!0,title:{text:""},min:0},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1}}},series:[]},column:{chart:{renderTo:"need-id",type:"line"},title:{text:"title"},xAxis:{categories:[]},yAxis:{allowDecimals:!1,title:{text:"$K"},min:0},series:[]}};PPP.dashboards.buildChart=t,$("#dashboard-tabs").tabs({create:function(e,t){i(t.panel,t.tab.index())},activate:function(e,t){i(t.newPanel,t.newTab.index())},select:function(e,t){window.location.hash=t.newPanel.selector}})}),"undefined"==typeof PPP&&(PPP={}),PPP=jQuery.extend(!0,PPP,function(e){function t(e,t,i){return new google.maps.Map(document.getElementById(e),{zoom:13,center:new google.maps.LatLng(t||45.5218641694405,i||-122.68106867981),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,zoomControlStyle:google.maps.ZoomControlStyle.SMALL})}function i(e,t){return new google.maps.Polygon({paths:t.map(function(e){return new google.maps.LatLng(e[0],e[1])}),strokeColor:"#000000",strokeWeight:1,strokeOpacity:1,fillColor:"#336699",fillOpacity:.3,map:e})}var n=1;return{alert:function(t){var i=e.uuid();e("body").append('<div id="'+i+'"></div>');var n=e("#"+i);e(n).html(t),e(n).dialog({dialogClass:"ui-dialog-no-close",title:"Alert",modal:!0,draggable:!1,resizable:!1,buttons:[{text:"OK",click:function(){e(this).dialog("destroy").remove()}}]})},modalIFrame:function(t){var i="link-"+n++,o=!1;PPP.modalsClose();var s=e("<iframe/>").attr({src:t,id:i,"class":"modal-iframe-dialog"});e(s).appendTo("body").dialog({dialogClass:"ui-dialog-no-title",modal:!0,width:"99%",height:"99%",resizable:!1,draggable:!1,show:{effect:"fade",duration:0},hide:{effect:"fade",duration:0},open:function(){if(!o){o=!0;var t=e("#"+i);t.dialog().parent().css({top:"5%",left:"5%",height:"90%",width:"90%"}),e(".ui-widget-overlay").bind("click",function(){t.dialog("destroy").remove()}),o=!1}}})},modalURL:function(t,i){e("body").busy(),e.ajax({url:t,success:function(t){e("body").busy(!1),PPP.modalHTML(t,i)},error:function(t){e("body").busy(!1),alert("Error: "+t.status+" "+t.statusText)}})},modalHTML:function(t,i){var o="link-"+n++,s=!1,r="ui-dialog-no-title";PPP.modalsClose(),i&&(r+=" positioned-modal"),e("<div id="+o+">"+t+"</div>").appendTo("body").dialog({dialogClass:r,modal:!0,width:"auto",height:"auto",resizable:!1,draggable:!1,show:{effect:"fade",duration:0},hide:{effect:"fade",duration:0},open:function(){if(!s){s=!0;var t=e("#"+o);t.dialog().parent().centerInClient(),e(".ui-widget-overlay").bind("click",function(){t.dialog("destroy").remove()}),s=!1}}})},modalsClose:function(){e(".ui-dialog-content").dialog("destroy").remove()},verifyCart:function(t,i,n,o){e.ajax({url:t,success:function(e){e&&!e.result?(alert("Your cart has timed out"),window.location.replace(n)):o&&o.call()},error:function(){alert("Your cart has timed out"),window.location.replace(i)}})},hub:{draw:function(n,o,s,r,a,l){var c=o&&o.length>=2&&0!==o[0]&&0!==o[1],d=t(n);i(d,r);var u=new google.maps.LatLngBounds;if(c){var h=new google.maps.LatLng(o[0],o[1]);u.extend(h),new google.maps.Marker({icon:a,shadow:"http://chart.apis.google.com/chart?chst=d_map_pin_shadow",position:h,animation:google.maps.Animation.DROP,map:d,title:o[2]})}e.each(s,function(e,t){var i=new google.maps.LatLng(t[0],t[1]);u.extend(i),new google.maps.Marker({icon:l,shadow:"http://chart.apis.google.com/chart?chst=d_map_pin_shadow",position:i,animation:google.maps.Animation.DROP,map:d,title:t[2]})}),c&&d.fitBounds(u)}},deliveryLocations:{draw:function(n,o,s){var r=t(n);i(r,s),e.each(o,function(e,t){new google.maps.Marker({shadow:"http://chart.apis.google.com/chart?chst=d_map_pin_shadow",position:new google.maps.LatLng(t[0],t[1]),animation:google.maps.Animation.DROP,map:r,title:t[2]})})}}}}(jQuery)),css_browser_selector(navigator.userAgent),/*
Copyright 2012 Igor Vaynberg

Version: 3.4.3 Timestamp: Tue Sep 17 06:47:14 PDT 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,o=this.length;++n<o&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(e){var t,i,n,o;if(!e||e.length<1)return e;for(t="",i=0,n=e.length;n>i;i++)o=e.charAt(i),t+=F[o]||o;return t}function n(e,t){for(var i=0,n=t.length;n>i;i+=1)if(s(e,t[i]))return i;return-1}function o(){var t=e(H);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function s(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function r(t,i){var n,o,s;if(null===t||t.length<1)return[];for(n=t.split(i),o=0,s=n.length;s>o;o+=1)n[o]=e.trim(n[o]);return n}function a(e){return e.outerWidth(!1)-e.width()}function l(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var o=e.data(i,n);o!==t&&i.val()!==o&&(e.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=R;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function d(e,i,n){n=n||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){i.apply(n,t)},e)}}function u(e){var t,i=!1;return function(){return i===!1&&(t=e(),i=!0),t}}function h(e,t){var i=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function p(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),e.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var i=0,n=0;if("selectionStart"in t)i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var o=document.selection.createRange();n=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),i=o.text.length-n}return{offset:i,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!B){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);B=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),B.attr("class","select2-sizer"),e("body").append(B)}return B.text(t.val()),B.width()}function y(t,i,n){var o,s,r=[];o=t.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),o=i.attr("class"),o&&(o=""+o,e(o.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=n(this),s&&r.push(this))})),t.attr("class",r.join(" "))}function b(e,t,n,o){var s=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),r=t.length;return 0>s?(n.push(o(e)),void 0):(n.push(o(e.substring(0,s))),n.push("<span class='select2-match'>"),n.push(o(e.substring(s,s+r))),n.push("</span>"),n.push(o(e.substring(s+r,e.length))),void 0)}function x(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function w(i){var n,o=null,s=i.quietMillis||100,r=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,s=r,c=i.transport||e.fn.select2.ajaxDefaults.transport,d={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},u=e.extend({},e.fn.select2.ajaxDefaults.params,d);n=n?n.call(a,l.term,l.page,l.context):null,s="function"==typeof s?s.call(a,l.term,l.page,l.context):s,o&&o.abort(),i.params&&(e.isFunction(i.params)?e.extend(u,i.params.call(a)):e.extend(u,i.params)),e.extend(u,{url:s,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page);l.callback(t)}}),o=c.call(a,u)},s)}}function _(t){var i,n,o=t,s=function(e){return""+e.text};e.isArray(o)&&(n=o,o={results:n}),e.isFunction(o)===!1&&(n=o,o=function(){return n});var r=o();return r.text&&(s=r.text,e.isFunction(s)||(i=r.text,s=function(e){return e[i]})),function(t){var i,n=t.term,r={results:[]};return""===n?(t.callback(o()),void 0):(i=function(o,r){var a,l;if(o=o[0],o.children){a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);a.children=[],e(o.children).each2(function(e,t){i(t,a.children)}),(a.children.length||t.matcher(n,s(a),o))&&r.push(a)}else t.matcher(n,s(o),o)&&r.push(o)},e(o().results).each2(function(e,t){i(t,r.results)}),t.callback(r),void 0)}}function C(i){var n=e.isFunction(i);return function(o){var s=o.term,r={results:[]};e(n?i():i).each(function(){var e=this.text!==t,i=e?this.text:this;(""===s||o.matcher(s,i))&&r.results.push(e?this:{id:this,text:this})}),o.callback(r)}}function k(t,i){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(i+" must be a function or a falsy value")}function T(t){return e.isFunction(t)?t():t}function S(t){var i=0;return e.each(t,function(e,t){t.children?i+=S(t.children):i++}),i}function E(e,i,n,o){var r,a,l,c,d,u=e,h=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(d=o.tokenSeparators[l],a=e.indexOf(d),!(a>=0));l++);if(0>a)break;if(r=e.substring(0,a),e=e.substring(a+d.length),r.length>0&&(r=o.createSearchChoice.call(this,r,i),r!==t&&null!==r&&o.id(r)!==t&&null!==o.id(r))){for(h=!1,l=0,c=i.length;c>l;l++)if(s(o.id(r),o.id(i[l]))){h=!0;break}h||n(r)}}return u!==e?e:void 0}function D(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var A,M,N,P,I,B,L,O,R={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},H="<div class='select2-measure-scrollbar'></div>",F={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R","Ꞧ":"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r","ꞧ":"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s","ꞩ":"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z"};L=e(document),I=function(){var e=1;return function(){return e++}}(),L.on("mousemove",function(e){R.x=e.pageX,R.y=e.pageY}),M=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,s,r,a,d=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+I()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return i.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(T(i.containerCss)),this.container.addClass(T(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(d),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",d,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",d,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,i,o){var s=n.scrollTop();o>0&&0>=s-o?(n.scrollTop(0),m(e)):0>o&&n.get(0).scrollHeight-n.scrollTop()+o<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(e))}),l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",d,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var r=i.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var a=i.element.prop("readonly");a===t&&(a=!1),this.readonly(a),O=O||o(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==t&&(i.container.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,o,a,l,c=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=o=i.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(n,o,s){var r,a=this.opts.id;r=function(n,o,l){var d,u,h,p,f,m,g,v,y,b;for(n=i.sortResults(n,o,s),d=0,u=n.length;u>d;d+=1)h=n[d],f=h.disabled===!0,p=!f&&a(h)!==t,m=h.children&&h.children.length>0,g=e("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(h,v,s,c.opts.escapeMarkup),b!==t&&v.html(b),g.append(v),m&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),r(h.children,y,l+1),g.append(y)),g.data("select2-data",h),o.append(g)},r(o,n,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(e){var i,o,s,r={results:[],more:!1},a=e.term;s=function(t,i){var n;t.is("option")?e.matcher(a,t.text(),t)&&i.push(c.optionToData(t)):t.is("optgroup")&&(n=c.optionToData(t),t.children().each2(function(e,t){s(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&(o=this.getPlaceholderOption(),o&&(i=i.not(o))),i.each2(function(e,t){s(t,r.results)}),e.callback(r)}),i.id=function(e){return e.id},i.formatResultCssClass=function(e){return e.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=_(i.data):"tags"in i&&(i.query=C(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var o=[];e(r(t.val(),i.separator)).each(function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),o.push(t)}),n(o)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var e,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,n=i.prop("disabled");n===t&&(n=!1),this.enable(!n);var e=i.prop("readonly");e===t&&(e=!1),this.readonly(e),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass))}),i.on("propertychange.select2 DOMAttrModified.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,o,s=this.dropdown,r=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=s.outerHeight(!1),d=e(window).scrollLeft()+e(window).width(),u=e(window).scrollTop()+e(window).height(),h=r.top+a,p=r.left,f=u>=h+c,m=r.top-c>=this.body().scrollTop(),g=s.outerWidth(!1),v=d>=p+g,y=s.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(o=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),g=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:O.width),g>l?l=g:g=l,v=d>=p+g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),h-=t.top,p-=t.left),y?(i=!0,!m&&f&&(i=!1)):(i=!1,!f&&m&&(i=!0)),v||(p=r.left+l-g),i?(h=r.top-c,this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),n=e.extend({top:h,left:p,width:l},T(this.opts.dropdownCss)),s.css(n)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,i=this.containerId,n="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var i,n=e("#select2-drop");n.length>0&&(i=n.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!1}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+s,function(){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,n="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,n,o,s,r,a,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return l.scrollTop(0),void 0;t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[i]),o=n.offset().top+n.outerHeight(!0),i===t.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(o=a.offset().top+a.outerHeight(!0))),s=l.offset().top+l.outerHeight(!0),o>s&&l.scrollTop(l.scrollTop()+(o-s)),r=n.offset().top-l.offset().top,0>r&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var o=e(i[n]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,o,s=this.findHighlightableChoices();return 0===arguments.length?n(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),i=e(s[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=i.data("select2-data"),o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,o=this,s=this.search.val(),r=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:s,page:n,context:r}),o.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).text(o.opts.formatLoadMore(n+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):i.remove(),o.positionDropdown(),o.resultsPage=n,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(i){function n(){c.removeClass("select2-active"),h.positionDropdown()}function o(e){d.html(e),n()}var r,a,l,c=this.search,d=this.results,u=this.opts,h=this,p=c.val(),f=e.data(this.container,"select2-last-term");if((i===!0||!f||!s(p,f))&&(e.data(this.container,"select2-last-term",p),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(r=this.data(),e.isArray(r)&&r.length>=m&&k(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(m)+"</li>"),void 0;if(c.val().length<u.minimumInputLength)return k(u.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+u.formatInputTooShort(c.val(),u.minimumInputLength)+"</li>"):o(""),i&&this.showSearch&&this.showSearch(!0),void 0;if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return k(u.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+u.formatInputTooLong(c.val(),u.maximumInputLength)+"</li>"):o(""),void 0;u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&c.val(a),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var a;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(h,c.val(),r.results),a!==t&&null!==a&&h.id(a)!==t&&null!==h.id(a)&&0===e(r.results).filter(function(){return s(h.id(this),h.id(a))}).length&&r.results.unshift(a)),0===r.results.length&&k(u.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+u.formatNoMatches(c.val())+"</li>"),void 0;d.empty(),h.opts.populateResults.call(this,d,r.results,{term:c.val(),page:this.resultsPage,context:null}),r.more===!0&&k(u.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(r,i),n(),this.opts.element.trigger({type:"select2-loaded",items:r})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(e){var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function i(){var i,n,o,s,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(n=i.split(";"),s=0,r=n.length;r>s;s+=1)if(o=n[s].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),N=D(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(o=this.search.val().length,i.setSelectionRange(o,o)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=this.container,n=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+I()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)return m(e),void 0;switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),m(e),void 0;case A.ENTER:return this.selectHighlighted(),m(e),void 0;
case A.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case A.ESC:return this.cancel(e),m(e),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.ESC){if(this.opts.openOnEnter===!1&&e.which===A.ENTER)return m(e),void 0;if(e.which==A.DOWN||e.which==A.UP||e.which==A.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),m(e),void 0}return e.which==A.DELETE||e.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),m(e),void 0):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(t)})),n.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.is(":selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find(":selected");t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var o=i.val(),r=null;t.query({matcher:function(e,i,n){var a=s(o,t.id(n));return a&&(r=n),a},callback:e.isFunction(n)?function(){n(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return s(o.id(t.data("select2-data")),o.opts.element.val())?(n=e,!1):void 0}),i!==!1&&(t===!0&&n>=0?this.highlight(n):this.highlight(0)),t===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(S(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),s(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(i=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),i!==t&&o.append(i),n=this.opts.formatSelectionCssClass(e,o),n!==t&&o.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,o=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return n=o.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:s});else{if(!e&&0!==e)return this.clear(i),void 0;if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),i&&o.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(n=arguments[1]),e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n),void 0)}}),P=D(M,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var o=r(i.val(),t.separator),a=[];t.query({matcher:function(i,n,r){var l=e.grep(o,function(e){return s(e,t.id(r))}).length;return l&&a.push(r),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<o.length;i++)for(var r=o[i],l=0;l<a.length;l++){var c=a[l];if(s(r,t.id(c))){e.push(c),a.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+I()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),s=f(this.search);if(i.length&&(e.which==A.LEFT||e.which==A.RIGHT||e.which==A.BACKSPACE||e.which==A.DELETE||e.which==A.ENTER)){var r=i;return e.which==A.LEFT&&n.length?r=n:e.which==A.RIGHT?r=o.length?o:null:e.which===A.BACKSPACE?(this.unselect(i.first()),this.search.width(10),r=n.length?n:o):e.which==A.DELETE?(this.unselect(i.first()),this.search.width(10),r=o.length?o:null):e.which==A.ENTER&&(r=null),this.selectChoice(r),m(e),r&&r.length||this.open(),void 0}if((e.which===A.BACKSPACE&&1==this.keydowns||e.which==A.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),m(e),void 0;if(this.selectChoice(null),this.opened())switch(e.which){case A.UP:case A.DOWN:return this.moveHighlight(e.which===A.UP?-1:1),m(e),void 0;case A.ENTER:return this.selectHighlighted(),m(e),void 0;case A.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case A.ESC:return this.cancel(e),m(e),void 0}if(e.which!==A.TAB&&!A.isControl(e)&&!A.isFunctionKey(e)&&e.which!==A.BACKSPACE&&e.which!==A.ESC){if(e.which===A.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===A.PAGE_UP||e.which===A.PAGE_DOWN)&&m(e),e.which===A.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],o=[],s=this;e(t).each(function(){n(s.id(this),i)<0&&(i.push(s.id(this)),o.push(this))}),t=o,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,o,s=!i.locked,r=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?r:a,c=this.id(i),d=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=t&&l.find("div").replaceWith("<div>"+n+"</div>"),o=this.opts.formatSelectionCssClass(i,l.find("div")),o!=t&&l.addClass(o),s&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),m(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),d.push(c),this.setVal(d)},unselect:function(e){var t,i,o=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(t=e.data("select2-data")){for(;(i=n(this.id(t),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})}},postprocessResults:function(e,t,i){var o=this.getVal(),s=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;s.each2(function(e,t){var i=a.id(t.data("select2-data"));n(i,o)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&k(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var e,t,i,n,o,s=a(this.search);e=v(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,o=i-(t-n)-s,e>o&&(o=i-s),40>o&&(o=i-s),0>=o&&(o=e),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)s(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var o,s=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),n&&this.triggerChange({added:this.data(),removed:o}),void 0;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,s.id);s.setVal(i),s.updateSelection(t),s.clearSearch(),n&&s.triggerChange(s.buildChangeDetails(o,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,o,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),t||(t=[]),n=e.map(t,function(e){return s.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),e.fn.select2=function(){var i,o,s,r,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],u=["val","data"],h={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),o=a?new P:new N,o.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(n(l[0],c)<0)throw"Unknown method: "+l[0];if(r=t,o=e(this).data("select2"),o===t)return;if(s=l[0],"container"===s?r=o.container:"dropdown"===s?r=o.dropdown:(h[s]&&(s=h[s]),r=o[s].apply(o,l.slice(1))),n(l[0],d)>=0||n(l[0],u)&&1==l.length)return!1}}),r===t?this:r},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var o=[];return b(e.text,i.term,o,n),o.join("")},formatSelection:function(e,i,n){return e?n(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:_,tags:C},util:{debounce:d,markMatch:b,escapeMarkup:x,stripDiacritics:i},"class":{"abstract":M,single:N,multi:P}}}}(jQuery),function(e){var t=this.SelectBox=function(e,t){if(e instanceof jQuery){if(!(e.length>0))return;e=e[0]}return this.typeTimer=null,this.typeSearch="",this.isMac=navigator.platform.match(/mac/i),t="object"==typeof t?t:{},this.selectElement=e,!t.mobile&&navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i)?!1:"select"!==e.tagName.toLowerCase()?!1:(this.init(t),void 0)};t.prototype.version="1.2.0",t.prototype.init=function(t){var i=e(this.selectElement);if(i.data("selectBox-control"))return!1;var n=e('<a class="selectBox" />'),o=i.attr("multiple")||parseInt(i.attr("size"))>1,s=t||{},r=parseInt(i.prop("tabindex"))||0,a=this;if(n.width(i.outerWidth()).addClass(i.attr("class")).attr("title",i.attr("title")||"").attr("tabindex",r).css("display","inline-block").bind("focus.selectBox",function(){this!==document.activeElement&&document.body!==document.activeElement&&e(document.activeElement).blur(),n.hasClass("selectBox-active")||(n.addClass("selectBox-active"),i.trigger("focus"))}).bind("blur.selectBox",function(){n.hasClass("selectBox-active")&&(n.removeClass("selectBox-active"),i.trigger("blur"))}),e(window).data("selectBox-bindings")||e(window).data("selectBox-bindings",!0).bind("scroll.selectBox",this.hideMenus).bind("resize.selectBox",this.hideMenus),i.attr("disabled")&&n.addClass("selectBox-disabled"),i.bind("click.selectBox",function(e){n.focus(),e.preventDefault()}),o){if(t=this.getOptions("inline"),n.append(t).data("selectBox-options",t).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",function(e){a.handleKeyDown(e)}).bind("keypress.selectBox",function(e){a.handleKeyPress(e)}).bind("mousedown.selectBox",function(t){1===t.which&&(e(t.target).is("A.selectBox-inline")&&t.preventDefault(),n.hasClass("selectBox-focus")||n.focus())}).insertAfter(i),!i[0].style.height){var l=i.attr("size")?parseInt(i.attr("size")):5,c=n.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");c.find(".selectBox-options").html("<li><a> </a></li>");var d=parseInt(c.find(".selectBox-options A:first").html("&nbsp;").outerHeight());c.remove(),n.height(d*l)}this.disableSelection(n)}else{var u=e('<span class="selectBox-label" />'),h=e('<span class="selectBox-arrow" />');u.attr("class",this.getLabelClass()).text(this.getLabelText()),t=this.getOptions("dropdown"),t.appendTo("BODY"),n.data("selectBox-options",t).addClass("selectBox-dropdown").append(u).append(h).bind("mousedown.selectBox",function(e){1===e.which&&(n.hasClass("selectBox-menuShowing")?a.hideMenus():(e.stopPropagation(),t.data("selectBox-down-at-x",e.screenX).data("selectBox-down-at-y",e.screenY),a.showMenu()))}).bind("keydown.selectBox",function(e){a.handleKeyDown(e)}).bind("keypress.selectBox",function(e){a.handleKeyPress(e)}).bind("open.selectBox",function(e,t){t&&t._selectBox===!0||a.showMenu()}).bind("close.selectBox",function(e,t){t&&t._selectBox===!0||a.hideMenus()}).insertAfter(i);var p=n.width()-h.outerWidth()-(parseInt(u.css("paddingLeft"))||0)-(parseInt(u.css("paddingRight"))||0);u.width(p),this.disableSelection(n)}i.addClass("selectBox").data("selectBox-control",n).data("selectBox-settings",s).hide()},t.prototype.getOptions=function(t){var i,n=e(this.selectElement),o=this,s=function(t,i){return t.children("OPTION, OPTGROUP").each(function(){if(e(this).is("OPTION"))e(this).length>0?o.generateOptions(e(this),i):i.append("<li> </li>");else{var t=e('<li class="selectBox-optgroup" />');t.text(e(this).attr("label")),i.append(t),i=s(e(this),i)}}),i};switch(t){case"inline":return i=e('<ul class="selectBox-options" />'),i=s(n,i),i.find("A").bind("mouseover.selectBox",function(){o.addHover(e(this).parent())}).bind("mouseout.selectBox",function(){o.removeHover(e(this).parent())}).bind("mousedown.selectBox",function(e){1===e.which&&(e.preventDefault(),n.selectBox("control").hasClass("selectBox-active")||n.selectBox("control").focus())}).bind("mouseup.selectBox",function(t){1===t.which&&(o.hideMenus(),o.selectOption(e(this).parent(),t))}),this.disableSelection(i),i;case"dropdown":i=e('<ul class="selectBox-dropdown-menu selectBox-options" />'),i=s(n,i),i.data("selectBox-select",n).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",function(e){1===e.which&&(e.preventDefault(),e.screenX===i.data("selectBox-down-at-x")&&e.screenY===i.data("selectBox-down-at-y")&&(i.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),o.hideMenus()))}).bind("mouseup.selectBox",function(t){1===t.which&&(t.screenX!==i.data("selectBox-down-at-x")||t.screenY!==i.data("selectBox-down-at-y"))&&(i.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),o.selectOption(e(this).parent()),o.hideMenus())}).bind("mouseover.selectBox",function(){o.addHover(e(this).parent())}).bind("mouseout.selectBox",function(){o.removeHover(e(this).parent())});var r=n.attr("class")||"";if(""!==r){r=r.split(" ");for(var a in r)i.addClass(r[a]+"-selectBox-dropdown-menu")}return this.disableSelection(i),i}},t.prototype.getLabelClass=function(){var t=e(this.selectElement).find("OPTION:selected");return("selectBox-label "+(t.attr("class")||"")).replace(/\s+$/,"")},t.prototype.getLabelText=function(){var t=e(this.selectElement).find("OPTION:selected");return t.text()||" "},t.prototype.setLabel=function(){var t=e(this.selectElement),i=t.data("selectBox-control");i&&i.find(".selectBox-label").attr("class",this.getLabelClass()).text(this.getLabelText())},t.prototype.destroy=function(){var t=e(this.selectElement),i=t.data("selectBox-control");if(i){var n=i.data("selectBox-options");n.remove(),i.remove(),t.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show()}},t.prototype.refresh=function(){var t,i=e(this.selectElement),n=i.data("selectBox-control"),o=n.hasClass("selectBox-dropdown")?"dropdown":"inline";switch(n.data("selectBox-options").remove(),t=this.getOptions(o),n.data("selectBox-options",t),o){case"inline":n.append(t);break;case"dropdown":this.setLabel(),e("BODY").append(t)}"dropdown"===o&&n.hasClass("selectBox-menuShowing")&&this.showMenu()},t.prototype.showMenu=function(){var t=this,i=e(this.selectElement),n=i.data("selectBox-control"),o=i.data("selectBox-settings"),s=n.data("selectBox-options");if(n.hasClass("selectBox-disabled"))return!1;this.hideMenus();var r=parseInt(n.css("borderBottomWidth"))||0,a=parseInt(n.css("borderTopWidth"))||0,l=n.offset(),c=s.outerHeight(),d=n.outerHeight(),u=parseInt(s.css("max-height")),h=e(window).scrollTop(),p=l.top-h,f=e(window).height()-(p+d),m=p>f,g=m?l.top-c+a:l.top+d-r;if(u>p&&u>f)if(m){var v=u-(p-5);s.css({"max-height":u-v+"px"}),g+=v}else{var v=u-(f-5);s.css({"max-height":u-v+"px"})}if(s.data("posTop",m),s.width(n.innerWidth()).css({top:g,left:n.offset().left}).addClass("selectBox-options selectBox-options-"+(m?"top":"bottom")),i.triggerHandler("beforeopen"))return!1;var y=function(){i.triggerHandler("open",{_selectBox:!0})};switch(o.menuTransition){case"fade":s.fadeIn(o.menuSpeed,y);break;case"slide":s.slideDown(o.menuSpeed,y);break;default:s.show(o.menuSpeed,y)}o.menuSpeed||y();var b=s.find(".selectBox-selected:first");this.keepOptionInView(b,!0),this.addHover(b),n.addClass("selectBox-menuShowing selectBox-menuShowing-"+(m?"top":"bottom")),e(document).bind("mousedown.selectBox",function(i){if(1===i.which){if(e(i.target).parents().andSelf().hasClass("selectBox-options"))return;t.hideMenus()}})},t.prototype.hideMenus=function(){0!==e(".selectBox-dropdown-menu:visible").length&&(e(document).unbind("mousedown.selectBox"),e(".selectBox-dropdown-menu").each(function(){var t=e(this),i=t.data("selectBox-select"),n=i.data("selectBox-control"),o=i.data("selectBox-settings"),s=t.data("posTop");if(i.triggerHandler("beforeclose"))return!1;var r=function(){i.triggerHandler("close",{_selectBox:!0})};if(o){switch(o.menuTransition){case"fade":t.fadeOut(o.menuSpeed,r);break;case"slide":t.slideUp(o.menuSpeed,r);break;default:t.hide(o.menuSpeed,r)}o.menuSpeed||r(),n.removeClass("selectBox-menuShowing selectBox-menuShowing-"+(s?"top":"bottom"))}else e(this).hide(),e(this).triggerHandler("close",{_selectBox:!0}),e(this).removeClass("selectBox-menuShowing selectBox-menuShowing-"+(s?"top":"bottom"));t.css("max-height",""),t.removeClass("selectBox-options-"+(s?"top":"bottom")),t.data("posTop",!1)}))},t.prototype.selectOption=function(t,i){var n=e(this.selectElement);t=e(t);var o=n.data("selectBox-control");if(n.data("selectBox-settings"),o.hasClass("selectBox-disabled"))return!1;if(0===t.length||t.hasClass("selectBox-disabled"))return!1;if(n.attr("multiple"))if(i.shiftKey&&o.data("selectBox-last-selected")){t.toggleClass("selectBox-selected");var s;s=t.index()>o.data("selectBox-last-selected").index()?t.siblings().slice(o.data("selectBox-last-selected").index(),t.index()):t.siblings().slice(t.index(),o.data("selectBox-last-selected").index()),s=s.not(".selectBox-optgroup, .selectBox-disabled"),t.hasClass("selectBox-selected")?s.addClass("selectBox-selected"):s.removeClass("selectBox-selected")}else this.isMac&&i.metaKey||!this.isMac&&i.ctrlKey?t.toggleClass("selectBox-selected"):(t.siblings().removeClass("selectBox-selected"),t.addClass("selectBox-selected"));else t.siblings().removeClass("selectBox-selected"),t.addClass("selectBox-selected");o.hasClass("selectBox-dropdown")&&o.find(".selectBox-label").text(t.text());var r=0,a=[];return n.attr("multiple")?o.find(".selectBox-selected A").each(function(){a[r++]=e(this).attr("rel")}):a=t.find("A").attr("rel"),o.data("selectBox-last-selected",t),n.val()!==a&&(n.val(a),this.setLabel(),n.trigger("change")),!0},t.prototype.addHover=function(t){t=e(t);var i=e(this.selectElement),n=i.data("selectBox-control"),o=n.data("selectBox-options");o.find(".selectBox-hover").removeClass("selectBox-hover"),t.addClass("selectBox-hover")},t.prototype.getSelectElement=function(){return this.selectElement},t.prototype.removeHover=function(t){t=e(t);var i=e(this.selectElement),n=i.data("selectBox-control"),o=n.data("selectBox-options");o.find(".selectBox-hover").removeClass("selectBox-hover")},t.prototype.keepOptionInView=function(t,i){if(t&&0!==t.length){var n=e(this.selectElement),o=n.data("selectBox-control"),s=o.data("selectBox-options"),r=o.hasClass("selectBox-dropdown")?s:s.parent(),a=parseInt(t.offset().top-r.position().top),l=parseInt(a+t.outerHeight());i?r.scrollTop(t.offset().top-r.offset().top+r.scrollTop()-r.height()/2):(0>a&&r.scrollTop(t.offset().top-r.offset().top+r.scrollTop()),l>r.height()&&r.scrollTop(t.offset().top+t.outerHeight()-r.offset().top+r.scrollTop()-r.height()))}},t.prototype.handleKeyDown=function(t){var i=e(this.selectElement),n=i.data("selectBox-control"),o=n.data("selectBox-options"),s=i.data("selectBox-settings"),r=0,a=0;if(!n.hasClass("selectBox-disabled"))switch(t.keyCode){case 8:t.preventDefault(),this.typeSearch="";break;case 9:case 27:this.hideMenus(),this.removeHover();break;case 13:n.hasClass("selectBox-menuShowing")?(this.selectOption(o.find("LI.selectBox-hover:first"),t),n.hasClass("selectBox-dropdown")&&this.hideMenus()):this.showMenu();break;case 38:case 37:if(t.preventDefault(),n.hasClass("selectBox-menuShowing")){var l=o.find(".selectBox-hover").prev("LI");for(r=o.find("LI:not(.selectBox-optgroup)").length,a=0;(0===l.length||l.hasClass("selectBox-disabled")||l.hasClass("selectBox-optgroup"))&&(l=l.prev("LI"),0===l.length&&(l=s.loopOptions?o.find("LI:last"):o.find("LI:first")),!(++a>=r)););this.addHover(l),this.selectOption(l,t),this.keepOptionInView(l)}else this.showMenu();break;case 40:case 39:if(t.preventDefault(),n.hasClass("selectBox-menuShowing")){var c=o.find(".selectBox-hover").next("LI");for(r=o.find("LI:not(.selectBox-optgroup)").length,a=0;(0===c.length||c.hasClass("selectBox-disabled")||c.hasClass("selectBox-optgroup"))&&(c=c.next("LI"),0===c.length&&(c=s.loopOptions?o.find("LI:first"):o.find("LI:last")),!(++a>=r)););this.addHover(c),this.selectOption(c,t),this.keepOptionInView(c)
}else this.showMenu()}},t.prototype.handleKeyPress=function(t){var i=e(this.selectElement),n=i.data("selectBox-control"),o=n.data("selectBox-options"),s=this;if(!n.hasClass("selectBox-disabled"))switch(t.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:n.hasClass("selectBox-menuShowing")||this.showMenu(),t.preventDefault(),clearTimeout(this.typeTimer),this.typeSearch+=String.fromCharCode(t.charCode||t.keyCode),o.find("A").each(function(){return e(this).text().substr(0,s.typeSearch.length).toLowerCase()===s.typeSearch.toLowerCase()?(s.addHover(e(this).parent()),s.selectOption(e(this).parent(),t),s.keepOptionInView(e(this).parent()),!1):void 0}),this.typeTimer=setTimeout(function(){s.typeSearch=""},1e3)}},t.prototype.enable=function(){var t=e(this.selectElement);t.prop("disabled",!1);var i=t.data("selectBox-control");i&&i.removeClass("selectBox-disabled")},t.prototype.disable=function(){var t=e(this.selectElement);t.prop("disabled",!0);var i=t.data("selectBox-control");i&&i.addClass("selectBox-disabled")},t.prototype.setValue=function(t){var i=e(this.selectElement);i.val(t),t=i.val(),null===t&&(t=i.children().first().val(),i.val(t));var n=i.data("selectBox-control");if(n){var o=i.data("selectBox-settings"),s=n.data("selectBox-options");this.setLabel(),s.find(".selectBox-selected").removeClass("selectBox-selected"),s.find("A").each(function(){if("object"==typeof t)for(var i=0;i<t.length;i++)e(this).attr("rel")==t[i]&&e(this).parent().addClass("selectBox-selected");else e(this).attr("rel")==t&&e(this).parent().addClass("selectBox-selected")}),o.change&&o.change.call(i)}},t.prototype.setOptions=function(t){var i=e(this.selectElement),n=i.data("selectBox-control");switch(typeof t){case"string":i.html(t);break;case"object":i.html("");for(var o in t)if(null!==t[o])if("object"==typeof t[o]){var s=e('<optgroup label="'+o+'" />');for(var r in t[o])s.append('<option value="'+r+'">'+t[o][r]+"</option>");i.append(s)}else{var a=e('<option value="'+o+'">'+t[o]+"</option>");i.append(a)}}n&&this.refresh()},t.prototype.disableSelection=function(t){e(t).css("MozUserSelect","none").bind("selectstart",function(e){e.preventDefault()})},t.prototype.generateOptions=function(t,i){var n=e("<li />"),o=e("<a />");n.addClass(t.attr("class")),n.data(t.data()),o.attr("rel",t.val()).html((t.data("label")||t.text())+"&nbsp;&nbsp;"),n.append(o),t.attr("disabled")&&n.addClass("selectBox-disabled"),t.attr("selected")&&n.addClass("selectBox-selected"),i.append(n)},e.extend(e.fn,{selectBox:function(i,n){var o;switch(i){case"control":return e(this).data("selectBox-control");case"settings":if(!n)return e(this).data("selectBox-settings");e(this).each(function(){e(this).data("selectBox-settings",e.extend(!0,e(this).data("selectBox-settings"),n))});break;case"options":if(void 0===n)return e(this).data("selectBox-control").data("selectBox-options");e(this).each(function(){(o=e(this).data("selectBox"))&&o.setOptions(n)});break;case"value":if(void 0===n)return e(this).val();e(this).each(function(){(o=e(this).data("selectBox"))&&o.setValue(n)});break;case"refresh":e(this).each(function(){(o=e(this).data("selectBox"))&&o.refresh()});break;case"enable":e(this).each(function(){(o=e(this).data("selectBox"))&&o.enable(this)});break;case"disable":e(this).each(function(){(o=e(this).data("selectBox"))&&o.disable()});break;case"destroy":e(this).each(function(){(o=e(this).data("selectBox"))&&(o.destroy(),e(this).data("selectBox",null))});break;case"instance":return e(this).data("selectBox");default:e(this).each(function(n,o){e(o).data("selectBox")||e(o).data("selectBox",new t(o,i))})}return e(this)}})}(jQuery),function(e){e.fn.popupMenu=function(t){return t=t||{},this.each(function(){var i=e(this),n=t.onSelect||function(){};i.find(".popup-menu-trigger").click(function(){i.find(".popup-menu-items").fadeIn(100),e(document).keyup(function(e){27==e.keyCode&&i.find(".popup-menu-items").fadeOut(100)}),i.find(".popup-menu-items").hover(function(){},function(){e(this).fadeOut(100)})}),i.find(".popup-menu-items li").click(function(){i.find(".popup-menu-items").fadeOut(100),n(e(this))})})}}(jQuery),$(document).ready(function(){function e(e,t,i){if(i){var n=$(e).parents("table").siblings("a.add_fields").clone();$(n).attr("title","New Order Item from "+t);var o=$(n).attr("data-association-insertion-template");$(n).attr("data-association-insertion-template",o.insertAt(3,' data-vendor-path="'+i+'"')),$(e).find(".shallow-clone-link").replaceWith(n)}}$("#order-manual-form").on("click",".nested-fields.order-items a.choose-item",function(e){e.preventDefault(),$(".order-items.nested-fields a.editing").each(function(){$(this).removeClass("editing")}),$(this).addClass("editing")}),$("body").on("submit","form.add-order-item",function(t){t.preventDefault();var i,n,o=$(this).find("select[name=item_id]");$(o).length>0?(i=$(o).val(),n=$(o).find("option[value="+i+"]").data("item-name")):(o=$(this).find("[name=item_id]"),i=$(o).val(),n=$(o).data("item-name")),n=$("<div/>").html(n).text();var s=$(o).parents("form").find("input[name=quantity]").val()||1,r=$(this).parents("#vendor-show"),a=r.find("#vendor-name").text(),l=r.find("#vendor-id").text(),c=$(".order-items.nested-fields a.editing");c.removeClass("editing");var d=$(c).parents("tr");d.find(".item-id").val(),d.find(".item-id").val(i),d.find(".item-name").html(n),d.find(".item-quantity").val(s);var u=$(d).find("a.choose-item"),h=$(u).data("vendor-path").replace("999999",l),p=h+"&item_id="+(i||existingItemId_id);$(u).removeClass("new-item"),$(u).prop("href",p),e(d,a,h),PPP.modalsClose()}),$("tr td span.shallow-clone-link").livequery(function(){var t=$(this),i=t.attr("data-vendor-path"),n=t.attr("data-vendor-name"),o=t.parents("tr");e(o,n,i)})}),function(){function e(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e}function t(){for(var e=0,t=arguments,i=t.length,n={};i>e;e++)n[t[e++]]=t[e];return n}function i(e,t){return parseInt(e,t||10)}function n(e){return"string"==typeof e}function o(e){return"object"==typeof e}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"number"==typeof e}function a(e){return pt.log(e)/pt.LN10}function l(e){return pt.pow(10,e)}function c(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function d(e){return e!==U&&null!==e}function u(e,t,i){var s,r,a="setAttribute";if(n(t))d(i)?e[a](t,i):e&&e.getAttribute&&(r=e.getAttribute(t));else if(d(t)&&o(t))for(s in t)e[a](s,t[s]);return r}function h(e){return s(e)?e:[e]}function p(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],"undefined"!=typeof t&&null!==t)return t}function f(t,i){St&&i&&i.opacity!==U&&(i.filter="alpha(opacity="+100*i.opacity+")"),e(t.style,i)}function m(t,i,n,o,s){var r=ut.createElement(t);return i&&e(r,i),s&&f(r,{padding:0,border:Vt,margin:0}),n&&f(r,n),o&&o.appendChild(r),r}function g(t,i){var n=function(){};return n.prototype=new t,e(n.prototype,i),n}function v(e){return e=(e||0).toString(),e.indexOf(".")>-1?e.split(".")[1].length:0}function y(e,t,n,o){var s=G.lang,r=e,a=-1===t?v(e):isNaN(t=bt(t))?2:t,l=void 0===n?s.decimalPoint:n,c=void 0===o?s.thousandsSep:o,d=0>r?"-":"",u=String(i(r=bt(+r||0).toFixed(a))),h=u.length>3?u.length%3:0;return d+(h?u.substr(0,h)+c:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?l+bt(r-u).toFixed(a).slice(2):"")}function b(e,t){return new Array((t||2)+1-String(e).length).join(0)+e}function x(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}}function w(e,t,i,n){var o,s;for(i=p(i,1),o=e/i,t||(t=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?t=[1,2,5,10]:.1>=i&&(t=[1/i]))),s=0;s<t.length&&(e=t[s],!(o<=(t[s]+(t[s+1]||t[s]))/2));s++);return e*=i}function _(e,t){var i,n,o=t||[[ei,[1,2,5,10,20,25,50,100,200,500]],[ti,[1,2,5,10,15,30]],[ii,[1,2,5,10,15,30]],[ni,[1,2,3,4,6,8,12]],[oi,[1,2]],[si,[1,2]],[ri,[1,2,3,4,6]],[ai,null]],s=o[o.length-1],r=Z[s[0]],a=s[1];for(n=0;n<o.length;n++)if(s=o[n],r=Z[s[0]],a=s[1],o[n+1]){var l=(r*a[a.length-1]+Z[o[n+1][0]])/2;if(l>=e)break}return r===Z[ai]&&5*r>e&&(a=[1,2,5]),r===Z[ai]&&5*r>e&&(a=[1,2,5]),i=w(e/r,a),{unitRange:r,count:i,unitName:s[0]}}function C(t,i,n,o){var s,r,a=[],l={},c=G.global.useUTC,u=new Date(i),h=t.unitRange,f=t.count;if(d(i)){h>=Z[ti]&&(u.setMilliseconds(0),u.setSeconds(h>=Z[ii]?0:f*mt(u.getSeconds()/f))),h>=Z[ii]&&u[rt](h>=Z[ni]?0:f*mt(u[et]()/f)),h>=Z[ni]&&u[at](h>=Z[oi]?0:f*mt(u[tt]()/f)),h>=Z[oi]&&u[lt](h>=Z[ri]?1:f*mt(u[nt]()/f)),h>=Z[ri]&&(u[ct](h>=Z[ai]?0:f*mt(u[ot]()/f)),r=u[st]()),h>=Z[ai]&&(r-=r%f,u[dt](r)),h===Z[si]&&u[lt](u[nt]()-u[it]()+p(o,1)),s=1,r=u[st]();for(var m=u.getTime(),g=u[ot](),v=u[nt](),y=c?0:(864e5+1e3*60*u.getTimezoneOffset())%864e5;n>m;)a.push(m),h===Z[ai]?m=J(r+s*f,0):h===Z[ri]?m=J(r,g+s*f):c||h!==Z[oi]&&h!==Z[si]?(m+=h*f,h<=Z[ni]&&m%Z[oi]===y&&(l[m]=oi)):m=J(r,g,v+s*f*(h===Z[oi]?1:7)),s++;a.push(m)}return a.info=e(t,{higherRanks:l,totalRange:h*f}),a}function k(){this.color=0,this.symbol=0}function T(e,t){var i,n,o=e.length;for(n=0;o>n;n++)e[n].ss_i=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.ss_i-n.ss_i:i}),n=0;o>n;n++)delete e[n].ss_i}function S(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function E(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function D(e,t){var i;for(i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function A(e){V||(V=m(zt)),e&&V.appendChild(e),V.innerHTML=""}function M(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;ht.console&&console.log(i)}function N(e){return parseFloat(e.toPrecision(14))}function P(e,t){K=p(e,t.animation)}function I(){var e=G.global.useUTC,t=e?"getUTC":"get",i=e?"setUTC":"set";J=e?Date.UTC:function(e,t,i,n,o,s){return new Date(e,t,p(i,1),p(n,0),p(o,0),p(s,0)).getTime()},et=t+"Minutes",tt=t+"Hours",it=t+"Day",nt=t+"Date",ot=t+"Month",st=t+"FullYear",rt=i+"Minutes",at=i+"Hours",lt=i+"Date",ct=i+"Month",dt=i+"FullYear"}function B(e){return G=Ci(G,e),I(),G}function L(){return G}function O(){}function R(e,t,i){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,i||this.addLabel()}function H(e,t){return this.axis=e,t&&(this.options=t,this.id=t.id),this}function F(e,t,i,n,o,s){var r=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.stack=o,this.percent="percent"===s,this.alignOptions={align:t.align||(r?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":i?"bottom":"top"),y:p(t.y,r?4:i?14:-6),x:p(t.x,r?i?-6:6:0)},this.textAlign=t.textAlign||(r?i?"right":"left":"center")}function z(){this.init.apply(this,arguments)}function j(e,t){var n=t.borderWidth,o=t.style,s=i(o.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(o).css({padding:0}).hide().add(),Bt||this.label.shadow(t.shadow),this.shared=t.shared}function W(e,t){var i=Bt?"":t.chart.zoomType;this.zoomX=/x/.test(i),this.zoomY=/y/.test(i),this.options=t,this.chart=e,this.init(e,t.tooltip)}function $(e){this.init(e)}function q(){this.init.apply(this,arguments)}var U,Y,V,G,X,K,Q,Z,J,et,tt,it,nt,ot,st,rt,at,lt,ct,dt,ut=document,ht=window,pt=Math,ft=pt.round,mt=pt.floor,gt=pt.ceil,vt=pt.max,yt=pt.min,bt=pt.abs,xt=pt.cos,wt=pt.sin,_t=pt.PI,Ct=2*_t/360,kt=navigator.userAgent,Tt=ht.opera,St=/msie/i.test(kt)&&!Tt,Et=8===ut.documentMode,Dt=/AppleWebKit/.test(kt),At=/Firefox/.test(kt),Mt=/(Mobile|Android|Windows Phone)/.test(kt),Nt="http://www.w3.org/2000/svg",Pt=!!ut.createElementNS&&!!ut.createElementNS(Nt,"svg").createSVGRect,It=At&&parseInt(kt.split("Firefox/")[1],10)<4,Bt=!Pt&&!St&&!!ut.createElement("canvas").getContext,Lt=ut.documentElement.ontouchstart!==U,Ot={},Rt=0,Ht=function(){},Ft=[],zt="div",jt="absolute",Wt="relative",$t="hidden",qt="highcharts-",Ut="visible",Yt="px",Vt="none",Gt="M",Xt="L",Kt="rgba(192,192,192,"+(Pt?1e-4:.002)+")",Qt="",Zt="hover",Jt="select",ei="millisecond",ti="second",ii="minute",ni="hour",oi="day",si="week",ri="month",ai="year",li="fill",ci="linearGradient",di="stops",ui="stroke",hi="stroke-width",pi={};ht.Highcharts={},X=function(e,t,i){if(!d(t)||isNaN(t))return"Invalid date";e=p(e,"%Y-%m-%d %H:%M:%S");var n,o=new Date(t),s=o[tt](),r=o[it](),a=o[nt](),l=o[ot](),c=o[st](),u=G.lang,h=u.weekdays,f={a:h[r].substr(0,3),A:h[r],d:b(a),e:a,b:u.shortMonths[l],B:u.months[l],m:b(l+1),y:c.toString().substr(2,2),Y:c,H:b(s),I:b(s%12||12),l:s%12||12,M:b(o[et]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(o.getSeconds()),L:b(ft(t%1e3),3)};for(n in f)for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,f[n]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},k.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},Z=t(ei,1,ti,1e3,ii,6e4,ni,36e5,oi,864e5,si,6048e5,ri,26784e5,ai,31556952e3),Q={init:function(e,t,i){t=t||"";var n,o,s,r,a,l=e.shift,c=t.indexOf("C")>-1,d=c?7:3,u=t.split(" "),h=[].concat(i),p=function(e){for(s=e.length;s--;)e[s]===Gt&&e.splice(s+1,0,e[s+1],e[s+2],e[s+1],e[s+2])};if(c&&(p(u),p(h)),e.isArea&&(r=u.splice(u.length-6,6),a=h.splice(h.length-6,6)),l<=h.length/d)for(;l--;)h=[].concat(h).splice(0,d).concat(h);if(e.shift=0,u.length)for(n=h.length;u.length<n;)o=[].concat(u).splice(u.length-d,d),c&&(o[d-6]=o[d-2],o[d-5]=o[d-1]),u=u.concat(o);return r&&(u=u.concat(r),h=h.concat(a)),[u,h]},step:function(e,t,i,n){var o,s=[],r=e.length;if(1===i)s=n;else if(r===t.length&&1>i)for(;r--;)o=parseFloat(e[r]),s[r]=isNaN(o)?e[r]:i*parseFloat(t[r]-o)+o;else s=t;return s}},function(t){ht.HighchartsAdapter=ht.HighchartsAdapter||t&&{init:function(e){var i,n=t.fx,o=n.step,s=t.Tween,r=s&&s.propHooks;t.extend(t.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}}),t.each(["cur","_default","width","height"],function(e,t){var i,a,l=o;"cur"===t?l=n.prototype:"_default"===t&&s&&(l=r[t],t="set"),i=l[t],i&&(l[t]=function(n){return n=e?n:this,a=n.elem,a.attr?a.attr(n.prop,"cur"===t?U:n.now):i.apply(this,arguments)})}),i=function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))},s?r.d={set:i}:o.d=i,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(e,t){for(var i=[],n=0,o=e.length;o>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},merge:function(){var e=arguments;return t.extend(!0,null,e[0],e[1],e[2],e[3])},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var o=ut.removeEventListener?"removeEventListener":"detachEvent";ut[o]&&!e[o]&&(e[o]=function(){}),t(e).unbind(i,n)},fireEvent:function(i,n,o,s){var r,a=t.Event(n),l="detached"+n;!St&&o&&(delete o.layerX,delete o.layerY),e(a,o),i[n]&&(i[l]=i[n],i[n]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var i=a[t];a[t]=function(){try{i.call(a)}catch(e){"preventDefault"===t&&(r=!0)}}}),t(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),!s||a.isDefaultPrevented()||r||s(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===U&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,i,n){var o=t(e);i.d&&(e.toD=i.d,i.d=1),o.stop(),o.animate(i,n)},stop:function(e){t(e).stop()}}}(ht.jQuery);var fi=ht.HighchartsAdapter,mi=fi||{};fi&&fi.init.call(fi,Q);var gi=mi.adapterRun,vi=mi.getScript,yi=mi.inArray,bi=mi.each,xi=mi.grep,wi=mi.offset,_i=mi.map,Ci=mi.merge,ki=mi.addEvent,Ti=mi.removeEvent,Si=mi.fireEvent,Ei=mi.washMouseEvent,Di=mi.animate,Ai=mi.stop,Mi={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};G={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Ci(Mi,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:jt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:jt,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:Wt,top:"1em"},style:{position:jt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:Bt,snap:Mt?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Ni=G.plotOptions,Pi=Ni.line;I();var Ii=function(e){function t(e){a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e),a?l=[i(a[1]),i(a[2]),i(a[3]),parseFloat(a[4],10)]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),a&&(l=[i(a[1],16),i(a[2],16),i(a[3],16),1]))}function n(t){var i;return i=l&&!isNaN(l[0])?"rgb"===t?"rgb("+l[0]+","+l[1]+","+l[2]+")":"a"===t?l[3]:"rgba("+l.join(",")+")":e}function o(e){if(r(e)&&0!==e){var t;for(t=0;3>t;t++)l[t]+=i(255*e),l[t]<0&&(l[t]=0),l[t]>255&&(l[t]=255)}return this}function s(e){return l[3]=e,this}var a,l=[];return t(e),{get:n,brighten:o,setOpacity:s}};O.prototype={init:function(e,t){var i=this;i.element="span"===t?m(t):ut.createElementNS(Nt,t),i.renderer=e,i.attrSetters={}},animate:function(e,t,i){var n=p(t,K,!0);Ai(this),n?(n=Ci(n),i&&(n.complete=i),Di(this,e,n)):(this.attr(e),i&&i())},attr:function(e,t){var o,s,r,a,l,c,h,p,f,m=this,g=m.element,v=g.nodeName.toLowerCase(),y=m.renderer,b=m.attrSetters,x=m.shadows,w=m;if(n(e)&&d(t)&&(o=e,e={},e[o]=t),n(e))o=e,"circle"===v?o={x:"cx",y:"cy"}[o]||o:"strokeWidth"===o&&(o="stroke-width"),w=u(g,o)||m[o]||0,"d"!==o&&"visibility"!==o&&(w=parseFloat(w));else for(o in e)if(c=!1,s=e[o],r=b[o]&&b[o].call(m,s,o),r!==!1){if(r!==U&&(s=r),"d"===o)s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if("x"===o&&"text"===v){for(a=0;a<g.childNodes.length;a++)l=g.childNodes[a],u(l,"x")===u(g,"x")&&u(l,"x",s);m.rotation&&u(g,"transform","rotate("+m.rotation+" "+s+" "+i(e.y||u(g,"y"))+")")}else if("fill"===o)s=y.color(s,g,o);else if("circle"!==v||"x"!==o&&"y"!==o)if("rect"===v&&"r"===o)u(g,{rx:s,ry:s}),c=!0;else if("translateX"===o||"translateY"===o||"rotation"===o||"verticalAlign"===o)f=!0,c=!0;else if("stroke"===o)s=y.color(s,g,o);else if("dashstyle"===o){if(o="stroke-dasharray",s=s&&s.toLowerCase(),"solid"===s)s=Vt;else if(s){for(s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=s.length;a--;)s[a]=i(s[a])*e["stroke-width"];s=s.join(",")}}else"isTracker"===o?m[o]=s:"width"===o?s=i(s):"align"===o?(o="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):"title"===o&&(h=g.getElementsByTagName("title")[0],h||(h=ut.createElementNS(Nt,"title"),g.appendChild(h)),h.textContent=s);else o={x:"cx",y:"cy"}[o]||o;if("strokeWidth"===o&&(o="stroke-width"),"stroke-width"===o&&0===s&&(Dt||y.forExport)&&(s=1e-6),m.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(o)&&(p||(m.symbolAttr(e),p=!0),c=!0),x&&/^(width|height|visibility|x|y|d|transform)$/.test(o))for(a=x.length;a--;)u(x[a],o,"height"===o?vt(s-(x[a].cutHeight||0),0):s);("width"===o||"height"===o)&&"rect"===v&&0>s&&(s=0),m[o]=s,f&&m.updateTransform(),"text"===o?(s!==m.textStr&&delete m.bBox,m.textStr=s,m.added&&y.buildText(m)):c||u(g,o,s)}return w},symbolAttr:function(e){var t=this;bi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){t[i]=p(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Vt)},crisp:function(e,t,i,n,o){var s,r,a=this,l={},c={};e=e||a.strokeWidth||a.attr&&a.attr("stroke-width")||0,r=ft(e)%2/2,c.x=mt(t||a.x||0)+r,c.y=mt(i||a.y||0)+r,c.width=mt((n||a.width||0)-2*r),c.height=mt((o||a.height||0)-2*r),c.strokeWidth=e;for(s in c)a[s]!==c[s]&&(a[s]=l[s]=c[s]);return l},css:function(t){var i,n=this,o=n.element,s=t&&t.width&&"text"===o.nodeName.toLowerCase(),r="",a=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),t=e(n.styles,t),n.styles=t,Bt&&s&&delete t.width,St&&!Pt)s&&delete t.width,f(n.element,t);else{for(i in t)r+=i.replace(/([A-Z])/g,a)+":"+t[i]+";";n.attr({style:r})}return s&&n.added&&n.renderer.buildText(n),n},on:function(e,t){return Lt&&"click"===e&&(this.element.ontouchstart=function(e){e.preventDefault(),t()}),this.element["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},htmlCss:function(t){var i=this,n=i.element,o=t&&"SPAN"===n.tagName&&t.width;return o&&(delete t.width,i.textWidth=o,i.updateTransform()),i.styles=e(i.styles,t),f(i.element,t),i},htmlGetBBox:function(){var e=this,t=e.element,i=e.bBox;return i||("text"===t.nodeName&&(t.style.position=jt),i=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var e=this,t=e.renderer,n=e.element,o=e.translateX||0,s=e.translateY||0,r=e.x||0,a=e.y||0,l=e.textAlign||"left",c={left:0,center:.5,right:1}[l],u=l&&"left"!==l,h=e.shadows;if((o||s)&&(f(n,{marginLeft:o,marginTop:s}),h&&bi(h,function(e){f(e,{marginLeft:o+1,marginTop:s+1})})),e.inverted&&bi(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName){var m,g,v,y,b,x=e.rotation,w=0,_=1,C=0,k=i(e.textWidth),T=e.xCorr||0,S=e.yCorr||0,E=[x,l,n.innerHTML,e.textWidth].join(","),D={};E!==e.cTT&&(d(x)&&(t.isSVG?(b=St?"-ms-transform":Dt?"-webkit-transform":At?"MozTransform":Tt?"-o-transform":"",D[b]=D.transform="rotate("+x+"deg)"):(w=x*Ct,_=xt(w),C=wt(w),D.filter=x?["progid:DXImageTransform.Microsoft.Matrix(M11=",_,", M12=",-C,", M21=",C,", M22=",_,", sizingMethod='auto expand')"].join(""):Vt),f(n,D)),m=p(e.elemWidth,n.offsetWidth),g=p(e.elemHeight,n.offsetHeight),m>k&&/[ \-]/.test(n.textContent||n.innerText)&&(f(n,{width:k+Yt,display:"block",whiteSpace:"normal"}),m=k),v=t.fontMetrics(n.style.fontSize).b,T=0>_&&-m,S=0>C&&-g,y=0>_*C,T+=C*v*(y?1-c:c),S-=_*v*(x?y?c:1-c:1),u&&(T-=m*c*(0>_?-1:1),x&&(S-=g*c*(0>C?-1:1)),f(n,{textAlign:l})),e.xCorr=T,e.yCorr=S),f(n,{left:r+T+Yt,top:a+S+Yt}),Dt&&(g=n.offsetHeight),e.cTT=E}},updateTransform:function(){var e=this,t=e.translateX||0,i=e.translateY||0,n=e.inverted,o=e.rotation,s=[];n&&(t+=e.attr("width"),i+=e.attr("height")),(t||i)&&s.push("translate("+t+","+i+")"),n?s.push("rotate(90) scale(-1,1)"):o&&s.push("rotate("+o+" "+(e.x||0)+" "+(e.y||0)+")"),s.length&&u(e.element,"transform",s.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var n=this;e?(n.alignOptions=e,n.alignByTranslate=t,i||n.renderer.alignedObjects.push(n)):(e=n.alignOptions,t=n.alignByTranslate),i=p(i,n.renderer);var o=e.align,s=e.verticalAlign,r=(i.x||0)+(e.x||0),a=(i.y||0)+(e.y||0),l={};return("right"===o||"center"===o)&&(r+=(i.width-(e.width||0))/{right:1,center:2}[o]),l[t?"translateX":"x"]=ft(r),("bottom"===s||"middle"===s)&&(a+=(i.height-(e.height||0))/({bottom:1,middle:2}[s]||1)),l[t?"translateY":"y"]=ft(a),n[n.placed?"animate":"attr"](l),n.placed=!0,n.alignAttr=l,n},getBBox:function(){var t,i,n=this,o=n.bBox,s=n.renderer,r=n.rotation,a=n.element,l=n.styles,c=r*Ct;if(!o){if(a.namespaceURI===Nt||s.forExport){try{o=a.getBBox?e({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight}}catch(d){}(!o||o.width<0)&&(o={width:0,height:0})}else o=n.htmlGetBBox();s.isSVG&&(t=o.width,i=o.height,St&&l&&"11px"===l.fontSize&&22.700000762939453===i&&(o.height=i=14),r&&(o.width=bt(i*wt(c))+bt(t*xt(c)),o.height=bt(i*xt(c))+bt(t*wt(c)))),n.bBox=o}return o},show:function(){return this.attr({visibility:Ut})},hide:function(){return this.attr({visibility:$t})},add:function(e){var t,n,o,s,r=this.renderer,a=e||r,l=a.element||r.box,c=l.childNodes,h=this.element,p=u(h,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&r.buildText(this),p&&(a.handleZ=!0,p=i(p)),a.handleZ)for(o=0;o<c.length;o++)if(t=c[o],n=u(t,"zIndex"),t!==h&&(i(n)>p||!d(p)&&d(n))){l.insertBefore(h,t),s=!0;break}return s||l.appendChild(h),this.added=!0,Si(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},o=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,Ai(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}i.safeRemoveChild(n),o&&bi(o,function(e){i.safeRemoveChild(e)}),c(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},empty:function(){for(var e=this.element,t=e.childNodes,i=t.length;i--;)e.removeChild(t[i])},shadow:function(e,t,i){var n,o,s,r,a,l,c=[],d=this.element;if(e){for(r=p(e.width,3),a=(e.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")",n=1;r>=n;n++)o=d.cloneNode(0),s=2*r+1-2*n,u(o,{isShadow:"true",stroke:e.color||"black","stroke-opacity":a*n,"stroke-width":s,transform:"translate"+l,fill:Vt}),i&&(u(o,"height",vt(u(o,"height")-s,0)),o.cutHeight=s),t?t.element.appendChild(o):d.parentNode.insertBefore(o,d),c.push(o);this.shadows=c}return this}};var Bi=function(){this.init.apply(this,arguments)};Bi.prototype={Element:O,init:function(e,t,i,n){var o,s=this,r=location;o=s.createElement("svg").attr({xmlns:Nt,version:"1.1"}),e.appendChild(o.element),s.isSVG=!0,s.box=o.element,s.boxWrapper=o,s.alignedObjects=[],s.url=(At||Dt)&&ut.getElementsByTagName("base").length?r.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",s.defs=this.createElement("defs").add(),s.forExport=n,s.gradients={},s.setSize(t,i,!1);var a,l;At&&e.getBoundingClientRect&&(s.subPixelFix=a=function(){f(e,{left:0,top:0}),l=e.getBoundingClientRect(),f(e,{left:gt(l.left)-l.left+Yt,top:gt(l.top)-l.top+Yt})},a(),ki(ht,"resize",a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),D(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&Ti(ht,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){function t(t){return y[t]=o.getBBox?o.getBBox().height:e.renderer.fontMetrics(o.style.fontSize).h,ft(y[t]-(y[t-1]||0))}for(var n,o=e.element,s=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=o.childNodes,a=/style="([^"]+)"/,l=/href="([^"]+)"/,c=u(o,"x"),d=e.styles,h=d&&d.width&&i(d.width),m=d&&d.lineHeight,g="getComputedStyle",v=r.length,y=[];v--;)o.removeChild(r[v]);h&&!e.added&&this.box.appendChild(o),""===s[s.length-1]&&s.pop(),bi(s,function(s,r){var d,p,v=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=s.split("|||"),bi(d,function(s){if(""!==s||1===d.length){var y,b={},x=ut.createElementNS(Nt,"tspan");if(a.test(s)&&(y=s.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(x,"style",y)),l.test(s)&&(u(x,"onclick",'location.href="'+s.match(l)[1]+'"'),f(x,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),x.appendChild(ut.createTextNode(s)),v?b.dx=3:b.x=c,v||(r&&(!Pt&&e.renderer.forExport&&f(x,{display:"block"}),p=ht[g]&&i(ht[g](n,null).getPropertyValue("line-height")),(!p||isNaN(p))&&(p=m||n.offsetHeight||t(r)||18),u(x,"dy",p)),n=x),u(x,b),o.appendChild(x),v++,h)for(var w,_,C=s.replace(/([^\^])-/g,"$1- ").split(" "),k=[];C.length||k.length;)delete e.bBox,_=e.getBBox().width,w=_>h,w&&1!==C.length?(x.removeChild(x.firstChild),k.unshift(C.pop())):(C=k,k=[],C.length&&(x=ut.createElementNS(Nt,"tspan"),u(x,{dy:m||16,x:c}),y&&u(x,"style",y),o.appendChild(x),_>h&&(h=_))),C.length&&x.appendChild(ut.createTextNode(C.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,o,s,r,a,l){var c,d,u,h,p,f=this.label(i,n,o),m=0,g="style",v={x1:0,y1:0,x2:0,y2:1};return r=Ci(t(hi,1,ui,"#999",li,t(ci,v,di,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,g,t("color","black")),r),u=r[g],delete r[g],a=Ci(r,t(ui,"#68A",li,t(ci,v,di,[[0,"#FFF"],[1,"#ACF"]])),a),h=a[g],delete a[g],l=Ci(r,t(ui,"#68A",li,t(ci,v,di,[[0,"#9BD"],[1,"#CDF"]])),l),p=l[g],delete l[g],ki(f.element,"mouseenter",function(){f.attr(a).css(h)}),ki(f.element,"mouseleave",function(){c=[r,a,l][m],d=[u,h,p][m],f.attr(c).css(d)}),f.setState=function(e){m=e,e?2===e&&f.attr(l).css(p):f.attr(r).css(u)},f.on("click",function(){s.call(f)}).attr(r).css(e({cursor:"default"},u))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=ft(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=ft(e[2])+t%2/2),e},path:function(t){var i={fill:Vt};return s(t)?i.d=t:o(t)&&e(i,t),this.createElement("path").attr(i)},circle:function(e,t,i){var n=o(e)?e:{x:e,y:t,r:i};return this.createElement("circle").attr(n)},arc:function(e,t,i,n,s,r){return o(e)&&(t=e.y,i=e.r,n=e.innerR,s=e.start,r=e.end,e=e.x),this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:n||0,start:s||0,end:r||0})},rect:function(e,t,i,n,s,r){s=o(e)?e.r:s;var a=this.createElement("rect").attr({rx:s,ry:s,fill:Vt});return a.attr(o(e)?e:a.crisp(r,e,t,vt(i,0),vt(n,0)))},setSize:function(e,t,i){var n=this,o=n.alignedObjects,s=o.length;for(n.width=e,n.height=t,n.boxWrapper[p(i,!0)?"animate":"attr"]({width:e,height:t});s--;)o[s].align()},g:function(e){var t=this.createElement("g");return d(e)?t.attr({"class":qt+e}):t},image:function(t,i,n,o,s){var r,a={preserveAspectRatio:Vt};return arguments.length>1&&e(a,{x:i,y:n,width:o,height:s}),r=this.createElement("image").attr(a),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r
},symbol:function(t,i,n,o,s,r){var a,l,c,d,u,h=this.symbols[t],p=h&&h(ft(i),ft(n),o,s,r),f=/^url\((.*?)\)$/;return p?(a=this.path(p),e(a,{symbolName:t,x:i,y:n,width:o,height:s}),r&&e(a,r)):f.test(t)&&(u=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(ft((o-t[0])/2),ft((s-t[1])/2)))},c=t.match(f)[1],d=Ot[c],a=this.image(c).attr({x:i,y:n}),d?u(a,d):(a.attr({width:0,height:0}),l=m("img",{onload:function(){u(a,Ot[c]=[this.width,this.height])},src:c}))),a},symbols:{circle:function(e,t,i,n){var o=.166*i;return[Gt,e+i/2,t,"C",e+i+o,t,e+i+o,t+n,e+i/2,t+n,"C",e-o,t+n,e-o,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return[Gt,e,t,Xt,e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return[Gt,e+i/2,t,Xt,e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return[Gt,e,t,Xt,e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return[Gt,e+i/2,t,Xt,e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,o){var s=o.start,r=o.r||i||n,a=o.end-1e-6,l=o.innerR,c=o.open,d=xt(s),u=wt(s),h=xt(a),p=wt(a),f=o.end-s<_t?0:1;return[Gt,e+r*d,t+r*u,"A",r,r,0,f,1,e+r*h,t+r*p,c?Gt:Xt,e+l*h,t+l*p,"A",l,l,0,f,0,e+l*d,t+l*u,c?"":"Z"]}},clipRect:function(e,t,i,n){var o,s=qt+Rt++,r=this.createElement("clipPath").attr({id:s}).add(this.defs);return o=this.rect(e,t,i,n,0).add(r),o.id=s,o.clipPath=r,o},color:function(t,i,n){var o,r,a,l,c,h,p,f,m,g,v,y=this,b=/^rgba/,x=[];if(t&&t.linearGradient?r="linearGradient":t&&t.radialGradient&&(r="radialGradient"),r){a=t[r],l=y.gradients,h=t.stops,m=i.radialReference,s(a)&&(t[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&m&&!d(a.gradientUnits)&&e(a,{cx:m[0]-m[2]/2+a.cx*m[2],cy:m[1]-m[2]/2+a.cy*m[2],r:a.r*m[2],gradientUnits:"userSpaceOnUse"});for(g in a)"id"!==g&&x.push(g,a[g]);for(g in h)x.push(h[g]);return x=x.join(","),l[x]?v=l[x].id:(a.id=v=qt+Rt++,l[x]=c=y.createElement(r).attr(a).add(y.defs),c.stops=[],bi(h,function(e){var t;b.test(e[1])?(o=Ii(e[1]),p=o.get("rgb"),f=o.get("a")):(p=e[1],f=1),t=y.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(t)})),"url("+y.url+"#"+v+")"}return b.test(t)?(o=Ii(t),u(i,n+"-opacity",o.get("a")),o.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(e,t,i,n){var o,s=this,r=G.chart.style,a=Bt||!Pt&&s.forExport;return n&&!s.forExport?s.html(e,t,i):(t=ft(p(t,0)),i=ft(p(i,0)),o=s.createElement("text").attr({x:t,y:i,text:e}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),a&&o.css({position:jt}),o.x=t,o.y=i,o)},html:function(t,i,n){var o=G.chart.style,s=this.createElement("span"),r=s.attrSetters,a=s.element,l=s.renderer;return r.text=function(e){return e!==a.innerHTML&&delete this.bBox,a.innerHTML=e,!1},r.x=r.y=r.align=function(e,t){return"align"===t&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:t,x:ft(i),y:ft(n)}).css({position:jt,whiteSpace:"nowrap",fontFamily:o.fontFamily,fontSize:o.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(t){var i,n,o=l.box.parentNode,r=[];if(t){if(i=t.div,!i){for(n=t;n;)r.push(n),n=n.parentGroup;bi(r.reverse(),function(t){var n;i=t.div=t.div||m(zt,{className:u(t.element,"class")},{position:jt,left:(t.translateX||0)+Yt,top:(t.translateY||0)+Yt},i||o),n=i.style,e(t.attrSetters,{translateX:function(e){n.left=e+Yt},translateY:function(e){n.top=e+Yt},visibility:function(e,t){n[t]=e}})})}}else i=o;return i.appendChild(a),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){e=i(e||11);var t=24>e?e+4:ft(1.2*e),n=ft(.8*t);return{h:t,b:n}},label:function(t,i,n,o,s,r,a,l,c){function u(){var e,t=T.element.style;g=(void 0===v||void 0===y||k.styles.textAlign)&&T.getBBox(),k.width=(v||g.width||0)+2*E,k.height=(y||g.height||0)+2*E,w=E+C.fontMetrics(t&&t.fontSize).b,_&&(m||(e=l?-w:0,k.box=m=o?C.symbol(o,-S*E,e,k.width,k.height):C.rect(-S*E,e,k.width,k.height,0,A[hi]),m.add(k)),m.attr(Ci({width:k.width,height:k.height},A)),A=null)}function h(){var e,t=k.styles,i=t&&t.textAlign,n=E*(1-S);e=l?0:w,!d(v)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(v-g.width)),(n!==T.x||e!==T.y)&&T.attr({x:n,y:e}),T.x=n,T.y=e}function p(e,t){m?m.attr(e,t):A[e]=t}function f(){T.add(k),k.attr({text:t,x:i,y:n}),m&&d(s)&&k.attr({anchorX:s,anchorY:r})}var m,g,v,y,b,x,w,_,C=this,k=C.g(c),T=C.text("",0,0,a).attr({zIndex:1}),S=0,E=3,D=0,A={},M=k.attrSetters;ki(k,"add",f),M.width=function(e){return v=e,!1},M.height=function(e){return y=e,!1},M.padding=function(e){return d(e)&&e!==E&&(E=e,h()),!1},M.align=function(e){return S={left:0,center:.5,right:1}[e],!1},M.text=function(e,t){return T.attr(t,e),u(),h(),!1},M[hi]=function(e,t){return _=!0,D=e%2/2,p(t,e),!1},M.stroke=M.fill=M.r=function(e,t){return"fill"===t&&(_=!0),p(t,e),!1},M.anchorX=function(e,t){return s=e,p(t,e+D-b),!1},M.anchorY=function(e,t){return r=e,p(t,e-x),!1},M.x=function(e){return k.x=e,e-=S*((v||g.width)+E),b=ft(e),k.attr("translateX",b),!1},M.y=function(e){return x=k.y=ft(e),k.attr("translateY",e),!1};var N=k.css;return e(k,{css:function(e){if(e){var t={};e=Ci({},e),bi(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(i){e[i]!==U&&(t[i]=e[i],delete e[i])}),T.css(t)}return N.call(k,e)},getBBox:function(){return{width:g.width+2*E,height:g.height+2*E,x:g.x-E,y:g.y-E}},shadow:function(e){return m&&m.shadow(e),k},destroy:function(){Ti(k,"add",f),Ti(k.element,"mouseenter"),Ti(k.element,"mouseleave"),T&&(T=T.destroy()),m&&(m=m.destroy()),O.prototype.destroy.call(k),k=C=u=h=p=f=null}})}},Y=Bi;var Li;if(!Pt&&!Bt){var Oi={init:function(e,t){var i=this,n=["<",t,' filled="f" stroked="f"'],o=["position: ",jt,";"];("shape"===t||t===zt)&&o.push("left:0;top:0;width:1px;height:1px;"),Et&&o.push("visibility: ",t===zt?$t:Ut),n.push(' style="',o.join(""),'"/>'),t&&(n=t===zt||"span"===t||"img"===t?n.join(""):e.prepVML(n),i.element=m(n)),i.renderer=e,i.attrSetters={}},add:function(e){var t=this,i=t.renderer,n=t.element,o=i.box,s=e&&e.inverted,r=e?e.element||e:o;return s&&i.invertChild(n,r),r.appendChild(n),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),Si(t,"add"),t},updateTransform:O.prototype.htmlUpdateTransform,attr:function(e,t){var i,o,s,a,l,c,h=this,p=h.element||{},f=p.style,g=p.nodeName,v=h.renderer,y=h.symbolName,b=h.shadows,x=h.attrSetters,w=h;if(n(e)&&d(t)&&(i=e,e={},e[i]=t),n(e))i=e,w="strokeWidth"===i||"stroke-width"===i?h.strokeweight:h[i];else for(i in e)if(o=e[i],c=!1,a=x[i]&&x[i].call(h,o,i),a!==!1&&null!==o){if(a!==U&&(o=a),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(h.symbolAttr(e),l=!0),c=!0;else if("d"===i){o=o||[],h.d=o.join(" "),s=o.length;for(var _=[];s--;)_[s]=r(o[s])?ft(10*o[s])-5:"Z"===o[s]?"x":o[s];if(o=_.join(" ")||"x",p.path=o,b)for(s=b.length;s--;)b[s].path=b[s].cutOff?this.cutOffPath(o,b[s].cutOff):o;c=!0}else if("visibility"===i){if(b)for(s=b.length;s--;)b[s].style[i]=o;"DIV"===g&&(o=o===$t?"-999em":0,i="top"),f[i]=o,c=!0}else if("zIndex"===i)o&&(f[i]=o),c=!0;else if("width"===i||"height"===i)o=vt(0,o),this[i]=o,h.updateClipping?(h[i]=o,h.updateClipping()):f[i]=o,c=!0;else if("x"===i||"y"===i)h[i]=o,f[{x:"left",y:"top"}[i]]=o;else if("class"===i)p.className=o;else if("stroke"===i)o=v.color(o,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=o?!0:!1,i="strokeweight",h[i]=o,r(o)&&(o+=Yt);else if("dashstyle"===i){var C=p.getElementsByTagName("stroke")[0]||m(v.prepVML(["<stroke/>"]),null,null,p);C[i]=o||"solid",h.dashstyle=o,c=!0}else"fill"===i?"SPAN"===g?f.color=o:"IMG"!==g&&(p.filled=o!==Vt?!0:!1,o=v.color(o,p,i,h),i="fillcolor"):"shape"===g&&"rotation"===i?(h[i]=o,p.style.left=-ft(wt(o*Ct)+1)+Yt,p.style.top=ft(xt(o*Ct))+Yt):"translateX"===i||"translateY"===i||"rotation"===i?(h[i]=o,h.updateTransform(),c=!0):"text"===i&&(this.bBox=null,p.innerHTML=o,c=!0);c||(Et?p[i]=o:u(p,i,o))}return w},clip:function(e){var t,i,n=this,o=n.element,s=o.parentNode;return e?(t=e.members,c(t,n),t.push(n),n.destroyClip=function(){c(t,n)},s&&"highcharts-tracker"===s.className&&!Et&&f(o,{visibility:$t}),i=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Et?"inherit":"rect(auto)"}),n.css(i)},css:O.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&A(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),O.prototype.destroy.apply(this)},empty:function(){for(var e,t=this.element,i=t.childNodes,n=i.length;n--;)e=i[n],e.parentNode.removeChild(e)},on:function(e,t){return this.element["on"+e]=function(){var e=ht.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;return e=e.split(/[ ,]/),n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=i(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var o,s,r,a,l,c,d,u=[],h=this.element,f=this.renderer,g=h.style,v=h.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,e){for(c=p(e.width,3),d=(e.opacity||.15)/c,o=1;3>=o;o++)a=2*c+1-2*o,n&&(l=this.cutOffPath(v.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],s=m(f.prepVML(r),null,{left:i(g.left)+p(e.offsetX,1),top:i(g.top)+p(e.offsetY,1)}),n&&(s.cutOff=a+1),r=['<stroke color="',e.color||"black",'" opacity="',d*o,'"/>'],m(f.prepVML(r),null,null,s),t?t.element.appendChild(s):h.parentNode.insertBefore(s,h),u.push(s);this.shadows=u}return this}};Oi=g(O,Oi);var Ri={Element:Oi,isIE8:kt.indexOf("MSIE 8.0")>-1,init:function(e,t,i){var n,o,s=this;s.alignedObjects=[],n=s.createElement(zt),o=n.element,o.style.position=Wt,e.appendChild(n.element),s.box=o,s.boxWrapper=n,s.setSize(t,i,!1),ut.namespaces.hcv||(ut.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ut.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,i,n,s){var r=this.createElement(),a=o(t);return e(r,{members:[],left:a?t.x:t,top:a?t.y:i,width:a?t.width:n,height:a?t.height:s,getCSS:function(t){var i=t.inverted,n=this,o=n.top,s=n.left,r=s+n.width,a=o+n.height,l={clip:"rect("+ft(i?s:o)+"px,"+ft(i?a:r)+"px,"+ft(i?r:a)+"px,"+ft(i?o:s)+"px)"};return!i&&Et&&"IMG"!==t.element.nodeName&&e(l,{width:r+Yt,height:a+Yt}),l},updateClipping:function(){bi(r.members,function(e){e.css(r.getCSS(e))})}})},color:function(e,t,i,n){var o,s,r,a=this,l=/^rgba/,c=Vt;if(e&&e.linearGradient?r="gradient":e&&e.radialGradient&&(r="pattern"),r){var d,u,h,p,f,g,v,y,b,x,w,_,C=e.linearGradient||e.radialGradient,k="",T=e.stops,S=[],E=function(){s=['<fill colors="'+S.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',r,'" ',k,'focus="100%" method="any" />'],m(a.prepVML(s),null,null,t)};if(w=T[0],_=T[T.length-1],w[0]>0&&T.unshift([0,w[1]]),_[0]<1&&T.push([1,_[1]]),bi(T,function(e,t){l.test(e[1])?(o=Ii(e[1]),d=o.get("rgb"),u=o.get("a")):(d=e[1],u=1),S.push(100*e[0]+"% "+d),t?(y=u,b=d):(v=u,x=d)}),"fill"===i)if("gradient"===r)h=C.x1||C[0]||0,p=C.y1||C[1]||0,f=C.x2||C[2]||0,g=C.y2||C[3]||0,k='angle="'+(90-180*pt.atan((g-p)/(f-h))/_t)+'"',E();else{var D,A=C.r,M=2*A,N=2*A,P=C.cx,I=C.cy,B=t.radialReference,L=function(){B&&(D=n.getBBox(),P+=(B[0]-D.x)/D.width-.5,I+=(B[1]-D.y)/D.height-.5,M*=B[2]/D.width,N*=B[2]/D.height),k='src="'+G.global.VMLRadialGradientURL+'" '+'size="'+M+","+N+'" '+'origin="0.5,0.5" '+'position="'+P+","+I+'" '+'color2="'+x+'" ',E()};n.added?L():ki(n,"add",L),c=b}else c=d}else if(l.test(e)&&"IMG"!==t.tagName)o=Ii(e),s=["<",i,' opacity="',o.get("a"),'"/>'],m(this.prepVML(s),null,null,t),c=o.get("rgb");else{var O=t.getElementsByTagName(i);O.length&&(O[0].opacity=1),c=e}return c},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return e=e.join(""),i?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="'+t+'" />'):e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Bi.prototype.html,path:function(t){var i={coordsize:"10 10"};return s(t)?i.d=t:o(t)&&e(i,t),this.createElement("shape").attr(i)},circle:function(e,t,i){return this.symbol("circle").attr({x:e-i,y:t-i,width:2*i,height:2*i})},g:function(e){var t,i;return e&&(i={className:qt+e,"class":qt+e}),t=this.createElement(zt).attr(i)},image:function(e,t,i,n,o){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:i,width:n,height:o}),s},rect:function(e,t,i,n,s,r){o(e)&&(t=e.y,i=e.width,n=e.height,r=e.strokeWidth,e=e.x);var a=this.symbol("rect");return a.r=s,a.attr(a.crisp(r,e,t,vt(i,0),vt(n,0)))},invertChild:function(e,t){var n=t.style;f(e,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,i,n,o){var s,r=o.start,a=o.end,l=o.r||i||n,c=xt(r),d=wt(r),u=xt(a),h=wt(a),p=o.innerR,f=.08/l,m=p&&.1/p||0;return 0===a-r?["x"]:(f>2*_t-a+r?u=-f:m>a-r&&(u=xt(r+m)),s=["wa",e-l,t-l,e+l,t+l,e+l*c,t+l*d,e+l*u,t+l*h],o.open&&!p&&s.push("e",Gt,e,t),s.push("at",e-p,t-p,e+p,t+p,e+p*u,t+p*h,e+p*c,t+p*d,"x","e"),s)},circle:function(e,t,i,n){return["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,o){var s,r,a=e+i,l=t+n;return d(o)&&o.r?(r=yt(o.r,i,n),s=[Gt,e+r,t,Xt,a-r,t,"wa",a-2*r,t,a,t+2*r,a-r,t,a,t+r,Xt,a,l-r,"wa",a-2*r,l-2*r,a,l,a,l-r,a-r,l,Xt,e+r,l,"wa",e,l-2*r,e+2*r,l,e+r,l,e,l-r,Xt,e,t+r,"wa",e,t,e+2*r,t+2*r,e,t+r,e+r,t,"x","e"]):s=Bi.prototype.symbols.square.apply(0,arguments),s}}};Li=function(){this.init.apply(this,arguments)},Li.prototype=Ci(Bi.prototype,Ri),Y=Li}var Hi,Fi;Bt&&(Hi=function(){Nt="http://www.w3.org/1999/xhtml"},Hi.prototype.symbols={},Fi=function(){function e(){var e,i=t.length;for(e=0;i>e;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&vi(n,e),t.push(i)}}}()),Y=Li||Hi||Bi,R.prototype={addLabel:function(){var t,i,n,o,s=this,a=s.axis,c=a.options,u=a.chart,h=a.horiz,p=a.categories,f=s.pos,m=c.labels,g=a.tickPositions,v=p&&h&&p.length&&!m.step&&!m.staggerLines&&!m.rotation&&u.plotWidth/g.length||!h&&u.plotWidth/2,y=f===g[0],b=f===g[g.length-1],x=p&&d(p[f])?p[f]:f,w=s.label,_=g.info;a.isDatetimeAxis&&_&&(o=c.dateTimeLabelFormats[_.higherRanks[f]||_.unitName]),s.isFirst=y,s.isLast=b,t=a.labelFormatter.call({axis:a,chart:u,isFirst:y,isLast:b,dateTimeLabelFormat:o,value:a.isLog?N(l(x)):x}),i=v&&{width:vt(1,ft(v-2*(m.padding||10)))+Yt},i=e(i,m.style),d(w)?w&&w.attr({text:t}).css(i):(n={align:m.align},r(m.rotation)&&(n.rotation=m.rotation),s.label=d(t)&&m.enabled?u.renderer.text(t,0,0,m.useHTML).attr(n).css(i).add(a.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.labelBBox,t=this.axis,i=t.options,n=i.labels,o=e.width,s=o*{left:0,center:.5,right:1}[n.align]-n.x;return[-s,o-s]},handleOverflow:function(e,t){var i=!0,n=this.axis,o=n.chart,s=this.isFirst,r=this.isLast,a=t.x,l=n.reversed,c=n.tickPositions;if(s||r){var d=this.getLabelSides(),u=d[0],h=d[1],p=o.plotLeft,f=p+n.len,m=n.ticks[c[e+(s?1:-1)]],g=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[s?0:1];s&&!l||r&&l?p>a+u&&(a=p-u,m&&a+h>g&&(i=!1)):a+h>f&&(a=f-h,m&&g>a+u&&(i=!1)),t.x=a}return i},getPosition:function(e,t,i,n){var o=this.axis,s=o.chart,r=n&&s.oldChartHeight||s.chartHeight;return{x:e?o.translate(t+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:e?r-o.bottom+o.offset-(o.opposite?o.height:0):r-o.translate(t+i,null,null,n)-o.transB}},getLabelPosition:function(e,t,n,o,s,r,a,l){var c=this.axis,u=c.transA,h=c.reversed,p=c.staggerLines;return e=e+s.x-(r&&o?r*u*(h?-1:1):0),t=t+s.y-(r&&!o?r*u*(h?1:-1):0),d(s.y)||(t+=.9*i(n.styles.lineHeight)-n.getBBox().height/2),p&&(t+=16*(a/(l||1)%p)),{x:e,y:t}},getMarkPath:function(e,t,i,n,o,s){return s.crispLine([Gt,e,t,Xt,e+(o?0:-i),t+(o?i:0)],n)},render:function(e,t){var i,n,o,s=this,r=s.axis,a=r.options,l=r.chart,c=l.renderer,d=r.horiz,u=s.type,h=s.label,f=s.pos,m=a.labels,g=s.gridLine,v=u?u+"Grid":"grid",y=u?u+"Tick":"tick",b=a[v+"LineWidth"],x=a[v+"LineColor"],w=a[v+"LineDashStyle"],_=a[y+"Length"],C=a[y+"Width"]||0,k=a[y+"Color"],T=a[y+"Position"],S=s.mark,E=m.step,D=!0,A=r.tickmarkOffset,M=s.getPosition(d,f,A,t),N=M.x,P=M.y,I=r.staggerLines;b&&(i=r.getPlotLinePath(f+A,b,t),g===U&&(o={stroke:x,"stroke-width":b},w&&(o.dashstyle=w),u||(o.zIndex=1),s.gridLine=g=b?c.path(i).attr(o).add(r.gridGroup):null),!t&&g&&i&&g[s.isNew?"attr":"animate"]({d:i})),C&&_&&("inside"===T&&(_=-_),r.opposite&&(_=-_),n=s.getMarkPath(N,P,_,C,d,c),S?S.animate({d:n}):s.mark=c.path(n).attr({stroke:k,"stroke-width":C}).add(r.axisGroup)),h&&!isNaN(N)&&(h.xy=M=s.getLabelPosition(N,P,h,d,m,A,e,E),s.isFirst&&!p(a.showFirstLabel,1)||s.isLast&&!p(a.showLastLabel,1)?D=!1:I||!d||"justify"!==m.overflow||s.handleOverflow(e,M)||(D=!1),E&&e%E&&(D=!1),D?(h[s.isNew?"attr":"animate"](M),s.isNew=!1):h.attr("y",-9999))},destroy:function(){D(this,this.axis)}},H.prototype={render:function(){var e,t,i,n,o,s,r,l=this,c=l.axis,u=c.horiz,h=(c.pointRange||0)/2,f=l.options,m=f.label,g=l.label,v=f.width,y=f.to,b=f.from,x=d(b)&&d(y),w=f.value,_=f.dashStyle,C=l.svgElem,k=[],T=f.color,D=f.zIndex,A=f.events,M=c.chart.renderer;if(c.isLog&&(b=a(b),y=a(y),w=a(w)),v)k=c.getPlotLinePath(w,v),r={stroke:T,"stroke-width":v},_&&(r.dashstyle=_);else{if(!x)return;b=vt(b,c.min-h),y=yt(y,c.max+h),k=c.getPlotBandPath(b,y,f),r={fill:T},f.borderWidth&&(r.stroke=f.borderColor,r["stroke-width"]=f.borderWidth)}if(d(D)&&(r.zIndex=D),C)k?C.animate({d:k},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()});else if(k&&k.length&&(l.svgElem=C=M.path(k).attr(r).add(),A)){e=function(e){C.on(e,function(t){A[e].apply(l,[t])})};for(t in A)e(t)}return m&&d(m.text)&&k&&k.length&&c.width>0&&c.height>0?(m=Ci({align:u&&x&&"center",x:u?!x&&4:10,verticalAlign:!u&&x&&"middle",y:u?x?16:10:x?6:-4,rotation:u&&!x&&90},m),g||(l.label=g=M.text(m.text,0,0).attr({align:m.textAlign||m.align,rotation:m.rotation,zIndex:D}).css(m.style).add()),i=[k[1],k[4],p(k[6],k[1])],n=[k[2],k[5],p(k[7],k[2])],o=S(i),s=S(n),g.align(m,!1,{x:o,y:s,width:E(i)-o,height:E(n)-s}),g.show()):g&&g.hide(),l},destroy:function(){var e=this,t=e.axis;c(t.plotLinesAndBands,e),D(e,this.axis)}},F.prototype={destroy:function(){D(this,this.axis)},setTotal:function(e){this.total=e,this.cum=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:$t}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:$t}).add(e)},setOffset:function(e,t){var i,n=this,o=n.axis,s=o.chart,r=s.inverted,a=this.isNegative,l=o.translate(this.percent?100:this.total,0,0,0,1),c=o.translate(0),d=bt(l-c),u=s.xAxis[0].translate(this.x)+e,h=s.plotHeight,p={x:r?a?l:l-d:u,y:r?h-u-t:a?h-l-d:h-l,width:r?d:t,height:r?t:d},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f.attr({visibility:this.options.crop===!1||s.isInsidePlot(i.x,i.y)?Pt?"inherit":Ut:$t}))}},z.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Mi,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Mi.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(e,t){var i=t.isX,n=this;n.horiz=e.inverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.opposite=t.opposite,n.side=n.horiz?n.opposite?0:2:n.opposite?1:3,n.setOptions(t);var o=this.options,s=o.type,r="datetime"===s;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.staggerLines=n.horiz&&o.labels.staggerLines,n.userOptions=t,n.minPixelPadding=0,n.chart=e,n.reversed=o.reversed,n.categories=o.categories,n.isLog="logarithmic"===s,n.isLinked=d(o.linkedTo),n.isDatetimeAxis=r,n.tickmarkOffset=o.categories&&"between"===o.tickmarkPlacement?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.max=null,n.min=null;var c,u=n.options.events;e.axes.push(n),e[i?"xAxis":"yAxis"].push(n),n.series=[],e.inverted&&i&&n.reversed===U&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine,n.addPlotBand=n.addPlotBandOrLine,n.addPlotLine=n.addPlotBandOrLine;for(c in u)ki(n,c,u[c]);n.isLog&&(n.val2lin=a,n.lin2val=l)},setOptions:function(e){this.options=Ci(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],Ci(G[this.isXAxis?"xAxis":"yAxis"],e))},defaultLabelFormatter:function(){var e,t,i=this.axis,n=this.value,o=i.categories,s=this.dateTimeLabelFormat,r=G.lang.numericSymbols,a=r&&r.length,l=i.isLog?n:i.tickInterval;if(o)t=n;else if(s)t=X(s,n);else if(a&&l>=1e3)for(;a--&&t===U;)e=Math.pow(1e3,a+1),l>=e&&null!==r[a]&&(t=y(n/e,-1)+r[a]);return t===U&&(t=n>=1e3?y(n,0):y(n,-1)),t},getSeriesExtremes:function(){var e,t=this,i=t.chart,n=t.stacks,o=[],s=[];t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,bi(t.series,function(r){if(r.visible||!i.options.chart.ignoreHiddenSeries){var a,l,c,u,h,f,m,g,v,y,b,x=r.options,w=x.threshold,_=[],C=0;if(t.hasVisibleSeries=!0,t.isLog&&0>=w&&(w=x.threshold=null),t.isXAxis)m=r.xData,m.length&&(t.dataMin=yt(p(t.dataMin,m[0]),S(m)),t.dataMax=vt(p(t.dataMax,m[0]),E(m)));else{var k,T,D,A,M=r.cropped,P=r.xAxis.getExtremes(),I=!!r.modifyValue;for(a=x.stacking,t.usePercentage="percent"===a,a&&(h=x.stack,u=r.type+p(h,""),f="-"+u,r.stackKey=u,l=o[u]||[],o[u]=l,c=s[f]||[],s[f]=c),t.usePercentage&&(t.dataMin=0,t.dataMax=99),m=r.processedXData,g=r.processedYData,b=g.length,e=0;b>e;e++)if(v=m[e],y=g[e],a&&(k=w>y,T=k?c:l,D=k?f:u,d(T[v])?(T[v]=N(T[v]+y),y=[y,T[v]]):T[v]=y,n[D]||(n[D]={}),n[D][v]||(n[D][v]=new F(t,t.options.stackLabels,k,v,h,a)),n[D][v].setTotal(T[v])),null!==y&&y!==U&&(I&&(y=r.modifyValue(y)),M||(m[e+1]||v)>=P.min&&(m[e-1]||v)<=P.max))if(A=y.length)for(;A--;)null!==y[A]&&(_[C++]=y[A]);else _[C++]=y;!t.usePercentage&&_.length&&(t.dataMin=yt(p(t.dataMin,_[0]),S(_)),t.dataMax=vt(p(t.dataMax,_[0]),E(_))),d(w)&&(t.dataMin>=w?(t.dataMin=w,t.ignoreMinPadding=!0):t.dataMax<w&&(t.dataMax=w,t.ignoreMaxPadding=!0))}}})},translate:function(e,t,i,n,o,s){var r,a=this,l=a.len,c=1,d=0,u=n?a.oldTransA:a.transA,h=n?a.oldMin:a.min,p=a.options.ordinal||a.isLog&&o;return u||(u=a.transA),i&&(c*=-1,d=l),a.reversed&&(c*=-1,d-=c*l),t?(a.reversed&&(e=l-e),r=e/u+h,p&&(r=a.lin2val(r))):(p&&(e=a.val2lin(e)),r=c*(e-h)*u+d+c*a.minPixelPadding+(s?u*a.pointRange/2:0)),r},getPlotLinePath:function(e,t,i){var n,o,s,r,a,l=this,c=l.chart,d=l.left,u=l.top,h=l.translate(e,null,null,i),p=i&&c.oldChartHeight||c.chartHeight,f=i&&c.oldChartWidth||c.chartWidth,m=l.transB;return n=s=ft(h+m),o=r=ft(p-h-m),isNaN(h)?a=!0:l.horiz?(o=u,r=p-l.bottom,(d>n||n>d+l.width)&&(a=!0)):(n=d,s=f-l.right,(u>o||o>u+l.height)&&(a=!0)),a?null:c.renderer.crispLine([Gt,n,o,Xt,s,r],t||0)},getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t),n=this.getPlotLinePath(e);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(e,t,i){var n,o,s=N(mt(t/e)*e),r=N(gt(i/e)*e),a=[];for(n=s;r>=n&&(a.push(n),n=N(n+e),n!==o);)o=n;return a},getLogTickPositions:function(e,t,i,n){var o=this,s=o.options,r=o.len,c=[];if(n||(o._minorAutoInterval=null),e>=.5)e=ft(e),c=o.getLinearTickPositions(e,t,i);else if(e>=.08){var d,u,h,f,m,g,v,y=mt(t);for(d=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=y;i+1>u&&!v;u++)for(f=d.length,h=0;f>h&&!v;h++)m=a(l(u)*d[h]),m>t&&c.push(g),g>i&&(v=!0),g=m}else{var b=l(t),x=l(i),_=s[n?"minorTickInterval":"tickInterval"],C="auto"===_?null:_,k=s.tickPixelInterval/(n?5:1),T=n?r/o.tickPositions.length:r;e=p(C,o._minorAutoInterval,(x-b)*k/(T||1)),e=w(e,null,pt.pow(10,mt(pt.log(e)/pt.LN10))),c=_i(o.getLinearTickPositions(e,b,x),a),n||(o._minorAutoInterval=e/5)}return n||(o.tickInterval=e),c},getMinorTickPositions:function(){var e,t,i,n=this,o=n.options,s=n.tickPositions,r=n.minorTickInterval,a=[];if(n.isLog)for(i=s.length,t=1;i>t;t++)a=a.concat(n.getLogTickPositions(r,s[t-1],s[t],!0));else if(n.isDatetimeAxis&&"auto"===o.minorTickInterval)a=a.concat(C(_(r),n.min,n.max,o.startOfWeek));else for(e=n.min+(s[0]-n.min)%r;e<=n.max;e+=r)a.push(e);return a},adjustForMinRange:function(){var e,t,i,n,o,s,r,a,l=this,c=l.options,u=l.min,h=l.max,f=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===U&&!l.isLog&&(d(c.min)||d(c.max)?l.minRange=null:(bi(l.series,function(e){for(o=e.xData,s=e.xIncrement?1:o.length-1,i=s;i>0;i--)n=o[i]-o[i-1],(t===U||t>n)&&(t=n)}),l.minRange=yt(5*t,l.dataMax-l.dataMin))),h-u<l.minRange){var m=l.minRange;e=(m-h+u)/2,r=[u-e,p(c.min,u-e)],f&&(r[2]=l.dataMin),u=E(r),a=[u+m,p(c.max,u+m)],f&&(a[2]=l.dataMax),h=S(a),m>h-u&&(r[0]=h-m,r[1]=p(c.min,h-m),u=E(r))}l.min=u,l.max=h},setAxisTranslation:function(){var e,t=this,i=t.max-t.min,n=0,o=0,s=0,r=t.linkedParent,a=t.transA;t.isXAxis&&(r?(o=r.minPointOffset,s=r.pointRangePadding):bi(t.series,function(t){var i=t.pointRange,r=t.options.pointPlacement,a=t.closestPointRange;n=vt(n,i),o=vt(o,r?0:i/2),s=vt(s,"on"===r?0:i),!t.noSharedTooltip&&d(a)&&(e=d(e)?yt(e,a):a)}),t.minPointOffset=o,t.pointRangePadding=s,t.pointRange=n,t.closestPointRange=e),t.oldTransA=a,t.translationSlope=t.transA=a=t.len/(i+s||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=a*o},setTickPositions:function(e){var t,i,n,o,s=this,r=s.chart,l=s.options,c=s.isLog,u=s.isDatetimeAxis,h=s.isXAxis,f=s.isLinked,m=s.options.tickPositioner,g=l.maxPadding,v=l.minPadding,y=l.tickInterval,b=l.minTickInterval,x=l.tickPixelInterval,k=s.categories;if(f?(s.linkedParent=r[h?"xAxis":"yAxis"][l.linkedTo],n=s.linkedParent.getExtremes(),s.min=p(n.min,n.dataMin),s.max=p(n.max,n.dataMax),l.type!==s.linkedParent.options.type&&M(11,1)):(s.min=p(s.userMin,l.min,s.dataMin),s.max=p(s.userMax,l.max,s.dataMax)),c&&(!e&&yt(s.min,p(s.dataMin,s.min))<=0&&M(10,1),s.min=N(a(s.min)),s.max=N(a(s.max))),s.range&&(s.userMin=s.min=vt(s.min,s.max-s.range),s.userMax=s.max,e&&(s.range=null)),s.adjustForMinRange(),k||s.usePercentage||f||!d(s.min)||!d(s.max)||(i=s.max-s.min,i&&(d(l.min)||d(s.userMin)||!v||!(s.dataMin<0)&&s.ignoreMinPadding||(s.min-=i*v),d(l.max)||d(s.userMax)||!g||!(s.dataMax>0)&&s.ignoreMaxPadding||(s.max+=i*g))),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:f&&!y&&x===s.linkedParent.options.tickPixelInterval?s.linkedParent.tickInterval:p(y,k?1:(s.max-s.min)*x/(s.len||1)),h&&!e&&bi(s.series,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(e),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),!y&&s.tickInterval<b&&(s.tickInterval=b),u||c||(t=pt.pow(10,mt(pt.log(s.tickInterval)/pt.LN10)),y||(s.tickInterval=w(s.tickInterval,null,t,l))),s.minorTickInterval="auto"===l.minorTickInterval&&s.tickInterval?s.tickInterval/5:l.minorTickInterval,s.tickPositions=o=l.tickPositions||m&&m.apply(s,[s.min,s.max]),o||(o=u?(s.getNonLinearTimeTicks||C)(_(s.tickInterval,l.units),s.min,s.max,l.startOfWeek,s.ordinalPositions,s.closestPointRange,!0):c?s.getLogTickPositions(s.tickInterval,s.min,s.max):s.getLinearTickPositions(s.tickInterval,s.min,s.max),s.tickPositions=o),!f){var T,S=o[0],E=o[o.length-1],D=s.minPointOffset||0;l.startOnTick?s.min=S:s.min-D>S&&o.shift(),l.endOnTick?s.max=E:s.max+D<E&&o.pop(),1===o.length&&(T=1e-9,s.min-=T,s.max+=T)}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,i=this.tickPositions,n=this.xOrY;t||(t={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&i.length>t[n]&&this.options.alignTicks!==!1&&(t[n]=i.length),e.maxTicks=t},adjustTickAmount:function(){var e=this,t=e.chart,i=e.xOrY,n=e.tickPositions,o=t.maxTicks;if(o&&o[i]&&!e.isDatetimeAxis&&!e.categories&&!e.isLinked&&e.options.alignTicks!==!1){var s,r=e.tickAmount,a=n.length;if(e.tickAmount=s=o[i],s>a){for(;n.length<s;)n.push(N(n[n.length-1]+e.tickInterval));e.transA*=(a-1)/(s-1),e.max=n[n.length-1]}d(r)&&s!==r&&(e.isDirty=!0)}},setScale:function(){var e,t,i,n,o=this,s=o.stacks;if(o.oldMin=o.min,o.oldMax=o.max,o.oldAxisLength=o.len,o.setAxisSize(),n=o.len!==o.oldAxisLength,bi(o.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(i=!0)}),(n||i||o.isLinked||o.userMin!==o.oldUserMin||o.userMax!==o.oldUserMax)&&(o.getSeriesExtremes(),o.setTickPositions(),o.oldUserMin=o.userMin,o.oldUserMax=o.userMax,o.isDirty||(o.isDirty=n||o.min!==o.oldMin||o.max!==o.oldMax)),!o.isXAxis)for(e in s)for(t in s[e])s[e][t].cum=s[e][t].total;o.setMaxTicks()},setExtremes:function(t,i,n,o,s){var r=this,a=r.chart;n=p(n,!0),s=e(s,{min:t,max:i}),Si(r,"setExtremes",s,function(){r.userMin=t,r.userMax=i,r.isDirtyExtremes=!0,n&&a.redraw(o)})},zoom:function(e,t){return this.setExtremes(e,t,!1,U,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this,t=e.chart,i=e.options,n=i.offsetLeft||0,o=i.offsetRight||0;e.left=p(i.left,t.plotLeft+n),e.top=p(i.top,t.plotTop),e.width=p(i.width,t.plotWidth-n+o),e.height=p(i.height,t.plotHeight),e.bottom=t.chartHeight-e.height-e.top,e.right=t.chartWidth-e.width-e.left,e.len=vt(e.horiz?e.width:e.height,0)},getExtremes:function(){var e=this,t=e.isLog;return{min:t?N(l(e.min)):e.min,max:t?N(l(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,i=t.isLog,n=i?l(t.min):t.min,o=i?l(t.max):t.max;return n>e||null===e?e=n:e>o&&(e=o),t.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){var t=new H(this,e).render();return this.plotLinesAndBands.push(t),t},getOffset:function(){var e,t,i,n,o=this,s=o.chart,r=s.renderer,a=o.options,l=o.tickPositions,c=o.ticks,u=o.horiz,h=o.side,f=0,m=0,g=a.title,v=a.labels,y=0,b=s.axisOffset,x=[-1,1,1,-1][h];if(o.hasData=e=o.hasVisibleSeries||d(o.min)&&d(o.max)&&!!l,o.showAxis=t=e||p(a.showEmpty,!0),o.axisGroup||(o.gridGroup=r.g("grid").attr({zIndex:a.gridZIndex||1}).add(),o.axisGroup=r.g("axis").attr({zIndex:a.zIndex||2}).add(),o.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).add()),e||o.isLinked)bi(l,function(e){c[e]?c[e].addLabel():c[e]=new R(o,e)}),bi(l,function(e){(0===h||2===h||{1:"left",3:"right"}[h]===v.align)&&(y=vt(c[e].getLabelSize(),y))}),o.staggerLines&&(y+=16*(o.staggerLines-1));else for(n in c)c[n].destroy(),delete c[n];g&&g.text&&(o.axisTitle||(o.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).css(g.style).add(o.axisGroup),o.axisTitle.isNew=!0),t&&(f=o.axisTitle.getBBox()[u?"height":"width"],m=p(g.margin,u?5:10),i=g.offset),o.axisTitle[t?"show":"hide"]()),o.offset=x*p(a.offset,b[h]),o.axisTitleMargin=p(i,y+m+(2!==h&&y&&x*a.labels[u?"y":"x"])),b[h]=vt(b[h],o.axisTitleMargin+f+x*o.offset)},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,o=this.horiz,s=this.left+(i?this.width:0)+n,r=t.chartHeight-this.bottom-(i?this.height:0)+n;return this.lineTop=r,t.renderer.crispLine([Gt,o?this.left:s,o?r:this.top,Xt,o?t.chartWidth-this.right:s,o?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,o=this.len,s=this.options.title,r=e?t:n,a=this.opposite,l=this.offset,c=i(s.style.fontSize||12),d={low:r+(e?0:o),middle:r+o/2,high:r+(e?o:0)}[s.align],u=(e?n+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?d:u+(a?this.width:0)+l+(s.x||0),y:e?u-(a?this.height:0)+l:d+(s.y||0)}},render:function(){var e,t,i,n=this,o=n.chart,s=o.renderer,r=n.options,a=n.isLog,c=n.isLinked,u=n.tickPositions,h=n.axisTitle,p=n.stacks,f=n.ticks,m=n.minorTicks,g=n.alternateBands,v=r.stackLabels,y=r.alternateGridColor,b=n.tickmarkOffset,x=r.lineWidth,w=o.hasRendered,_=w&&d(n.oldMin)&&!isNaN(n.oldMin),C=n.hasData,k=n.showAxis;if((C||c)&&(n.minorTickInterval&&!n.categories&&bi(n.getMinorTickPositions(),function(e){m[e]||(m[e]=new R(n,e,"minor")),_&&m[e].isNew&&m[e].render(null,!0),m[e].isActive=!0,m[e].render()
}),u.length&&bi(u.slice(1).concat([u[0]]),function(e,t){t=t===u.length-1?0:t+1,(!c||e>=n.min&&e<=n.max)&&(f[e]||(f[e]=new R(n,e)),_&&f[e].isNew&&f[e].render(t,!0),f[e].isActive=!0,f[e].render(t))}),y&&bi(u,function(e,o){0===o%2&&e<n.max&&(g[e]||(g[e]=new H(n)),t=e+b,i=u[o+1]!==U?u[o+1]+b:n.max,g[e].options={from:a?l(t):t,to:a?l(i):i,color:y},g[e].render(),g[e].isActive=!0)}),n._addedPlotLB||(bi((r.plotLines||[]).concat(r.plotBands||[]),function(e){n.addPlotBandOrLine(e)}),n._addedPlotLB=!0)),bi([f,m,g],function(e){var t;for(t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])}),x&&(e=n.getLinePath(x),n.axisLine?n.axisLine.animate({d:e}):n.axisLine=s.path(e).attr({stroke:r.lineColor,"stroke-width":x,zIndex:7}).add(n.axisGroup),n.axisLine[k?"show":"hide"]()),h&&k&&(h[h.isNew?"attr":"animate"](n.getTitlePosition()),h.isNew=!1),v&&v.enabled){var T,S,E,D=n.stackTotalGroup;D||(n.stackTotalGroup=D=s.g("stack-labels").attr({visibility:Ut,zIndex:6}).add()),D.translate(o.plotLeft,o.plotTop);for(T in p){S=p[T];for(E in S)S[E].render(D)}}n.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=t.length;i--;)t[i].id===e&&t[i].destroy()},setTitle:function(e,t){var i=this.chart,n=this.options,o=this.axisTitle;n.title=Ci(n.title,e),this.axisTitle=o&&o.destroy(),this.isDirty=!0,p(t,!0)&&i.redraw()},redraw:function(){var e=this,t=e.chart;t.tracker.resetTracker&&t.tracker.resetTracker(!0),e.render(),bi(e.plotLinesAndBands,function(e){e.render()}),bi(e.series,function(e){e.isDirty=!0})},setCategories:function(e,t){var i=this,n=i.chart;i.categories=i.userOptions.categories=e,bi(i.series,function(e){e.translate(),e.setTooltipPoints(!0)}),i.isDirty=!0,p(t,!0)&&n.redraw()},destroy:function(){var e,t=this,i=t.stacks;Ti(t);for(e in i)D(i[e]),i[e]=null;bi([t.ticks,t.minorTicks,t.alternateBands,t.plotLinesAndBands],function(e){D(e)}),bi(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(e){t[e]&&(t[e]=t[e].destroy())})}},j.prototype={destroy:function(){bi(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(t,i,n,o){var s=this,r=s.now,a=s.options.animation!==!1&&!s.isHidden;e(r,{x:a?(2*r.x+t)/3:t,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+n)/3:n,anchorY:a?(r.anchorY+o)/2:o}),s.label.attr(r),a&&(bt(t-r.x)>1||bt(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,i,n,o)},32))},hide:function(){if(!this.isHidden){var e=this.chart.hoverPoints;this.label.hide(),e&&bi(e,function(e){e.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){bi(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var i,n,o=this.chart,s=o.inverted,r=0,a=0;return e=h(e),i=e[0].tooltipPos,i||(bi(e,function(e){n=e.series.yAxis,r+=e.plotX,a+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!s&&n?n.top-o.plotTop:0)}),r/=e.length,a/=e.length,i=[s?o.plotWidth-a:r,this.shared&&!s&&e.length>1&&t?t.chartY-o.plotTop:s?o.plotHeight-r:a]),_i(i,ft)},getPosition:function(e,t,i){var n,o=this.chart,s=o.plotLeft,r=o.plotTop,a=o.plotWidth,l=o.plotHeight,c=p(this.options.distance,12),d=i.plotX,u=i.plotY,h=d+s+(o.inverted?c:-e-c),f=u-t+r+15;return 7>h&&(h=s+vt(d,0)+c),h+e>s+a&&(h-=h+e-(s+a),f=u-t+r-c,n=!0),r+5>f&&(f=r+5,n&&u>=f&&f+t>=u&&(f=u+r+c)),f+t>r+l&&(f=vt(r,r+l-t-c)),{x:h,y:f}},refresh:function(e,t){function i(){var e,t=this,i=t.points||h(t),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0].key)],bi(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(g.footerFormat||""),e.join("")}var n,o,s,r,a,l,c,d,u=this,f=u.chart,m=u.label,g=u.options,v={},y=[],b=g.formatter||i,x=f.hoverPoints,w=g.crosshairs,_=u.shared;if(r=u.getAnchor(e,t),n=r[0],o=r[1],!_||e.series&&e.series.noSharedTooltip?v=e.getLabelConfig():(f.hoverPoints=e,x&&bi(x,function(e){e.setState()}),bi(e,function(e){e.setState(Zt),y.push(e.getLabelConfig())}),v={x:e[0].category,y:e[0].y},v.points=y,e=e[0]),a=b.call(v),d=e.series,s=_||!d.isCartesian||d.tooltipOutsidePlot||f.isInsidePlot(n,o),a!==!1&&s?(u.isHidden&&m.show(),m.attr({text:a}),c=g.borderColor||e.color||d.color||"#606060",m.attr({stroke:c}),l=(g.positioner||u.getPosition).call(u,m.width,m.height,{plotX:n,plotY:o}),u.move(ft(l.x),ft(l.y),n+f.plotLeft,o+f.plotTop),u.isHidden=!1):this.hide(),w){w=h(w);for(var C,k,T,S=w.length;S--;)T=e.series[S?"yAxis":"xAxis"],w[S]&&T&&(C=T.getPlotLinePath(S?p(e.stackY,e.y):e.x,1),u.crosshairs[S]?u.crosshairs[S].attr({d:C,visibility:Ut}):(k={"stroke-width":w[S].width||1,stroke:w[S].color||"#C0C0C0",zIndex:w[S].zIndex||2},w[S].dashStyle&&(k.dashstyle=w[S].dashStyle),u.crosshairs[S]=f.renderer.path(C).attr(k).add()))}Si(f,"tooltipRefresh",{text:a,x:n+f.plotLeft,y:o+f.plotTop,borderColor:c})}},W.prototype={normalizeMouseEvent:function(t){var i,n,o,s;return t=t||ht.event,t.target||(t.target=t.srcElement),t=Ei(t),s=t.touches?t.touches.item(0):t,this.chartPosition=i=wi(this.chart.container),s.pageX===U?(n=t.x,o=t.y):(n=s.pageX-i.left,o=s.pageY-i.top),e(t,{chartX:ft(n),chartY:ft(o)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},i=this.chart;return bi(i.axes,function(n){var o=n.isXAxis,s=i.inverted?!o:o;t[o?"xAxis":"yAxis"].push({axis:n,value:n.translate((s?e.chartX-i.plotLeft:n.top+n.len-e.chartY)-n.minPixelPadding,!0)})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},onmousemove:function(e){var t,i,n,o,s=this,r=s.chart,a=r.series,l=r.tooltip,c=r.hoverPoint,d=r.hoverSeries,u=r.chartWidth,h=s.getIndex(e);if(l&&s.options.tooltip.shared&&(!d||!d.noSharedTooltip)){for(i=[],n=a.length,o=0;n>o;o++)a[o].visible&&a[o].options.enableMouseTracking!==!1&&!a[o].noSharedTooltip&&a[o].tooltipPoints&&a[o].tooltipPoints.length&&(t=a[o].tooltipPoints[h],t._dist=bt(h-t[a[o].xAxis.tooltipPosName||"plotX"]),u=yt(u,t._dist),i.push(t));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].plotX!==s.hoverX&&(l.refresh(i,e),s.hoverX=i[0].plotX)}d&&d.tracker&&(t=d.tooltipPoints[h],t&&t!==c&&t.onMouseOver())},resetTracker:function(e){var t=this,i=t.chart,n=i.hoverSeries,o=i.hoverPoint,s=i.tooltip,r=s&&s.shared?i.hoverPoints:o;e=e&&s&&r,e&&h(r)[0].plotX===U&&(e=!1),e?s.refresh(r):(o&&o.onMouseOut(),n&&n.onMouseOut(),s&&(s.hide(),s.hideCrosshairs()),t.hoverX=null)},setDOMEvents:function(){function t(){if(o.selectionMarker){var e,n={xAxis:[],yAxis:[]},a=o.selectionMarker.getBBox(),l=a.x-s.plotLeft,c=a.y-s.plotTop;i&&(bi(s.axes,function(t){if(t.options.zoomEnabled!==!1){var i=t.isXAxis,o=s.inverted?!i:i,r=t.translate(o?l:s.plotHeight-c-a.height,!0,0,0,1),d=t.translate((o?l+a.width:s.plotHeight-c)-2*t.minPixelPadding,!0,0,0,1);isNaN(r)||isNaN(d)||(n[i?"xAxis":"yAxis"].push({axis:t,min:yt(r,d),max:vt(r,d)}),e=!0)}}),e&&Si(s,"selection",n,function(e){s.zoom(e)})),o.selectionMarker=o.selectionMarker.destroy()}s&&(f(r,{cursor:"auto"}),s.cancelClick=i,s.mouseIsDown=i=!1),Ti(ut,"mouseup",t),Lt&&Ti(ut,"touchend",t)}var i,n=!0,o=this,s=o.chart,r=s.container,a=o.zoomX&&!s.inverted||o.zoomY&&s.inverted,l=o.zoomY&&!s.inverted||o.zoomX&&s.inverted;o.hideTooltipOnMouseMove=function(e){e=Ei(e),o.chartPosition&&s.hoverSeries&&s.hoverSeries.isCartesian&&!s.isInsidePlot(e.pageX-o.chartPosition.left-s.plotLeft,e.pageY-o.chartPosition.top-s.plotTop)&&o.resetTracker()},o.hideTooltipOnMouseLeave=function(){o.resetTracker(),o.chartPosition=null},r.onmousedown=function(e){e=o.normalizeMouseEvent(e),-1===e.type.indexOf("touch")&&e.preventDefault&&e.preventDefault(),s.mouseIsDown=!0,s.cancelClick=!1,s.mouseDownX=o.mouseDownX=e.chartX,o.mouseDownY=e.chartY,ki(ut,"mouseup",t),Lt&&ki(ut,"touchend",t)};var c=function(e){if(!(e&&e.touches&&e.touches.length>1)){e=o.normalizeMouseEvent(e);var t=e.type,r=e.chartX,c=e.chartY,d=!s.isInsidePlot(r-s.plotLeft,c-s.plotTop);if(-1===t.indexOf("touch")&&(e.returnValue=!1),"touchstart"===t&&(u(e.target,"isTracker")?s.runTrackerClick||e.preventDefault():s.runChartClick||d||e.preventDefault()),d&&(r<s.plotLeft?r=s.plotLeft:r>s.plotLeft+s.plotWidth&&(r=s.plotLeft+s.plotWidth),c<s.plotTop?c=s.plotTop:c>s.plotTop+s.plotHeight&&(c=s.plotTop+s.plotHeight)),s.mouseIsDown&&"touchstart"!==t&&(i=Math.sqrt(Math.pow(o.mouseDownX-r,2)+Math.pow(o.mouseDownY-c,2)),i>10)){var h=s.isInsidePlot(o.mouseDownX-s.plotLeft,o.mouseDownY-s.plotTop);if(s.hasCartesianSeries&&(o.zoomX||o.zoomY)&&h&&(o.selectionMarker||(o.selectionMarker=s.renderer.rect(s.plotLeft,s.plotTop,a?1:s.plotWidth,l?1:s.plotHeight,0).attr({fill:o.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),o.selectionMarker&&a){var p=r-o.mouseDownX;o.selectionMarker.attr({width:bt(p),x:(p>0?0:p)+o.mouseDownX})}if(o.selectionMarker&&l){var f=c-o.mouseDownY;o.selectionMarker.attr({height:bt(f),y:(f>0?0:f)+o.mouseDownY})}h&&!o.selectionMarker&&o.options.chart.panning&&s.pan(r)}return d||o.onmousemove(e),n=d,d||!s.hasCartesianSeries}};/Android 4\.0/.test(kt)||(r.onmousemove=c),ki(r,"mouseleave",o.hideTooltipOnMouseLeave),Lt||ki(ut,"mousemove",o.hideTooltipOnMouseMove),r.ontouchstart=function(e){(o.zoomX||o.zoomY)&&r.onmousedown(e),c(e)},r.ontouchmove=c,r.ontouchend=function(){i&&o.resetTracker()},r.onclick=function(t){var i,n,r=s.hoverPoint;t=o.normalizeMouseEvent(t),t.cancelBubble=!0,s.cancelClick||(r&&(u(t.target,"isTracker")||u(t.target.parentNode,"isTracker"))?(i=r.plotX,n=r.plotY,e(r,{pageX:o.chartPosition.left+s.plotLeft+(s.inverted?s.plotWidth-n:i),pageY:o.chartPosition.top+s.plotTop+(s.inverted?s.plotHeight-i:n)}),Si(r.series,"click",e(t,{point:r})),r.firePointEvent("click",t)):(e(t,o.getMouseCoordinates(t)),s.isInsidePlot(t.chartX-s.plotLeft,t.chartY-s.plotTop)&&Si(s,"click",t)))}},destroy:function(){var e=this,t=e.chart,i=t.container;t.trackerGroup&&(t.trackerGroup=t.trackerGroup.destroy()),Ti(i,"mouseleave",e.hideTooltipOnMouseLeave),Ti(ut,"mousemove",e.hideTooltipOnMouseMove),i.onclick=i.onmousedown=i.onmousemove=i.ontouchstart=i.ontouchend=i.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(e,t){e.trackerGroup||(e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add()),t.enabled&&(e.tooltip=new j(e,t)),this.setDOMEvents()}},$.prototype={init:function(e){var t=this,n=t.options=e.options.legend;if(n.enabled){var o=n.itemStyle,s=p(n.padding,8),r=n.itemMarginTop||0;t.baseline=i(o.fontSize)+3+r,t.itemStyle=o,t.itemHiddenStyle=Ci(o,n.itemHiddenStyle),t.itemMarginTop=r,t.padding=s,t.initialItemX=s,t.initialItemY=s-5,t.maxItemWidth=0,t.chart=e,t.itemHeight=0,t.lastLineHeight=0,t.render(),ki(t.chart,"endResize",function(){t.positionCheckboxes()})}},colorizeItem:function(e,t){var i,n,o=this,s=o.options,r=e.legendItem,a=e.legendLine,l=e.legendSymbol,c=o.itemHiddenStyle.color,d=t?s.itemStyle.color:c,u=t?e.color:c,h=e.options&&e.options.marker,p={stroke:u,fill:u};if(r&&r.css({fill:d}),a&&a.attr({stroke:u}),l){if(h){h=e.convertAttribs(h);for(i in h)n=h[i],n!==U&&(p[i]=n)}l.attr(p)}},positionItem:function(e){var t=this,i=t.options,n=i.symbolPadding,o=!i.rtl,s=e._legendItemPos,r=s[0],a=s[1],l=e.checkbox;e.legendGroup&&e.legendGroup.translate(o?r:t.legendWidth-r-2*n-4,a),l&&(l.x=r,l.y=a)},destroyItem:function(e){var t=e.checkbox;bi(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()}),t&&A(e.checkbox)},destroy:function(){var e=this,t=e.group,i=e.box;i&&(e.box=i.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,bi(this.allItems,function(o){var s,r=o.checkbox;r&&(s=t+r.y+(e||0)+3,f(r,{left:i.translateX+o.legendItemWidth+r.x-20+Yt,top:s+Yt,display:s>t-6&&t+n-6>s?"":Vt}))}))},renderItem:function(e){var t,i,n,o=this,s=o.chart,r=s.renderer,a=o.options,l="horizontal"===a.layout,c=a.symbolWidth,d=a.symbolPadding,u=o.itemStyle,h=o.itemHiddenStyle,p=o.padding,f=!a.rtl,g=a.width,v=a.itemMarginBottom||0,y=o.itemMarginTop,b=o.initialItemX,x=e.legendItem,w=e.series||e,_=w.options,C=_.showCheckbox,k=a.useHTML;x||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),w.drawLegendSymbol(o,e),e.legendItem=x=r.text(a.labelFormatter.call(e),f?c+d:-d,o.baseline,k).css(Ci(e.visible?u:h)).attr({align:f?"left":"right",zIndex:2}).add(e.legendGroup),(k?x:e.legendGroup).on("mouseover",function(){e.setState(Zt),x.css(o.options.itemHoverStyle)}).on("mouseout",function(){x.css(e.visible?u:h),e.setState()}).on("click",function(t){var i="legendItemClick",n=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(i,t,n):Si(e,i,t,n)}),o.colorizeItem(e,e.visible),_&&C&&(e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},a.itemCheckboxStyle,s.container),ki(e.checkbox,"click",function(t){var i=t.target;Si(e,"checkboxClick",{checked:i.checked},function(){e.select()})}))),i=x.getBBox(),n=e.legendItemWidth=a.itemWidth||c+d+i.width+p+(C?20:0),o.itemHeight=t=i.height,l&&o.itemX-b+n>(g||s.chartWidth-2*p-b)&&(o.itemX=b,o.itemY+=y+o.lastLineHeight+v,o.lastLineHeight=0),o.maxItemWidth=vt(o.maxItemWidth,n),o.lastItemY=y+o.itemY+v,o.lastLineHeight=vt(t,o.lastLineHeight),e._legendItemPos=[o.itemX,o.itemY],l?o.itemX+=n:(o.itemY+=y+t+v,o.lastLineHeight=t),o.offsetWidth=g||vt(l?o.itemX-b:n,o.offsetWidth)},render:function(){var t,i,n,o,s=this,r=s.chart,a=r.renderer,l=s.group,c=s.box,d=s.options,u=s.padding,h=d.borderWidth,p=d.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,l||(s.group=l=a.g("legend").attr({zIndex:7}).add(),s.contentGroup=a.g().attr({zIndex:1}).add(l),s.scrollGroup=a.g().add(s.contentGroup),s.clipRect=a.clipRect(0,0,9999,r.chartHeight),s.contentGroup.clip(s.clipRect)),t=[],bi(r.series,function(e){var i=e.options;i.showInLegend&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),T(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),d.reversed&&t.reverse(),s.allItems=t,s.display=i=!!t.length,bi(t,function(e){s.renderItem(e)}),n=d.width||s.offsetWidth,o=s.lastItemY+s.lastLineHeight,o=s.handleOverflow(o),(h||p)&&(n+=u,o+=u,c?n>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,n,o)),c.isNew=!1):(s.box=c=a.rect(0,0,n,o,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:p||Vt}).add(l).shadow(d.shadow),c.isNew=!0),c[i?"show":"hide"]()),s.legendWidth=n,s.legendHeight=o,bi(t,function(e){s.positionItem(e)}),i&&l.align(e({width:n,height:o},d),!0,r.spacingBox),r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,o=this.chart,s=o.renderer,r=this.options,a=r.y,l="top"===r.verticalAlign,c=o.spacingBox.height+(l?-a:a)-this.padding,d=r.maxHeight,u=this.clipRect,h=r.navigation,f=p(h.animation,!0),m=h.arrowSize||12,g=this.nav;return"horizontal"===r.layout&&(c/=2),d&&(c=yt(c,d)),e>c?(this.clipHeight=i=c-20,this.pageCount=t=gt(e/i),this.currentPage=p(this.currentPage,1),this.fullHeight=e,u.attr({height:i}),g||(this.nav=g=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,m,m).on("click",function(){n.scroll(-1,f)}).add(g),this.pager=s.text("",15,10).css(h.style).add(g),this.down=s.symbol("triangle-down",0,0,m,m).on("click",function(){n.scroll(1,f)}).add(g)),n.scroll(0),e=c):g&&(u.attr({height:o.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i,n=this.pageCount,o=this.currentPage+e,s=this.clipHeight,r=this.options.navigation,a=r.activeColor,l=r.inactiveColor,c=this.pager,d=this.padding;o>n&&(o=n),o>0&&(t!==U&&P(t,this.chart),this.nav.attr({translateX:d,translateY:s+7,visibility:Ut}),this.up.attr({fill:1===o?l:a}).css({cursor:1===o?"default":"pointer"}),c.attr({text:o+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?l:a}).css({cursor:o===n?"default":"pointer"}),i=-yt(s*(o-1),this.fullHeight-s+d)+1,this.scrollGroup.animate({translateY:i}),c.attr({text:o+"/"+n}),this.currentPage=o,this.positionCheckboxes(i))}},q.prototype={init:function(e,t){var i,n=e.series;e.series=null,i=Ci(G,e),i.series=e.series=n;var s=i.chart,r=s.margin,a=o(r)?r:[r,r,r,r];this.optionsMarginTop=p(s.marginTop,a[0]),this.optionsMarginRight=p(s.marginRight,a[1]),this.optionsMarginBottom=p(s.marginBottom,a[2]),this.optionsMarginLeft=p(s.marginLeft,a[3]);var l=s.events;this.runChartClick=l&&!!l.click,this.callback=t,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var c,d=this;if(d.index=Ft.length,Ft.push(d),s.reflow!==!1&&ki(d,"load",d.initReflow),l)for(c in l)ki(d,c,l[c]);d.xAxis=[],d.yAxis=[],d.animation=Bt?!1:p(s.animation,!0),d.pointCount=0,d.counters=new k,d.firstRender()},initSeries:function(e){var t=this,i=t.options.chart,n=e.type||i.type||i.defaultSeriesType,o=new pi[n];return o.init(this,e),o},addSeries:function(e,t,i){var n,o=this;return e&&(P(i,o),t=p(t,!0),Si(o,"addSeries",{options:e},function(){n=o.initSeries(e),o.isDirtyLegend=!0,t&&o.redraw()})),n},isInsidePlot:function(e,t,i){var n=i?t:e,o=i?e:t;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&bi(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t,i,n=this,o=n.axes,s=n.series,r=n.tracker,a=n.legend,l=n.isDirtyLegend,c=n.isDirtyBox,d=s.length,u=d,h=n.renderer,p=h.isHidden(),f=[];for(P(e,n),p&&n.cloneRenderTo();u--;)if(i=s[u],i.isDirty&&i.options.stacking){t=!0;break}if(t)for(u=d;u--;)i=s[u],i.options.stacking&&(i.isDirty=!0);bi(s,function(e){e.isDirty&&"point"===e.options.legendType&&(l=!0)}),l&&a.options.enabled&&(a.render(),n.isDirtyLegend=!1),n.hasCartesianSeries&&(n.isResizing||(n.maxTicks=null,bi(o,function(e){e.setScale()})),n.adjustTickAmounts(),n.getMargins(),bi(o,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){Si(e,"afterSetExtremes",e.getExtremes())})),(e.isDirty||c||t)&&(e.redraw(),c=!0)})),c&&n.drawChartBox(),bi(s,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.resetTracker&&r.resetTracker(!0),h.draw(),Si(n,"redraw"),p&&n.cloneRenderTo(!0),bi(f,function(e){e.call()})},showLoading:function(t){var i=this,n=i.options,o=i.loadingDiv,s=n.loading;o||(i.loadingDiv=o=m(zt,{className:qt+"loading"},e(s.style,{left:i.plotLeft+Yt,top:i.plotTop+Yt,width:i.plotWidth+Yt,height:i.plotHeight+Yt,zIndex:10,display:Vt}),i.container),i.loadingSpan=m("span",null,s.labelStyle,o)),i.loadingSpan.innerHTML=t||n.lang.loading,i.loadingShown||(f(o,{opacity:0,display:""}),Di(o,{opacity:s.style.opacity},{duration:s.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Di(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:Vt})}}),this.loadingShown=!1},get:function(e){var t,i,n,o=this,s=o.axes,r=o.series;for(t=0;t<s.length;t++)if(s[t].options.id===e)return s[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(n=r[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e,t,i=this,n=this.options,o=n.xAxis||{},s=n.yAxis||{};o=h(o),bi(o,function(e,t){e.index=t,e.isX=!0}),s=h(s),bi(s,function(e,t){e.index=t}),e=o.concat(s),bi(e,function(e){t=new z(i,e)}),i.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return bi(this.series,function(t){e=e.concat(xi(t.points,function(e){return e.selected}))}),e},getSelectedSeries:function(){return xi(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=G.lang,i=e.options.chart.resetZoomButton,n=i.theme,o=n.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,e[s]),this.resetZoomButton.alignTo=s},zoomOut:function(){var e=this,t=e.resetZoomButton;Si(e,"selection",{resetSelection:!0},function(){e.zoom()}),t&&(e.resetZoomButton=t.destroy())},zoom:function(e){var t,i=this;!e||e.resetSelection?bi(i.axes,function(e){t=e.zoom()}):bi(e.xAxis.concat(e.yAxis),function(e){var n=e.axis;i.tracker[n.isXAxis?"zoomX":"zoomY"]&&(t=n.zoom(e.min,e.max))}),i.resetZoomButton||i.showResetZoom(),t&&i.redraw(p(i.options.chart.animation,i.pointCount<100))},pan:function(e){var t=this,i=t.xAxis[0],n=t.mouseDownX,o=i.pointRange/2,s=i.getExtremes(),r=i.translate(n-e,!0)+o,a=i.translate(n+t.plotWidth-e,!0)-o,l=t.hoverPoints;l&&bi(l,function(e){e.setState()}),i.series.length&&r>yt(s.dataMin,s.min)&&a<vt(s.dataMax,s.max)&&i.setExtremes(r,a,!0,!1,{trigger:"pan"}),t.mouseDownX=e,f(t.container,{cursor:"move"})},setTitle:function(e,t){var i,n,o=this,s=o.options;o.chartTitleOptions=i=Ci(s.title,e),o.chartSubtitleOptions=n=Ci(s.subtitle,t),bi([["title",e,i],["subtitle",t,n]],function(e){var t=e[0],i=o[t],n=e[1],s=e[2];i&&n&&(o[t]=i=i.destroy()),s&&s.text&&!i&&(o[t]=o.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":qt+t,zIndex:s.zIndex||4}).css(s.style).add().align(s,!1,o.spacingBox))})},getChartSize:function(){var e=this,t=e.options.chart,i=e.renderToClone||e.renderTo;e.containerWidth=gi(i,"width"),e.containerHeight=gi(i,"height"),e.chartWidth=vt(0,p(t.width,e.containerWidth,600)),e.chartHeight=vt(0,p(t.height,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),A(t),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:jt,top:"-9999px",display:"block"}),ut.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var t,o,s,r,a,l,c=this,d=c.options.chart,h="data-highcharts-chart";c.renderTo=r=d.renderTo,l=qt+Rt++,n(r)&&(c.renderTo=r=ut.getElementById(r)),r||M(13,!0),a=i(u(r,h)),!isNaN(a)&&Ft[a]&&Ft[a].destroy(),u(r,h,c.index),r.innerHTML="",r.offsetWidth||c.cloneRenderTo(),c.getChartSize(),o=c.chartWidth,s=c.chartHeight,c.container=t=m(zt,{className:qt+"container"+(d.className?" "+d.className:""),id:l},e({position:Wt,overflow:$t,width:o+Yt,height:s+Yt,textAlign:"left",lineHeight:"normal",zIndex:0},d.style),c.renderToClone||r),c.renderer=d.forExport?new Bi(t,o,s,!0):new Y(t,o,s),Bt&&c.renderer.create(c,t,o,s)},getMargins:function(){var e,t,i=this,n=i.options.chart,o=n.spacingTop,s=n.spacingRight,r=n.spacingBottom,a=n.spacingLeft,l=i.legend,c=i.optionsMarginTop,u=i.optionsMarginLeft,h=i.optionsMarginRight,f=i.optionsMarginBottom,m=i.chartTitleOptions,g=i.chartSubtitleOptions,v=i.options.legend,y=p(v.margin,10),b=v.x,x=v.y,w=v.align,_=v.verticalAlign;i.resetMargins(),e=i.axisOffset,!i.title&&!i.subtitle||d(i.optionsMarginTop)||(t=vt(i.title&&!m.floating&&!m.verticalAlign&&m.y||0,i.subtitle&&!g.floating&&!g.verticalAlign&&g.y||0),t&&(i.plotTop=vt(i.plotTop,t+p(m.margin,15)+o))),l.display&&!v.floating&&("right"===w?d(h)||(i.marginRight=vt(i.marginRight,l.legendWidth-b+y+s)):"left"===w?d(u)||(i.plotLeft=vt(i.plotLeft,l.legendWidth+b+y+a)):"top"===_?d(c)||(i.plotTop=vt(i.plotTop,l.legendHeight+x+y+o)):"bottom"===_&&(d(f)||(i.marginBottom=vt(i.marginBottom,l.legendHeight-x+y+r)))),i.extraBottomMargin&&(i.marginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&bi(i.axes,function(e){e.getOffset()}),d(u)||(i.plotLeft+=e[3]),d(c)||(i.plotTop+=e[0]),d(f)||(i.marginBottom+=e[2]),d(h)||(i.marginRight+=e[1]),i.setChartSize()},initReflow:function(){function e(e){var s=n.width||gi(o,"width"),r=n.height||gi(o,"height"),a=e?e.target:ht;i.hasUserSize||!s||!r||a!==ht&&a!==ut||((s!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(t),i.reflowTimeout=t=setTimeout(function(){i.container&&(i.setSize(s,r,!1),i.hasUserSize=null)},100)),i.containerWidth=s,i.containerHeight=r)}var t,i=this,n=i.options.chart,o=i.renderTo;ki(ht,"resize",e),ki(i,"destroy",function(){Ti(ht,"resize",e)})},setSize:function(e,t,i){var n,o,s,r,a=this,l=a.resetZoomButton,c=a.title,u=a.subtitle;a.isResizing+=1,r=function(){a&&Si(a,"endResize",null,function(){a.isResizing-=1})},P(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,d(e)&&(a.chartWidth=n=vt(0,ft(e)),a.hasUserSize=!!n),d(t)&&(a.chartHeight=o=vt(0,ft(t))),f(a.container,{width:n+Yt,height:o+Yt}),a.renderer.setSize(n,o,i),a.plotWidth=n-a.plotLeft-a.marginRight,a.plotHeight=o-a.plotTop-a.marginBottom,a.maxTicks=null,bi(a.axes,function(e){e.isDirty=!0,e.setScale()}),bi(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),s=a.spacingBox,c&&c.align(null,null,s),u&&u.align(null,null,s),l&&l.align&&l.align(null,null,a[l.alignTo]),a.redraw(i),a.oldChartHeight=null,Si(a,"resize"),K===!1?r():setTimeout(r,K&&K.duration||500)},setChartSize:function(){var e,t,i,n,o,s=this,r=s.inverted,a=s.chartWidth,l=s.chartHeight,c=s.options.chart,d=c.spacingTop,u=c.spacingRight,h=c.spacingBottom,p=c.spacingLeft;s.plotLeft=e=ft(s.plotLeft),s.plotTop=t=ft(s.plotTop),s.plotWidth=i=vt(0,ft(a-e-s.marginRight)),s.plotHeight=n=vt(0,ft(l-t-s.marginBottom)),s.plotSizeX=r?n:i,s.plotSizeY=r?i:n,s.plotBorderWidth=o=c.plotBorderWidth||0,s.spacingBox={x:p,y:d,width:a-p-u,height:l-d-h},s.plotBox={x:e,y:t,width:i,height:n},s.clipBox={x:o/2,y:o/2,width:s.plotSizeX-o,height:s.plotSizeY-o},bi(s.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart,i=t.spacingTop,n=t.spacingRight,o=t.spacingBottom,s=t.spacingLeft;e.plotTop=p(e.optionsMarginTop,i),e.marginRight=p(e.optionsMarginRight,n),e.marginBottom=p(e.optionsMarginBottom,o),e.plotLeft=p(e.optionsMarginLeft,s),e.axisOffset=[0,0,0,0]},drawChartBox:function(){var e,t,i=this,n=i.options.chart,o=i.renderer,s=i.chartWidth,r=i.chartHeight,a=i.chartBackground,l=i.plotBackground,c=i.plotBorder,d=i.plotBGImage,u=n.borderWidth||0,h=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,m=n.plotBorderWidth||0,g=i.plotLeft,v=i.plotTop,y=i.plotWidth,b=i.plotHeight,x=i.plotBox,w=i.clipRect,_=i.clipBox;e=u+(n.shadow?8:0),(u||h)&&(a?a.animate(a.crisp(null,null,null,s-e,r-e)):(t={fill:h||Vt},u&&(t.stroke=n.borderColor,t["stroke-width"]=u),i.chartBackground=o.rect(e/2,e/2,s-e,r-e,n.borderRadius,u).attr(t).add().shadow(n.shadow))),p&&(l?l.animate(x):i.plotBackground=o.rect(g,v,y,b,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(d?d.animate(x):i.plotBGImage=o.image(f,g,v,y,b).add()),w?w.animate({width:_.width,height:_.height}):i.clipRect=o.clipRect(_),m&&(c?c.animate(c.crisp(null,g,v,y,b)):i.plotBorder=o.rect(g,v,y,b,0,m).attr({stroke:n.plotBorderColor,"stroke-width":m,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,o=n.options.chart,s=n.options.series;bi(["inverted","angular","polar"],function(r){for(e=pi[o.type||o.defaultSeriesType],i=n[r]||o[r]||e&&e.prototype[r],t=s&&s.length;!i&&t--;)e=pi[s[t].type],e&&e.prototype[r]&&(i=!0);n[r]=i})},render:function(){var t,n=this,o=n.axes,s=n.renderer,r=n.options,a=r.labels,l=r.credits;n.setTitle(),n.legend=new $(n),bi(o,function(e){e.setScale()}),n.getMargins(),n.maxTicks=null,bi(o,function(e){e.setTickPositions(!0),e.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&bi(o,function(e){e.render()}),n.seriesGroup||(n.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),bi(n.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),a.items&&bi(a.items,function(t){var o=e(a.style,t.style),r=i(o.left)+n.plotLeft,l=i(o.top)+n.plotTop+12;delete o.left,delete o.top,s.text(t.html,r,l).attr({zIndex:2}).css(o).add()}),l.enabled&&!n.credits&&(t=l.href,n.credits=s.text(l.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var e,t=this,i=t.axes,n=t.series,o=t.container,s=o&&o.parentNode;for(Si(t,"destroy"),Ft[t.index]=U,t.renderTo.removeAttribute("data-highcharts-chart"),Ti(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();bi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),o&&(o.innerHTML="",Ti(o),s&&A(o));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Pt&&ht==ht.top&&"complete"!==ut.readyState||Bt&&!ht.canvg?(Bt?Fi.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ut.attachEvent("onreadystatechange",function(){ut.detachEvent("onreadystatechange",e.firstRender),"complete"===ut.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),Si(e,"init"),Highcharts.RangeSelector&&t.rangeSelector.enabled&&(e.rangeSelector=new Highcharts.RangeSelector(e)),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),bi(t.series||[],function(t){e.initSeries(t)}),Highcharts.Scroller&&(t.navigator.enabled||t.scrollbar.enabled)&&(e.scroller=new Highcharts.Scroller(e)),e.tracker=new W(e,t),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),bi(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Si(e,"load"))}},q.prototype.callbacks=[];var zi=function(){};zi.prototype={init:function(e,t,i){var n,o=this,s=e.chart.counters;return o.series=e,o.applyOptions(t,i),o.pointAttr={},e.options.colorByPoint&&(n=e.chart.options.colors,o.color=o.color||n[s.color++],s.wrapColor(n.length)),e.chart.pointCount++,o},applyOptions:function(t,i){var n=this,o=n.series,s=typeof t;n.config=t,"number"===s||null===t?n.y=t:"number"==typeof t[0]?(n.x=t[0],n.y=t[1]):"object"===s&&"number"!=typeof t.length?(e(n,t),n.options=t,t.dataLabels&&(o._hasPointLabels=!0),t.marker&&(o._hasPointMarkers=!0)):"string"==typeof t[0]&&(n.name=t[0],n.y=t[1]),n.x===U&&(n.x=i===U?o.autoIncrement():i)},destroy:function(){var e,t=this,i=t.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(t.setState(),c(o,t),o.length||(n.hoverPoints=null)),t===n.hoverPoint&&t.onMouseOut(),(t.graphic||t.dataLabel)&&(Ti(t),t.destroyElements()),t.legendItem&&n.legend.destroyItem(t);for(e in t)t[e]=null},destroyElements:function(){for(var e,t=this,i=["graphic","tracker","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)e=i[n],t[e]&&(t[e]=t[e].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var i=this,n=i.series,o=n.chart;e=p(e,!i.selected),i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=e,i.setState(e&&Jt),t||bi(o.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=!1,e.setState(Qt),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this,t=e.series,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o!==e&&o.onMouseOut(),e.firePointEvent("mouseOver"),!n||n.shared&&!t.noSharedTooltip||n.refresh(e),e.setState(Zt),i.hoverPoint=e},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;t&&-1!==yi(this,t)||(this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null)},tooltipFormatter:function(e){var t,i,o,s,r,a,l,c=this,d=c.series,u=d.tooltipOptions,h=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),f=/[{\.}]/,m={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};u.valuePrefix=u.valuePrefix||u.yPrefix,u.valueDecimals=p(u.valueDecimals,u.yDecimals),u.valueSuffix=u.valueSuffix||u.ySuffix;for(l in h)i=h[l],n(i)&&i!==e&&(r=(" "+i).split(f),t={point:c,series:d}[r[1]],a=r[2],t===c&&m.hasOwnProperty(a)?(s=m[a]?a:"value",o=(u[s+"Prefix"]||"")+y(c[a],p(u[s+"Decimals"],-1))+(u[s+"Suffix"]||"")):o=t[a],e=e.replace(i,o));return e},update:function(e,t,i){var n,s=this,r=s.series,a=s.graphic,l=r.data,c=l.length,d=r.chart;t=p(t,!0),s.firePointEvent("update",{options:e},function(){for(s.applyOptions(e),o(e)&&(r.getAttribs(),a&&a.attr(s.pointAttr[r.state])),n=0;c>n;n++)if(l[n]===s){r.xData[n]=s.x,r.yData[n]=s.toYData?s.toYData():s.y,r.options.data[n]=e;break}r.isDirty=!0,r.isDirtyData=!0,t&&d.redraw(i)})},remove:function(e,t){var i,n=this,o=n.series,s=o.chart,r=o.data,a=r.length;P(t,s),e=p(e,!0),n.firePointEvent("remove",null,function(){for(i=0;a>i;i++)if(r[i]===n){r.splice(i,1),o.options.data.splice(i,1),o.xData.splice(i,1),o.yData.splice(i,1);break}n.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&s.redraw()})},firePointEvent:function(e,t,i){var n=this,o=this.series,s=o.options;(s.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&s.allowPointSelect&&(i=function(e){n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Si(this,e,t,i)},importEvents:function(){if(!this.hasImportedEvents){var e,t=this,i=Ci(t.series.options.point,t.options),n=i.events;
t.events=n;for(e in n)ki(t,e,n[e]);this.hasImportedEvents=!0}},setState:function(e){var t,i=this,n=i.plotX,o=i.plotY,s=i.series,r=s.options.states,a=Ni[s.type].marker&&s.options.marker,l=a&&!a.enabled,c=a&&a.states[e],d=c&&c.enabled===!1,u=s.stateMarkerGraphic,h=s.chart,p=i.pointAttr;e=e||Qt,e===i.state||i.selected&&e!==Jt||r[e]&&r[e].enabled===!1||e&&(d||l&&!c.enabled)||(i.graphic?(t=a&&i.graphic.symbolName&&p[e].r,i.graphic.attr(Ci(p[e],t?{x:n-t,y:o-t,width:2*t,height:2*t}:{}))):(e&&c&&(t=c.radius,u?u.attr({x:n-t,y:o-t}):s.stateMarkerGraphic=u=h.renderer.symbol(s.symbol,n-t,o-t,2*t,2*t).attr(p[e]).add(s.markerGroup)),u&&u[e&&h.isInsidePlot(n,o)?"show":"hide"]()),i.state=e)}};var ji=function(){};ji.prototype={isCartesian:!0,type:"line",pointClass:zi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(t,i){var n,o,s=this;s.chart=t,s.options=i=s.setOptions(i),s.bindAxes(),e(s,{name:i.name,state:Qt,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Bt&&(i.animation=!1),o=i.events;for(n in o)ki(s,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),s.setData(i.data,!1),s.isCartesian&&(t.hasCartesianSeries=!0),t.series.push(s),T(t.series,function(e,t){return(e.options.index||0)-(t.options.index||0)}),bi(t.series,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,n=t.chart;t.isCartesian&&bi(["xAxis","yAxis"],function(o){bi(n[o],function(n){e=n.options,(i[o]===e.index||i[o]===U&&0===e.index)&&(n.series.push(t),t[o]=n,n.isDirty=!0)})})},autoIncrement:function(){var e=this,t=e.options,i=e.xIncrement;return i=p(i,t.pointStart,0),e.pointInterval=p(e.pointInterval,t.pointInterval,1),e.xIncrement=i+e.pointInterval,i},getSegments:function(){var e,t=this,i=-1,n=[],o=t.points,s=o.length;if(s)if(t.options.connectNulls){for(e=s;e--;)null===o[e].y&&o.splice(e,1);o.length&&(n=[o])}else bi(o,function(e,t){null===e.y?(t>i+1&&n.push(o.slice(i+1,t)),i=t):t===s-1&&n.push(o.slice(i+1,t+1))});t.segments=n},setOptions:function(e){var t,i=this.chart,n=i.options,o=n.plotOptions,s=o[this.type],r=e.data;return e.data=null,t=Ci(s,o.series,e),t.data=e.data=r,this.tooltipOptions=Ci(n.tooltip,t.tooltip),null===s.marker&&delete t.marker,t},getColor:function(){var e=this.options,t=this.chart.options.colors,i=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[i.color++]||"gray",i.wrapColor(t.length)},getSymbol:function(){var e=this,t=e.options.marker,i=e.chart,n=i.options.symbols,o=i.counters;e.symbol=t.symbol||n[o.symbol++],/^url/.test(e.symbol)&&(t.radius=0),o.wrapSymbol(n.length)},drawLegendSymbol:function(e){var t,i,n,o=this.options,s=o.marker,r=e.options,a=r.symbolWidth,l=this.chart.renderer,c=this.legendGroup,d=e.baseline;o.lineWidth&&(n={"stroke-width":o.lineWidth},o.dashStyle&&(n.dashstyle=o.dashStyle),this.legendLine=l.path([Gt,0,d-4,Xt,a,d-4]).attr(n).add(c)),s&&s.enabled&&(t=s.radius,this.legendSymbol=i=l.symbol(this.symbol,a/2-t,d-4-t,2*t,2*t).add(c))},addPoint:function(e,t,i,n){var o,s=this,r=s.options,a=s.data,l=s.graph,c=s.area,d=s.chart,u=s.xData,h=s.yData,f=l&&l.shift||0,m=r.data,g=s.pointClass.prototype;P(n,d),l&&i&&(l.shift=f+1),c&&(i&&(c.shift=f+1),c.isArea=!0),t=p(t,!0),o={series:s},g.applyOptions.apply(o,[e]),u.push(o.x),h.push(g.toYData?g.toYData.call(o):o.y),m.push(e),"point"===r.legendType&&s.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),u.shift(),h.shift(),m.shift())),s.getAttribs(),s.isDirty=!0,s.isDirtyData=!0,t&&d.redraw()},setData:function(e,t){var i,o=this,a=o.points,l=o.options,c=o.initialColor,u=o.chart,h=null,f=o.xAxis,m=o.pointClass.prototype;o.xIncrement=null,o.pointRange=f&&f.categories?1:l.pointRange,d(c)&&(u.counters.color=c);var g,v=[],y=[],b=e?e.length:[],x=l.turboThreshold||1e3,w=o.pointArrayMap,_=w&&w.length;if(b>x){for(i=0;null===h&&b>i;)h=e[i],i++;if(r(h)){var C=p(l.pointStart,0),k=p(l.pointInterval,1);for(i=0;b>i;i++)v[i]=C,y[i]=e[i],C+=k;o.xIncrement=C}else if(s(h))if(_)for(i=0;b>i;i++)g=e[i],v[i]=g[0],y[i]=g.slice(1,_+1);else for(i=0;b>i;i++)g=e[i],v[i]=g[0],y[i]=g[1]}else for(i=0;b>i;i++)g={series:o},m.applyOptions.apply(g,[e[i]]),v[i]=g.x,y[i]=m.toYData?m.toYData.call(g):g.y;for(o.requireSorting&&v.length>1&&v[1]<v[0]&&M(15),n(y[0])&&M(14,!0),o.data=[],o.options.data=e,o.xData=v,o.yData=y,i=a&&a.length||0;i--;)a[i]&&a[i].destroy&&a[i].destroy();f&&(f.minRange=f.userMinRange),o.isDirty=o.isDirtyData=u.isDirtyBox=!0,p(t,!0)&&u.redraw(!1)},remove:function(e,t){var i=this,n=i.chart;e=p(e,!0),i.isRemoving||(i.isRemoving=!0,Si(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,e&&n.redraw(t)})),i.isRemoving=!1},processData:function(e){var t,i,n,o,s=this,r=s.xData,a=s.yData,l=r.length,c=0,d=l,u=s.xAxis,h=s.options,p=h.cropThreshold,f=s.isCartesian;if(f&&!s.isDirty&&!u.isDirty&&!s.yAxis.isDirty&&!e)return!1;if(f&&s.sorted&&(!p||l>p||s.forceCrop)){var m=u.getExtremes(),g=m.min,v=m.max;if(r[l-1]<g||r[0]>v)r=[],a=[];else if(r[0]<g||r[l-1]>v){for(o=0;l>o;o++)if(r[o]>=g){c=vt(0,o-1);break}for(;l>o;o++)if(r[o]>v){d=o+1;break}r=r.slice(c,d),a=a.slice(c,d),t=!0}}for(o=r.length-1;o>0;o--)i=r[o]-r[o-1],i>0&&(n===U||n>i)&&(n=i);s.cropped=t,s.cropStart=c,s.processedXData=r,s.processedYData=a,null===h.pointRange&&(s.pointRange=n||1),s.closestPointRange=n},generatePoints:function(){var e,t,i,n,o=this,s=o.options,r=s.data,a=o.data,l=o.processedXData,c=o.processedYData,d=o.pointClass,u=l.length,p=o.cropStart||0,f=o.hasGroupedData,m=[];if(!a&&!f){var g=[];g.length=r.length,a=o.data=g}for(n=0;u>n;n++)t=p+n,f?m[n]=(new d).init(o,[l[n]].concat(h(c[n]))):(a[t]?i=a[t]:r[t]!==U&&(a[t]=i=(new d).init(o,r[t],l[n])),m[n]=i);if(a&&(u!==(e=a.length)||f))for(n=0;e>n;n++)n!==p||f||(n+=u),a[n]&&(a[n].destroyElements(),a[n].plotX=U);o.data=a,o.points=m},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t=this,i=t.chart,n=t.options,o=n.stacking,s=t.xAxis,r=s.categories,a=t.yAxis,l=t.points,c=l.length,u=!!t.modifyValue,h=a.series,f=h.length,m="between"===n.pointPlacement;f--;)if(h[f].visible){h[f]===t&&(e=!0);break}for(f=0;c>f;f++){var g,v,y=l[f],b=y.x,x=y.y,w=y.low,_=a.stacks[(x<n.threshold?"-":"")+t.stackKey];y.plotX=s.translate(b,0,0,0,1,m),o&&t.visible&&_&&_[b]&&(g=_[b],v=g.total,g.cum=w=g.cum-x,x=w+x,e&&(w=p(n.threshold,a.min)),a.isLog&&0>=w&&(w=null),"percent"===o&&(w=v?100*w/v:0,x=v?100*x/v:0),y.percentage=v?100*y.y/v:0,y.total=y.stackTotal=v,y.stackY=x),y.yBottom=d(w)?a.translate(w,0,1,0,1):null,u&&(x=t.modifyValue(x,y)),y.plotY="number"==typeof x?ft(10*a.translate(x,0,1,0,1))/10:U,y.clientX=i.inverted?i.plotHeight-y.plotX:y.plotX,y.category=r&&r[y.x]!==U?r[y.x]:y.x}t.getSegments()},setTooltipPoints:function(e){var t,i,n,o,s,r=this,a=[],l=r.xAxis,c=l?l.tooltipLen||l.len:r.chart.plotSizeX,d=l&&l.tooltipPosName||"plotX",u=[];if(r.options.enableMouseTracking!==!1){for(e&&(r.tooltipPoints=null),bi(r.segments||r.points,function(e){a=a.concat(e)}),l&&l.reversed&&(a=a.reverse()),t=a.length,s=0;t>s;s++)for(o=a[s],i=a[s-1]?n+1:0,n=a[s+1]?vt(0,mt((o[d]+(a[s+1]?a[s+1][d]:c))/2)):c;i>=0&&n>=i;)u[i++]=o;r.tooltipPoints=u}},tooltipHeaderFormatter:function(e){var t,i=this,n=i.tooltipOptions,o=n.xDateFormat,s=i.xAxis,a=s&&"datetime"===s.options.type;if(a&&!o)for(t in Z)if(Z[t]>=s.closestPointRange){o=n.dateTimeLabelFormats[t];break}return n.headerFormat.replace("{point.key}",a&&r(e)?X(o,e):e).replace("{series.name}",i.name).replace("{series.color}",i.color)},onMouseOver:function(){var e=this,t=e.chart,i=t.hoverSeries;i&&i!==e&&i.onMouseOut(),e.options.events.mouseOver&&Si(e,"mouseOver"),e.setState(Zt),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,i=e.chart,n=i.tooltip,o=i.hoverPoint;o&&o.onMouseOut(),e&&t.events.mouseOut&&Si(e,"mouseOut"),!n||t.stickyTracking||n.shared||n.hide(),e.setState(),i.hoverSeries=null},animate:function(t){var i,n,s,r=this,a=r.chart,l=a.renderer,c=r.options.animation,d=a.clipBox,u=a.inverted;c&&!o(c)&&(c=Ni[r.type].animation),s="_sharedClip"+c.duration+c.easing,t?(i=a[s],n=a[s+"m"],i||(a[s]=i=l.clipRect(e(d,{width:0})),a[s+"m"]=n=l.clipRect(-99,u?-a.plotLeft:-a.plotTop,99,u?a.chartWidth:a.chartHeight)),r.group.clip(i),r.markerGroup.clip(n),r.sharedClipKey=s):(i=a[s],i&&(i.animate({width:a.plotSizeX},c),a[s+"m"].animate({width:a.plotSizeX+99},c)),r.animate=null,r.animationTimeout=setTimeout(function(){r.afterAnimate()},c.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,i=this.group,n=this.trackerGroup;i&&this.options.clip!==!1&&(i.clip(e.clipRect),n&&n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,i,n,o,s,r,a,l,c,d,u,h,f=this,m=f.points,g=f.chart,v=f.options,y=v.marker,b=f.markerGroup;if(y.enabled||f._hasPointMarkers)for(o=m.length;o--;)s=m[o],i=s.plotX,n=s.plotY,c=s.graphic,d=s.marker||{},u=y.enabled&&d.enabled===U||d.enabled,h=g.isInsidePlot(i,n,g.inverted),u&&n!==U&&!isNaN(n)?(t=s.pointAttr[s.selected?Jt:Qt],r=t.r,a=p(d.symbol,f.symbol),l=0===a.indexOf("url"),c?c.attr({visibility:h?Pt?"inherit":Ut:$t}).animate(e({x:i-r,y:n-r},c.symbolName?{width:2*r,height:2*r}:{})):h&&(r>0||l)&&(s.graphic=c=g.renderer.symbol(a,i-r,n-r,2*r,2*r).attr(t).add(b))):c&&(s.graphic=c.destroy())},convertAttribs:function(e,t,i,n){var o,s,r=this.pointAttrToOptions,a={};e=e||{},t=t||{},i=i||{},n=n||{};for(o in r)s=r[o],a[o]=p(e[s],t[o],i[o],n[o]);return a},getAttribs:function(){var t,i,n,o,s,r,a=this,l=Ni[a.type].marker?a.options.marker:a.options,c=l.states,u=c[Zt],h=a.color,p={stroke:h,fill:h},f=a.points||[],m=[],g=a.pointAttrToOptions;for(a.options.marker?(u.radius=u.radius||l.radius+2,u.lineWidth=u.lineWidth||l.lineWidth+1):u.color=u.color||Ii(u.color||h).brighten(u.brightness).get(),m[Qt]=a.convertAttribs(l,p),bi([Zt,Jt],function(e){m[e]=a.convertAttribs(c[e],m[Qt])}),a.pointAttr=m,i=f.length;i--;){if(n=f[i],l=n.options&&n.options.marker||n.options,l&&l.enabled===!1&&(l.radius=0),s=a.options.colorByPoint,n.options)for(r in g)d(l[g[r]])&&(s=!0);s?(l=l||{},o=[],c=l.states||{},t=c[Zt]=c[Zt]||{},a.options.marker||(t.color=Ii(t.color||n.color).brighten(t.brightness||u.brightness).get()),o[Qt]=a.convertAttribs(e({color:n.color},l),m[Qt]),o[Zt]=a.convertAttribs(c[Zt],m[Zt],o[Qt]),o[Jt]=a.convertAttribs(c[Jt],m[Jt],o[Qt])):o=m,n.pointAttr=o}},destroy:function(){var e,t,i,n,o,s=this,r=s.chart,a=/AppleWebKit\/533/.test(kt),l=s.data||[];for(Si(s,"destroy"),Ti(s),bi(["xAxis","yAxis"],function(e){o=s[e],o&&(c(o.series,s),o.isDirty=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),t=l.length;t--;)i=l[t],i&&i.destroy&&i.destroy();s.points=null,clearTimeout(s.animationTimeout),bi(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(t){s[t]&&(e=a&&"group"===t?"hide":"destroy",s[t][e]())}),r.hoverSeries===s&&(r.hoverSeries=null),c(r.series,s);for(n in s)delete s[n]},drawDataLabels:function(){var e,t,i,n,o=this,s=o.options,r=s.dataLabels,a=o.points;(r.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(r),n=o.plotGroup("dataLabelsGroup","data-labels",o.visible?Ut:$t,r.zIndex||6),t=r,bi(a,function(s){var a,l,c,u,h=s.dataLabel,f=!0;if(e=s.options&&s.options.dataLabels,a=t.enabled||e&&e.enabled,h&&!a)s.dataLabel=h.destroy();else if(a){if(u=r.rotation,r=Ci(t,e),i=r.formatter.call(s.getLabelConfig(),r),r.style.color=p(r.color,r.style.color,o.color,"black"),h)h.attr({text:i}),f=!1;else if(d(i)){l={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:u,padding:r.padding,zIndex:1};for(c in l)l[c]===U&&delete l[c];h=s.dataLabel=o.chart.renderer[u?"text":"label"](i,0,-999,null,null,null,r.useHTML).attr(l).css(r.style).add(n).shadow(r.shadow)}h&&o.alignDataLabel(s,h,r,null,f)}}))},alignDataLabel:function(t,i,n,o,s){var r,a=this.chart,l=a.inverted,c=p(t.plotX,-999),d=p(t.plotY,-999),u=i.getBBox();o=e({x:l?a.plotWidth-d:c,y:ft(l?a.plotHeight-c:d),width:0,height:0},o),e(n,{width:u.width,height:u.height}),n.rotation?(r={align:n.align,x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2},i[s?"attr":"animate"](r)):(i.align(n,null,o),r=i.alignAttr),i.attr({visibility:n.crop===!1||a.isInsidePlot(r.x,r.y)||a.isInsidePlot(c,d,l)?a.renderer.isSVG?"inherit":Ut:$t})},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return bi(e,function(o,s){var r,a=o.plotX,l=o.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,o,s)):(i.push(s?Xt:Gt),n&&s&&(r=e[s-1],"right"===n?i.push(r.plotX,l):"center"===n?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,l):i.push(a,r.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return bi(t.segments,function(o){e=t.getSegmentPath(o),o.length>1?i=i.concat(e):n.push(o[0])}),t.singlePoints=n,t.graphPath=i,i},drawGraph:function(){var e,t=this.options,i=this.graph,n=this.group,o=t.lineColor||this.color,s=t.lineWidth,r=t.dashStyle,a=this.getGraphPath();i?(Ai(i),i.animate({d:a})):s&&(e={stroke:o,"stroke-width":s,zIndex:1},r&&(e.dashstyle=r),this.graph=this.chart.renderer.path(a).attr(e).add(n).shadow(t.shadow))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};bi(["group","trackerGroup","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;ki(i,"resize",e),ki(t,"destroy",function(){Ti(i,"resize",e)}),e(),t.invertGroups=e},plotGroup:function(e,t,i,n,o){var s=this[e],r=this.chart,a=this.xAxis,l=this.yAxis;return s||(this[e]=s=r.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(o)),s.translate(a?a.left:r.plotLeft,l?l.top:r.plotTop),s},render:function(){var e,t=this,i=t.chart,n=t.options,o=n.animation,s=o&&!!t.animate,r=t.visible?Ut:$t,a=n.zIndex,l=t.hasRendered,c=i.seriesGroup;e=t.plotGroup("group","series",r,a,c),t.markerGroup=t.plotGroup("markerGroup","markers",r,a,c),s&&t.animate(!0),t.getAttribs(),e.inverted=i.inverted,t.drawGraph&&t.drawGraph(),t.drawPoints(),t.drawDataLabels(),t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip===!1||t.sharedClipKey||l||(e.clip(i.clipRect),this.trackerGroup&&this.trackerGroup.clip(i.clipRect)),s?t.animate():l||t.afterAnimate(),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this,t=e.chart,i=e.isDirtyData,n=e.group;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:e.xAxis.left,translateY:e.yAxis.top})),e.translate(),e.setTooltipPoints(!0),e.render(),i&&Si(e,"updatedData")},setState:function(e){var t=this,i=t.options,n=t.graph,o=i.states,s=i.lineWidth;if(e=e||Qt,t.state!==e){if(t.state=e,o[e]&&o[e].enabled===!1)return;e&&(s=o[e].lineWidth||s+1),n&&!n.dashstyle&&n.attr({"stroke-width":s},e?0:500)}},setVisible:function(e,t){var i,n,o,s=this,r=s.chart,a=s.legendItem,l=s.group,c=s.tracker,d=s.dataLabelsGroup,u=s.markerGroup,h=s.points,p=r.options.chart.ignoreHiddenSeries,f=s.visible;if(s.visible=e=e===U?!f:e,i=e?"show":"hide",l&&l[i](),u&&u[i](),c)c[i]();else if(h)for(n=h.length;n--;)o=h[n],o.tracker&&o.tracker[i]();r.hoverSeries===s&&s.onMouseOut(),d&&d[i](),a&&r.legend.colorizeItem(s,e),s.isDirty=!0,s.options.stacking&&bi(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),p&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Si(s,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){var t=this;t.selected=e=e===U?!t.selected:e,t.checkbox&&(t.checkbox.checked=e),Si(t,e?"select":"unselect")},drawTracker:function(){var e,t,i=this,n=i.options,o=n.trackByArea,s=[].concat(o?i.areaPath:i.graphPath),r=s.length,a=i.chart,l=a.renderer,c=a.options.tooltip.snap,d=i.tracker,u=n.cursor,h=u&&{cursor:u},p=i.singlePoints,f=this.isCartesian&&this.plotGroup("trackerGroup",null,Ut,n.zIndex||1,a.trackerGroup),m=function(){a.hoverSeries!==i&&i.onMouseOver()},g=function(){n.stickyTracking||i.onMouseOut()};if(r&&!o)for(t=r+1;t--;)s[t]===Gt&&s.splice(t+1,0,s[t+1]-c,s[t+2],Xt),(t&&s[t]===Gt||t===r)&&s.splice(t,0,Xt,s[t-2]+c,s[t-1]);for(t=0;t<p.length;t++)e=p[t],s.push(Gt,e.plotX-c,e.plotY,Xt,e.plotX+c,e.plotY);d?d.attr({d:s}):(i.tracker=d=l.path(s).attr({isTracker:!0,"stroke-linejoin":"round",visibility:i.visible?Ut:$t,stroke:Kt,fill:o?Kt:Vt,"stroke-width":n.lineWidth+(o?0:2*c)}).on("mouseover",m).on("mouseout",g).css(h).add(f),Lt&&d.on("touchstart",m))}};var Wi=g(ji);pi.line=Wi,Ni.area=Ci(Pi,{threshold:0});var $i=g(ji,{type:"area",getSegmentPath:function(e){var t,i=ji.prototype.getSegmentPath.call(this,e),n=[].concat(i),o=this.options,s=i.length;if(3===s&&n.push(Xt,i[1],i[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)t<e.length-1&&o.step&&n.push(e[t+1].plotX,e[t].yBottom),n.push(e[t].plotX,e[t].yBottom);else this.closeSegment(n,e);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t){var i=this.yAxis.getThreshold(this.options.threshold);e.push(Xt,t[t.length-1].plotX,i,Xt,t[0].plotX,i)},drawGraph:function(){this.areaPath=[],ji.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,i=this.area;i?i.animate({d:e}):this.area=this.chart.renderer.path(e).attr({fill:p(t.fillColor,Ii(this.color).setOpacity(t.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});pi.area=$i,Ni.spline=Ci(Pi);var qi=g(ji,{type:"spline",getPointSpline:function(e,t,i){var n,o,s,r,a,l=1.5,c=l+1,d=t.plotX,u=t.plotY,h=e[i-1],p=e[i+1];if(h&&p){var f,m=h.plotX,g=h.plotY,v=p.plotX,y=p.plotY;n=(l*d+m)/c,o=(l*u+g)/c,s=(l*d+v)/c,r=(l*u+y)/c,f=(r-o)*(s-d)/(s-n)+u-r,o+=f,r+=f,o>g&&o>u?(o=vt(g,u),r=2*u-o):g>o&&u>o&&(o=yt(g,u),r=2*u-o),r>y&&r>u?(r=vt(y,u),o=2*u-r):y>r&&u>r&&(r=yt(y,u),o=2*u-r),t.rightContX=s,t.rightContY=r}return i?(a=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,n||d,o||u,d,u],h.rightContX=h.rightContY=null):a=[Gt,d,u],a}});pi.spline=qi,Ni.areaspline=Ci(Ni.area);var Ui=$i.prototype,Yi=g(qi,{type:"areaspline",closedStacks:!0,getSegmentPath:Ui.getSegmentPath,closeSegment:Ui.closeSegment,drawGraph:Ui.drawGraph});pi.areaspline=Yi,Ni.column=Ci(Pi,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});var Vi=g(ji,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){ji.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&bi(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var e,t,i=this,n=i.chart,o=i.options,s=o.stacking,r=o.borderWidth,a=0,l=i.xAxis,c=i.yAxis,u=l.reversed,h={};ji.prototype.translate.apply(i),o.grouping===!1?a=1:bi(n.series,function(n){var o=n.options;n.type===i.type&&n.visible&&i.options.group===o.group&&(o.stacking?(e=n.stackKey,h[e]===U&&(h[e]=a++),t=h[e]):o.grouping!==!1&&(t=a++),n.columnIndex=t)});var f=i.points,m=bt(l.transA)*(l.ordinalSlope||o.pointRange||l.closestPointRange||1),g=m*o.groupPadding,v=m-2*g,y=v/a,b=o.pointWidth,x=d(b)?(y-b)/2:y*o.pointPadding,w=p(b,y-2*x),_=gt(vt(w,1+2*r)),C=(u?a-(i.columnIndex||0):i.columnIndex)||0,k=x+(g+C*y-m/2)*(u?-1:1),T=o.threshold,S=i.translatedThreshold=c.getThreshold(T),E=p(o.minPointLength,5);bi(f,function(e){var t,o=yt(vt(-999,e.plotY),c.len+999),a=p(e.yBottom,S),l=e.plotX+k,d=gt(yt(o,a)),u=gt(vt(o,a)-d),h=c.stacks[(e.y<0?"-":"")+i.stackKey];s&&i.visible&&h&&h[e.x]&&h[e.x].setOffset(k,_),bt(u)<E&&E&&(u=E,d=bt(d-S)>E?a-E:S-(S>=o?E:0)),e.barX=l,e.pointWidth=w,e.shapeType="rect",e.shapeArgs=t=n.renderer.Element.prototype.crisp.call(0,r,l,d,_,u),r%2&&(t.y-=1,t.height+=1),e.trackerArgs=bt(u)<3&&Ci(e.shapeArgs,{height:6,y:d-3})})},getSymbol:Ht,drawLegendSymbol:$i.prototype.drawLegendSymbol,drawGraph:Ht,drawPoints:function(){var e,t=this,i=t.options,n=t.chart.renderer;bi(t.points,function(o){var s=o.plotY,r=o.graphic;s===U||isNaN(s)||null===o.y?r&&(o.graphic=r.destroy()):(e=o.shapeArgs,r?(Ai(r),r.animate(Ci(e))):o.graphic=r=n[o.shapeType](e).attr(o.pointAttr[o.selected?Jt:Qt]).add(t.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){for(var e,t,i,n,o,s,r=this,a=r.chart,l=a.renderer,c=+new Date,d=r.options,h=d.cursor,p=h&&{cursor:h},f=r.isCartesian&&r.plotGroup("trackerGroup",null,Ut,d.zIndex||1,a.trackerGroup),m=r.points,g=m.length,v=function(e){i=e.relatedTarget||e.fromElement,a.hoverSeries!==r&&u(i,"isTracker")!==c&&r.onMouseOver(),m[e.target._i].onMouseOver()},y=function(e){d.stickyTracking||(i=e.relatedTarget||e.toElement,u(i,"isTracker")!==c&&r.onMouseOut())};g--;)s=m[g],t=s.tracker,e=s.trackerArgs||s.shapeArgs,n=s.plotY,o=!r.isCartesian||n!==U&&!isNaN(n),delete e.strokeWidth,null!==s.y&&o&&(t?t.attr(e):(s.tracker=t=l[s.shapeType](e).attr({isTracker:c,fill:Kt,visibility:r.visible?Ut:$t}).on("mouseover",v).on("mouseout",y).css(p).add(s.group||f),Lt&&t.on("touchstart",v)),t.element._i=g)},alignDataLabel:function(e,t,i,n,o){var s=this.chart,r=s.inverted,a=e.below||e.plotY>p(this.translatedThreshold,s.plotSizeY),l=this.options.stacking||i.inside;e.shapeArgs&&(n=Ci(e.shapeArgs),r&&(n={x:s.plotWidth-n.y-n.height,y:s.plotHeight-n.x-n.width,width:n.height,height:n.width}),l||(r?(n.x+=a?0:n.width,n.width=0):(n.y+=a?n.height:0,n.height=0))),i.align=p(i.align,!r||l?"center":a?"right":"left"),i.verticalAlign=p(i.verticalAlign,r||l?"middle":a?"top":"bottom"),ji.prototype.alignDataLabel.call(this,e,t,i,n,o)},animate:function(e){var t=this,i=t.points,n=t.options;e||(bi(i,function(e){var i=e.graphic,o=e.shapeArgs,s=t.yAxis,r=n.threshold;i&&(i.attr({height:0,y:d(r)?s.getThreshold(r):s.translate(s.getExtremes().min,0,1,0,1)}),i.animate({height:o.height,y:o.y},n.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&bi(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),ji.prototype.remove.apply(e,arguments)}});pi.column=Vi,Ni.bar=Ci(Ni.column);var Gi=g(Vi,{type:"bar",inverted:!0});pi.bar=Gi,Ni.scatter=Ci(Pi,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Xi=g(ji,{type:"scatter",sorted:!1,requireSorting:!1,translate:function(){var e=this;ji.prototype.translate.apply(e),bi(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){for(var e,t=this,i=t.options.cursor,n=i&&{cursor:i},o=t.points,s=o.length,r=t.markerGroup,a=function(e){t.onMouseOver(),e.target._i!==U&&o[e.target._i].onMouseOver()},l=function(){t.options.stickyTracking||t.onMouseOut()};s--;)e=o[s].graphic,e&&(e.element._i=s);t._hasTracking?t._hasTracking=!0:(r.attr({isTracker:!0}).on("mouseover",a).on("mouseout",l).css(n),Lt&&r.on("touchstart",a))},setTooltipPoints:Ht});pi.scatter=Xi,Ni.pie=Ci(Pi,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});var Ki=g(zi,{init:function(){zi.prototype.init.apply(this,arguments);var t,i=this;return e(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),t=function(){i.slice()},ki(i,"select",t),ki(i,"unselect",t),i},setVisible:function(e){var t,i=this,n=i.series,o=n.chart,s=i.tracker,r=i.dataLabel,a=i.connector,l=i.shadowGroup;i.visible=e=e===U?!i.visible:e,t=e?"show":"hide",i.group[t](),s&&s[t](),r&&r[t](),a&&a[t](),l&&l[t](),i.legendItem&&o.legend.colorizeItem(i,e),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,o.redraw())},slice:function(e,t,i){var n,o=this,s=o.series,r=s.chart,a=o.slicedTranslation;P(i,r),t=p(t,!0),e=o.sliced=d(e)?e:!o.sliced,n={translateX:e?a[0]:r.plotLeft,translateY:e?a[1]:r.plotTop},o.group.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)}}),Qi={type:"pie",isCartesian:!1,pointClass:Ki,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this,t=e.points,i=e.startAngleRad;bi(t,function(t){var n=t.graphic,o=t.shapeArgs;n&&(n.attr({r:e.center[3]/2,start:i,end:i}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null},setData:function(e,t){ji.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw()},getCenter:function(){var e,t=this.options,n=this.chart,o=n.plotWidth,s=n.plotHeight,r=t.center.concat([t.size,t.innerSize||0]),a=yt(o,s);return _i(r,function(t,n){return e=/%$/.test(t),e?[o,s,a,a][n]*i(t)/100:t})},translate:function(){this.generatePoints();var e,t,i,n,o,s,r,a,l,c=0,d=this,u=0,h=1e3,p=d.options,f=p.slicedOffset,m=f+p.borderWidth,g=d.chart,v=d.startAngleRad=_t/180*((p.startAngle||0)%360-90),y=d.points,b=2*_t,x=p.dataLabels.distance,w=p.ignoreHiddenPoint,_=y.length;for(d.center=e=d.getCenter(),d.getX=function(t,i){return n=pt.asin((t-e[1])/(e[2]/2+x)),e[0]+(i?-1:1)*xt(n)*(e[2]/2+x)},a=0;_>a;a++)l=y[a],c+=w&&!l.visible?0:l.y;for(a=0;_>a;a++)l=y[a],o=c?l.y/c:0,t=ft((v+u*b)*h)/h,(!w||l.visible)&&(u+=o),i=ft((v+u*b)*h)/h,l.shapeType="arc",l.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:t,end:i},n=(i+t)/2,n>.75*b&&(n-=2*_t),l.slicedTranslation=_i([xt(n)*f+g.plotLeft,wt(n)*f+g.plotTop],ft),s=xt(n)*e[2]/2,r=wt(n)*e[2]/2,l.tooltipPos=[e[0]+.7*s,e[1]+.7*r],l.half=b/4>n?0:1,l.angle=n,l.labelPos=[e[0]+s+xt(n)*x,e[1]+r+wt(n)*x,e[0]+s+xt(n)*m,e[1]+r+wt(n)*m,e[0]+s,e[1]+r,0>x?"center":l.half?"right":"left",n],l.percentage=100*o,l.total=c;this.setTooltipPoints()},render:function(){var e=this;e.getAttribs(),this.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),this.drawDataLabels(),e.options.animation&&e.animate&&e.animate(),e.isDirty=!1},drawPoints:function(){var t,i,n,o,s,r=this,a=r.chart,l=a.renderer,c=r.options.shadow;bi(r.points,function(d){i=d.graphic,s=d.shapeArgs,n=d.group,o=d.shadowGroup,c&&!o&&(o=d.shadowGroup=l.g("shadow").attr({zIndex:4}).add()),n||(n=d.group=l.g("point").attr({zIndex:5}).add()),t=d.sliced?d.slicedTranslation:[a.plotLeft,a.plotTop],n.translate(t[0],t[1]),o&&o.translate(t[0],t[1]),i?i.animate(s):d.graphic=i=l.arc(s).setRadialReference(r.center).attr(e(d.pointAttr[Qt],{"stroke-linejoin":"round"})).add(d.group).shadow(c,o),d.visible===!1&&d.setVisible(!1)})},drawDataLabels:function(){var e,t,i,n,o,s,r,a,l,c,d,u=this,h=u.data,f=u.chart,m=u.options.dataLabels,g=p(m.connectorPadding,10),v=p(m.connectorWidth,1),y=p(m.softConnector,!0),b=m.distance,x=u.center,w=x[2]/2,_=x[1],C=b>0,k=[[],[]],T=2,S=function(e,t){return t.y-e.y},E=function(e,t){e.sort(function(e,i){return(i.angle-e.angle)*t})};if(m.enabled||u._hasPointLabels)for(ji.prototype.drawDataLabels.apply(u),bi(h,function(e){e.dataLabel&&k[e.half].push(e)}),s=k[0][0]&&k[0][0].dataLabel&&(k[0][0].dataLabel.getBBox().height||21);T--;){var D,A,M,N=[],P=[],I=k[T],B=I.length;if(E(I,T-.5),b>0){for(A=_-w-b;_+w+b>=A;A+=s)N.push(A);if(D=N.length,B>D){for(c=[].concat(I),c.sort(S),d=B;d--;)c[d].rank=d;for(d=B;d--;)I[d].rank>=D&&I.splice(d,1);B=I.length}for(d=0;B>d;d++){e=I[d],o=e.labelPos;var L,O,R=9999;for(O=0;D>O;O++)L=bt(N[O]-o[1]),R>L&&(R=L,M=O);if(d>M&&null!==N[d])M=d;else if(B-d+M>D&&null!==N[d])for(M=D-B+d;null===N[M];)M++;else for(;null===N[M];)M++;P.push({i:M,y:N[M]}),N[M]=null}P.sort(S)}for(d=0;B>d;d++){var H,F;e=I[d],o=e.labelPos,n=e.dataLabel,l=e.visible===!1?$t:Ut,F=o[1],b>0?(H=P.pop(),M=H.i,a=H.y,(F>a&&null!==N[M+1]||a>F&&null!==N[M-1])&&(a=F)):a=F,r=m.justify?x[0]+(T?-1:1)*(w+b):u.getX(0===M||M===N.length-1?F:a,T),n.attr({visibility:l,align:o[6]})[n.moved?"animate":"attr"]({x:r+m.x+({left:g,right:-g}[o[6]]||0),y:a+m.y-10}),n.moved=!0,C&&v&&(t=e.connector,i=y?[Gt,r+("left"===o[6]?5:-5),a,"C",r,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Xt,o[4],o[5]]:[Gt,r+("left"===o[6]?5:-5),a,Xt,o[2],o[3],Xt,o[4],o[5]],t?(t.animate({d:i}),t.attr("visibility",l)):e.connector=t=u.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||e.color||"#606060",visibility:l,zIndex:3}).translate(f.plotLeft,f.plotTop).add())}}},alignDataLabel:Ht,drawTracker:Vi.prototype.drawTracker,drawLegendSymbol:$i.prototype.drawLegendSymbol,getSymbol:function(){}};Qi=g(ji,Qi),pi.pie=Qi,e(Highcharts,{Axis:z,CanVGRenderer:Hi,Chart:q,Color:Ii,Legend:$,MouseTracker:W,Point:zi,Tick:R,Tooltip:j,Renderer:Y,Series:ji,SVGRenderer:Bi,VMLRenderer:Li,arrayMin:S,arrayMax:E,charts:Ft,dateFormat:X,pathAnim:Q,getOptions:L,hasBidiBug:It,isTouchDevice:Mt,numberFormat:y,seriesTypes:pi,setOptions:B,addEvent:ki,removeEvent:Ti,createElement:m,discardElement:A,css:f,each:bi,extend:e,map:_i,merge:Ci,pick:p,splat:h,extendClass:g,pInt:i,wrap:x,svg:Pt,canvas:Bt,vml:!Pt&&!Bt,product:"Highcharts",version:"2.3.5"})}(),function(e){var t=e.each,i=function(e){this.init(e)};e.extend(i.prototype,{init:function(e){this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},dataFound:function(){this.parseTypes(),this.findHeaderRow(),this.parsed(),this.complete()},parseCSV:function(){var e,i=this.options,n=i.csv,o=this.columns,s=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;n&&(e=n.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(i.lineDelimiter||"\n"),t(e,function(e,n){if(n>=s&&r>=n){var c=e.split(i.itemDelimiter||",");t(c,function(e,t){t>=a&&l>=t&&(o[t-a]||(o[t-a]=[]),o[t-a][n-s]=e)})}}),this.dataFound())},parseTable:function(){var e,i=this.options,n=i.table,o=this.columns,s=i.startRow||0,r=i.endRow||Number.MAX_VALUE,a=i.startColumn||0,l=i.endColumn||Number.MAX_VALUE;n&&("string"==typeof n&&(n=document.getElementById(n)),t(n.getElementsByTagName("tr"),function(i,n){e=0,n>=s&&r>=n&&t(i.childNodes,function(t){("TD"===t.tagName||"TH"===t.tagName)&&e>=a&&l>=e&&(o[e]||(o[e]=[]),o[e][n-s]=t.innerHTML,e+=1)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var e=this,t=this.options,i=t.googleSpreadsheetKey,n=this.columns;i&&jQuery.getJSON("https://spreadsheets.google.com/feeds/cells/"+i+"/"+(t.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",function(t){var i,o,s=t.feed.entry,r=s.length,a=0,l=0;for(o=0;r>o;o++)i=s[o],a=Math.max(a,i.gs$cell.col),l=Math.max(l,i.gs$cell.row);for(o=0;a>o;o++)n[o]=new Array(l);for(o=0;r>o;o++)i=s[o],n[i.gs$cell.col-1][i.gs$cell.row-1]=i.content.$t;e.dataFound()})},findHeaderRow:function(){var e=0;t(this.columns,function(t){"string"!=typeof t[0]&&(e=null)}),this.headerRow=0},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):e},parseTypes:function(){for(var e,t,i,n,o,s=this.columns,r=s.length;r--;)for(e=s[r].length;e--;)t=s[r][e],i=parseFloat(t),n=this.trim(t),n==i?(s[r][e]=i,i>31536e6?s[r].isDatetime=!0:s[r].isNumeric=!0):(o=this.parseDate(t),0!==r||"number"!=typeof o||isNaN(o)?s[r][e]=n:(s[r][e]=o,s[r].isDatetime=!0))},dateFormats:{"YYYY-mm-dd":{regex:"^([0-9]{4})-([0-9]{2})-([0-9]{2})$",parser:function(e){return Date.UTC(+e[1],e[2]-1,+e[3])}}},parseDate:function(e){var t,i,n,o,s=this.options.parseDate;if(s&&(t=s),"string"==typeof e)for(i in this.dateFormats)n=this.dateFormats[i],o=e.match(n.regex),o&&(t=n.parser(o));return t},rowsToColumns:function(e){var t,i,n,o,s;if(e)for(s=[],i=e.length,t=0;i>t;t++)for(o=e[t].length,n=0;o>n;n++)s[n]||(s[n]=[]),s[n][t]=e[t][n];return s},parsed:function(){this.options.parsed&&this.options.parsed.call(this,this.columns)},complete:function(){var e,t,i,n,o,s,r,a,l,c=this.columns,d=this.options;if(d.complete){for(c.length>1&&(i=c.shift(),0===this.headerRow&&i.shift(),e=i.isNumeric||i.isDatetime,e||(t=i),i.isDatetime&&(n="datetime")),o=[],a=0;a<c.length;a++){for(0===this.headerRow&&(r=c[a].shift()),s=[],l=0;l<c[a].length;l++)s[l]=void 0!==c[a][l]?e?[i[l],c[a][l]]:c[a][l]:null;o[a]={name:r,data:s}}d.complete({xAxis:{categories:t,type:n},series:o})}}}),e.Data=i,e.data=function(e){return new i(e)},e.wrap(e.Chart.prototype,"init",function(i,n,o){var s=this;n&&n.data?e.data(e.extend(n.data,{complete:function(r){var a=[];t(r.series,function(e,t){a[t]=e.data,e.data=null}),n=e.merge(r,n),t(a,function(e,t){n.series[t].data=e}),i.call(s,n,o)}})):i.call(s,n,o)})}(Highcharts),function(e){function t(e){for(var t=e.length;t--;)"number"==typeof e[t]&&(e[t]=Math.round(e[t])-.5);return e}var i,n=e.Chart,o=e.addEvent,s=e.removeEvent,r=e.createElement,a=e.discardElement,l=e.css,c=e.merge,d=e.each,u=e.extend,h=Math,p=h.max,f=document,m=window,g=e.isTouchDevice,v="M",y="L",b="div",x="hidden",w="none",_="highcharts-",C="absolute",k="px",T=e.Renderer.prototype.symbols,S=e.getOptions();
u(S.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),S.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:w,color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},S.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},e.post=function(e,t){var i,n;n=r("form",{method:"post",action:e,enctype:"multipart/form-data"},{display:w},f.body);for(i in t)r("input",{type:x,name:i,value:t[i]},null,n);n.submit(),a(n)},u(n.prototype,{getSVG:function(t){var n,o,s,l,h=this,p=c(h.options,t);return f.createElementNS||(f.createElementNS=function(e,t){return f.createElement(t)}),o=r(b,null,{position:C,top:"-9999em",width:h.chartWidth+k,height:h.chartHeight+k},f.body),u(p.chart,{renderTo:o,forExport:!0}),p.exporting.enabled=!1,p.chart.plotBackgroundImage=null,p.series=[],d(h.series,function(e){l=c(e.options,{animation:!1,showCheckbox:!1,visible:e.visible}),l.isInternal||p.series.push(l)}),n=new e.Chart(p),d(["xAxis","yAxis"],function(e){d(h[e],function(t,o){var s=n[e][o],r=t.getExtremes(),a=r.userMin,l=r.userMax;(a!==i||l!==i)&&s.setExtremes(a,l,!0,!1)})}),s=n.container.innerHTML,p=null,n.destroy(),a(o),s=s.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),s=s.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),2===s.match(/ xmlns="/g).length&&(s=s.replace(/xmlns="[^"]+"/,"")),s},exportChart:function(t,i){var n=this.options.exporting,o=this.getSVG(c(n.chartOptions,i));t=c(n,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width,scale:t.scale||2,svg:o})},print:function(){var e=this,t=e.container,i=[],n=t.parentNode,o=f.body,s=o.childNodes;e.isPrinting||(e.isPrinting=!0,d(s,function(e,t){1===e.nodeType&&(i[t]=e.style.display,e.style.display=w)}),o.appendChild(t),m.print(),setTimeout(function(){n.appendChild(t),d(s,function(e,t){1===e.nodeType&&(e.style.display=i[t])}),e.isPrinting=!1},1e3))},contextMenu:function(e,t,i,n,s,a){var c,h,f,m,g=this,v=g.options.navigation,y=v.menuItemStyle,x=g.chartWidth,T=g.chartHeight,S="cache-"+e,E=g[S],D=p(s,a),A="3px 3px 10px #888";E||(g[S]=E=r(b,{className:_+e},{position:C,zIndex:1e3,padding:D+k},g.container),c=r(b,null,u({MozBoxShadow:A,WebkitBoxShadow:A,boxShadow:A},v.menuStyle),E),h=function(){l(E,{display:w})},o(E,"mouseleave",function(){f=setTimeout(h,500)}),o(E,"mouseenter",function(){clearTimeout(f)}),d(t,function(e){if(e){var t=r(b,{onmouseover:function(){l(this,v.menuItemHoverStyle)},onmouseout:function(){l(this,y)},innerHTML:e.text||g.options.lang[e.textKey]},u({cursor:"pointer"},y),c);t.onclick=function(){h(),e.onclick.apply(g,arguments)},g.exportDivElements.push(t)}}),g.exportDivElements.push(c,E),g.exportMenuWidth=E.offsetWidth,g.exportMenuHeight=E.offsetHeight),m={display:"block"},i+g.exportMenuWidth>x?m.right=x-i-s-D+k:m.left=i-D+k,n+a+g.exportMenuHeight>T?m.bottom=T-n-D+k:m.top=n+a-D+k,l(E,m)},addButton:function(e){function t(){n.attr(v),i.attr(g)}var i,n,o,s,r=this,a=r.renderer,l=c(r.options.navigation.buttonOptions,e),d=l.onclick,h=l.menuItems,p=l.width,f=l.height,m=l.borderWidth,g={stroke:l.borderColor},v={stroke:l.symbolStroke,fill:l.symbolFill},y=l.symbolSize||12;r.btnCount||(r.btnCount=0),s=r.btnCount++,r.exportDivElements||(r.exportDivElements=[],r.exportSVGElements=[]),l.enabled!==!1&&(i=a.rect(0,0,p,f,l.borderRadius,m).align(l,!0).attr(u({fill:l.backgroundColor,"stroke-width":m,zIndex:19},g)).add(),o=a.rect(0,0,p,f,0).align(l).attr({id:l._id,fill:"rgba(255, 255, 255, 0.001)",title:r.options.lang[l._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){n.attr({stroke:l.hoverSymbolStroke,fill:l.hoverSymbolFill}),i.attr({stroke:l.hoverBorderColor})}).on("mouseout",t).on("click",t).add(),h&&(d=function(){t();var e=o.getBBox();r.contextMenu("menu"+s,h,e.x,e.y,p,f)}),o.on("click",function(){d.apply(r,arguments)}),n=a.symbol(l.symbol,l.symbolX-y/2,l.symbolY-y/2,y,y).align(l,!0).attr(u(v,{"stroke-width":l.symbolStrokeWidth||1,zIndex:20})).add(),r.exportSVGElements.push(i,o,n))},destroyExport:function(){var e,t,i=this;for(e=0;e<i.exportSVGElements.length;e++)t=i.exportSVGElements[e],t.onclick=t.ontouchstart=null,i.exportSVGElements[e]=t.destroy();for(e=0;e<i.exportDivElements.length;e++)t=i.exportDivElements[e],s(t,"mouseleave"),i.exportDivElements[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,a(t)}}),T.exportIcon=function(e,i,n,o){return t([v,e,i+n,y,e+n,i+o,e+n,i+.8*o,e,i+.8*o,"Z",v,e+.5*n,i+.8*o,y,e+.8*n,i+.4*o,e+.4*n,i+.4*o,e+.4*n,i,e+.6*n,i,e+.6*n,i+.4*o,e+.2*n,i+.4*o,"Z"])},T.printIcon=function(e,i,n,o){return t([v,e,i+.7*o,y,e+n,i+.7*o,e+n,i+.4*o,e,i+.4*o,"Z",v,e+.2*n,i+.4*o,y,e+.2*n,i,e+.8*n,i,e+.8*n,i+.4*o,"Z",v,e+.2*n,i+.7*o,y,e,i+o,e+n,i+o,e+.8*n,i+.7*o,"Z"])},n.prototype.callbacks.push(function(e){var t,i=e.options.exporting,n=i.buttons;if(i.enabled!==!1){for(t in n)e.addButton(n[t]);o(e,"destroy",e.destroyExport)}})}(Highcharts),function(e){var t=0;e.fn.busy=function(i){var n=function(n){var o,s=n.data();o="[object Object]"===Object.prototype.toString.apply(i)?i:n.offset(),t+=1,s.__busyId="__busy_"+t,s.__busyPreOpacity=n.css("opacity"),n.css("opacity","0.6");var r=e("<div id="+s.__busyId+" class='busy-image'></div>");n.append(r),r=e("#"+s.__busyId);var a=e(r).height(),l=e(r).width(),c=n.height(),d=n.width();e(r).css("top",o.top+(c-a)/2),e(r).css("left",o.left+(d-l)/2)},o=function(t){var i=t.data();i.__busyId&&(t.css("opacity",i.__busyPreOpacity),e("div#"+i.__busyId).remove(),t.removeData("__busyId"),t.removeData("opacity"))};return this.each(function(){var t=e(this);if("[object Function]"===Object.prototype.toString.apply(i))n(t),e.wait(10).then(function(){i(),o(t)});else{var s=t.data();i===!1||s.__busyId?o(t):n(t)}})}}(jQuery),$.widget("custom.combobox",{_create:function(){this.wrapper=$("<span>").addClass("custom-combobox").insertAfter(this.element),this.element.hide(),this._createAutocomplete(),this._createShowAllButton()},_createAutocomplete:function(){var e=this.element.children(":selected"),t=e.val()?e.text():"";this.input=$("<input>").appendTo(this.wrapper).val(t).attr("title","").addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,source:$.proxy(this,"_source")}).tooltip({classes:{"ui-tooltip":"ui-state-highlight"}}),this._on(this.input,{autocompleteselect:function(e,t){t.item.option.selected=!0,this._trigger("select",e,{item:t.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var e=this.input,t=!1;$("<a>").attr("tabIndex",-1).attr("title","Show All Items").tooltip().appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").on("mousedown",function(){t=e.autocomplete("widget").is(":visible")}).on("click",function(){e.trigger("focus"),t||e.autocomplete("search","")})},_source:function(e,t){var i=new RegExp($.ui.autocomplete.escapeRegex(e.term),"i");t(this.element.children("option").map(function(){var t=$(this).text();return!this.value||e.term&&!i.test(t)?void 0:{label:t,value:t,option:this}}))},_removeIfInvalid:function(e,t){if(!t.item){var i=this.input.val(),n=i.toLowerCase(),o=!1;this.element.children("option").each(function(){return $(this).text().toLowerCase()===n?(this.selected=o=!0,!1):void 0}),o||(this.input.val("").attr("title",i+" didn't match any item").tooltip("open"),this.element.val(""),this._delay(function(){this.input.tooltip("close").attr("title","")},2500),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}}),$("#combobox").combobox(),$("#toggle").on("click",function(){$("#combobox").toggle()}),String.prototype.insertAt=function(e,t){return this.substr(0,e)+t+this.substr(e)},$(document).ready(function(){function e(){$(this).scrollTop()>=150?$(".navigation").addClass("-is-stuck"):$(this).scrollTop()<=10&&$(".navigation").removeClass("-is-stuck")}select2Options={dropdownAutoWidth:!0,width:"element",containerCssClass:"select2-container",dropdownCssClass:"select2-dropdown"};var t={theme:"advanced",width:800,plugins:"autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,media,searchreplace,print,contextmenu,noneditable,nonbreaking,xhtmlxtras,uploadimage",theme_advanced_buttons1:"undo,redo,|,bold,italic,underline,strikethrough,sub,sup,|,formatselect,fontselect,fontsizeselect",theme_advanced_buttons2:"justifyleft,justifycenter,justifyright,justifyfull,|,bullist,numlist,|,outdent,indent,|,forecolor,backcolor,|,charmap,emotions",theme_advanced_buttons3:"uploadimage,hr,advhr,removeformat,visualaid,iespell,spellchecker,|,link,unlink,anchor,image,|,cleanup,code,|,help",theme_advanced_buttons4:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!0,uploadimage_form_url:"/tinymce_uploads"},i={theme:"advanced",width:800,plugins:t.plugins+",print",theme_advanced_buttons1:"print,|,code",theme_advanced_buttons2:null,theme_advanced_buttons3:null,theme_advanced_buttons4:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!0,content_css:"/assets/tinymce-overrides.css?"+(new Date).getTime(),theme_advanced_resizing_use_cookie:!1},n={theme:"advanced",width:2048,plugins:t.plugins+",print",theme_advanced_buttons1:"print,|,code",theme_advanced_buttons2:null,theme_advanced_buttons3:null,theme_advanced_buttons4:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!0,content_css:"/assets/tinymce-overrides.css?"+(new Date).getTime(),theme_advanced_resizing_use_cookie:!1},o=$.extend({},t,{plugins:t.plugins+",noneditable",content_css:"/assets/application.css?"+(new Date).getTime()});$("form:not(.dispatch):not(.vendor-statement) textarea.wysiwyg:not(.wysiwyg-site-css)").livequery(function(){$(this).tinymce(t)}),$("form.dispatch textarea.wysiwyg").tinymce(i),$("form.vendor-statement textarea.wysiwyg").tinymce(n),$("form textarea.wysiwyg.wysiwyg-site-css").tinymce(o),$("form").on("focus","textarea.wysiwyg-on-focus",function(){$(this).tinymce($.merge(t,{width:400}))}),$("form").on("blur","textarea.wysiwyg-on-focus",function(){}),$(".sortable-list").sortable({containment:"parent",axis:"y",opacity:.7,update:function(){var e=$(this),t=e.data("url"),i=[];e.find("li").each(function(e,t){i.push($(t).attr("id"))}),$.ajax({url:t,type:"POST",data:{ids:i},success:function(){},error:function(e,t){alert("Error updating: "+t)}})}}),$(".sortable-table").sortable({items:"tr",containment:"parent",axis:"y",opacity:.7,update:function(){var e=$(this);e.find("tr").each(function(e,t){$(t).find("input.sort_order").val(e)});var t=e.data("url");if(t){var i=e.find("tr.sortable td.id").map(function(e,t){return $(t).text()});$.ajax({url:t,type:"POST",data:{ids:i.get()},success:function(){},error:function(e,t){alert("Error updating: "+t)}})}}}),$("table.admin-table").fixedtableheader(),$("form").on("click","a.remove_fields",function(e){confirm("Are you sure you want to delete this?")||(e.preventDefault(),e.stopPropagation())}),$(".badge").livequery(function(){var e=$(this),t=e.data("value");e.iosbadge({content:t,theme:"red",size:20})}),$("select:not(.select2,.selectBox)").livequery(function(){var e=$(this);e.selectBox({menuSpeed:"fast",menuTransition:"fade"})}),$("input.timepicker").livequery(function(){var e=$(this);e.timepicker({timeFormat:"g:i A",step:15})}),$("input.pickup-timepicker").livequery(function(){var e=$(this);e.timepicker({minTime:"5:00am",maxTime:"8:00pm",timeFormat:"g:i A",step:5})}),$(".datepicker").livequery(function(){var e=$(this),t=e.data("input-id");e.datepicker({dateFormat:"mm/dd/yy",hideIfNoPrevNext:!0,maxDate:"+2Y",onSelect:function(e){$("#"+t).val(e).change()}}),e.datepicker("setDate",$("#"+t).val())}),$("input.datepicker-popup").live("click",function(){var e=$(this),t="popup-"+Math.ceil(1e4*Math.random()),i="datepicker-input-"+Math.ceil(1e4*Math.random()),n="<div id="+t+">"+'<div class="datepicker" data-input-id="'+i+'"></div>'+"</div>";return e.removeAttr("id"),e.attr("id",i),"in"===e.attr("data-inside")?!1:(e.attr("data-inside","in"),PPP.modalHTML(n),e.removeAttr("data-inside"),void 0)}),$("a.modal").live("click",function(e){e.preventDefault();var t=!1;$(this).hasClass("vendor-menu")&&(t=!0),PPP.modalURL($(this).attr("href"),t)}),$("a.modal-iframe").live("click",function(e){e.preventDefault(),PPP.modalIFrame($(this).attr("href"))}),$.ui.dialog.prototype.options.autoReposition=!0,$(window).resize(function(){$(".ui-dialog-content:visible").each(function(){var e=$(this).data("dialog");e.options.autoReposition&&e.option("position",e.options.position)})}),$("form").submit(function(e){return $(this).data("clicked")?(e.preventDefault(),!1):($(this).data("clicked",!0),!0)}),$("table.admin-table").length||$(window).on("scroll",e)});